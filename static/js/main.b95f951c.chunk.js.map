{"version":3,"sources":["API/commons.js","Cache/CacheCommons.js","Cache/CacheSquadra.js","API/ApiCalendario.js","Cache/CacheCampionato.js","Components/Calendario/Partita.js","Components/Calendario/PartiteBox.js","Components/Calendario/Giornata.js","Components/Varie/Loader.js","assets/logo.png","Cache/CachePreferiti.js","Components/Varie/Preferiti.js","Components/Varie/Navbar.js","Pages/Calendario.js","API/ApiCampionati.js","Components/Campionati/CampLarge.js","Pages/Campionati.js","API/ApiInCorso.js","API/ApiMarcatori.js","Components/Marcatori/Marcatore.js","Components/Marcatori/MarcatoriBox.js","API/ApiClassifica.js","Components/Classifica/Classifica.js","Components/Classifica/ClassificaBox.js","Components/Campionati/SquadraBox.js","Pages/Campionato.js","Cache/CacheSocieta.js","Cache/CacheVisualizzazioni.js","Components/Campionati/CampSmall.js","Components/Salvati/HomeCard.js","Components/Salvati/Societa.js","Components/Modals/GestisciCampionati.js","Components/Modals/GestisciSocieta.js","Pages/Home.js","API/ApiPartita.js","Cache/CachePartita.js","Components/Partita/Azione.js","Components/Partita/Abitri.js","Components/Partita/LeftPanel.js","Components/Varie/ModalLoader.js","Components/Partita/Scoreboard.js","Components/Partita/TabellaSquadre/Giocatori.js","Components/Partita/TabellaSquadre/Tecnici.js","Components/Partita/TabellaSquadre/Squadra.js","Components/Partita/Timeline/Evento.js","Components/Partita/Timeline/Labels.js","Components/Partita/Timeline/TimelineOrizz.js","Components/Partita/Timeline/TimelineVert.js","Components/Partita/ErrorePartita.js","Pages/Partita.js","Components/Partita/ProvaPartita.js","API/ApiSquadra.js","Cache/CacheGiocatori.js","Components/Squadra/Campionato.js","Components/Squadra/Societa.js","Components/Classifica/ClassificaSquadra.js","Components/Marcatori/MarcatoriSquadra.js","Components/Squadra/SquadraBox.js","Pages/Squadra.js","Pages/SocietaAll.js","Components/Classifica/ClassificaSocieta.js","Pages/Societa.js","Components/Salvati/Squadra.js","Pages/Salvati.js","Pages/Guida.js","App.js","serviceWorker.js","index.js"],"names":["titleCase","str","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","polishString","replaceAll","trim","parseCompleteTag","tag","type","props","params","content","openTagStr","substr","indexOf","forEach","p","push","parseProperty","parseParams","filter","elem","ident","value","e","lastIndexOf","parseIsleTag","name","replace","substring","ind","extractProp","prop","console","log","removeTags","tagname","multiple","removeContent","re","RegExp","getCacheArray","ok","arr","x","localStorage","getItem","Error","JSON","parse","setItem","stringify","expand","label","ret","element","compress","getObjectFromCache","obj","size","next","array","Contains","id","i","length","cacheSquadra","nome","logo","abbr","camp","camp_abb","parseInt","squadre","selected","soc","y","extractSocietaID","getCachedSquadra","getCachedSquadraByName","CaricaCalendario","idc","then","$","append","load","data","rem","html","calendario","table","lastgiornata","rows","find","giornata","GIORNATA","parseGameDate","a","each","partita","PARTITA","cells","this_giornata","attr","day","hour","score","teams","teams_id","teamA","idt","team","team1","fullname","smallname","teamB","idp","undefined","partite","splice","pdate","d","Date","sort","b","parseCalendario","remove","getCachedCampionati","getCachedCampionato","Partita","PartitaDaFare","className","campAbbr","src","alt","PartitaAttiva","to","GiornataVuota","style","color","PartiteBox","key","Giornata","marginTop","Loader","role","IsSaved","path","Preferiti","state","saved","this","salvati","DisSalva","setState","Salva","title","onClick","salvaComePreferito","Component","PreferitiFake","disabled","Navbar","active","links","display","url","toggle","canBeSaved","t","padding","width","margin","toggleNavbar","l","Elem","Config","Calendario","location","pathname","id_camp","match","loaded","window","scrollTo","cal","g","caricaCampionati","cache","camps","caricaWrapper","fetch","redirect","res","text","working","parseCampionato","season","cacheCampionato","carica","catch","alert","dur_tempo","season_str","img_tag","teams_str","info","Img","height","CampLarge","borderRadius","position","cursor","query","textAlign","index","Campionati","campionati","caricaPartite","ajax","method","success","cachedCampionati","cachedSquadre","campionato","matches","maxLive","current","min","cachedCamp","c","extractContentByClass","isNaN","matchDayNum","dayHour","parsePlaying","supp","prepareStringForParsing","escape","input","wclass","fun","ids","fun2","caricaMarcatori","tipo_stats","marcatori_loaded","parseWdef","def","setWdef","marcatori","gioc","pos","idpl","flag","goals","assists","diretti","rigori","blu","rossi","prep","dir","rig","scambia","sx","dx","parseMarcatori","Marcatore","td","verticalAlign","minWidth","callback","outline","show","fontSize","MarcatoriBox","dettagli","showing","mostraTutti","ms","mostra_tutti","marc","m","maxHeight","borderBottom","caricaClassifica","classifica","newobj","small","punti","gte","vte","pte","pse","rft","rst","diff","pen","check","val","parseClassifica","caricaClassificaSquadra","clas","Classifica","ClassificaBox","SquadraBox","maxWidth","TextAlign","Campionato","ultima_giornata","prox_giornata","calend_loaded","incorso","incorso_load","today","parseDate","last","last_day","next_day","DueGiornate","creaSocieta","groupBy","societa","Object","keys","selectBestValue","s","xs","reduce","rv","values","names","count","getSocieta","getCachedVisCamp","getCachedVisSocieta","CampSmall","HomeCard","children","Societa","GestisciCampionati","update","close","prev","backgroundColor","overflow","btnStyle","mostra","nascondi","save","GestisciSocieta","Home","societa_ok","recenti","recenti_load","showCampionati","showCampionati_modal","showSocieta","showSocieta_modal","concat","CaricaPartiteRecenti","updateVisCampionato","updateVisSocieta","referees","ref1","ref2","aus","SQUADRA","girone","tempo","date","place","goalsA","goalsB","falliA","falliB","currentTime","playing","actions","giocatori","tecnici","AZIONE","period","time","action","action_supp","player","number","CaricaPartita","error","CheckIfCachedMatch","firstTable","secondTable","thirdTable","tables","cells1","cells2","matchComp","fullCamp","scoreStr","div1","div2","div3","currentTimestamp","scores","inserisciDati1","actionStr","actionTable","inp","row","actual","openTag","contentTag","cell","parseTable","parseAzione","actA","ac","actB","tableTeam","formatTeamTable","parseTeamTable","tableReport","retrieveReferees","parsePartita","CachePartita","lookForPlayer","numb","lookForPlayerRecursive","azione","cell1","cell2","includes","primaRiga","nomeSquadra","addClass","removeAttr","theads","el","removeColumn","numCol","remHead","removeClass","tbodies","getContent","rows_gioc","num","ruolo","i5","gol","rows_tecn","createElement","badge","img","Azione","Arbitro","Abitri","show12","show2","showa","LeftPanel","ModalLoader","tabIndex","Scoreboard","ScoreboardSmall","ScoreboardLarge","SquadraSmall","paddingRight","paddingLeft","Falli","SquadraLarge","fontWeight","Giocatori","Giocatore","aria-hidden","Tecnici","colSpan","Tecnico","Squadra","Evento","minxtempo","poss","top","left","EventoBlock","Fallo","Timeout","Gol","Blu","Rosso","Ammonizione","Diretto","Rigore","Labels","totalMin","prepare","Label","TimelineOrizz","actionsA","actionsB","TimelineVert","paddingBottom","ErrorePartita","callBack","id_partita","intervalID","CaricaDati","setInterval","bind","clearInterval","history","goBack","GIOCATORE","idgc","naz","presenze","assist","TECNICO","CaricaSquadra","CheckIfCachedTeam","tecn","idq","id_team","this_sq","parseTableGiocatori","parseTableTecnici","caricaSquadraOnline","CacheGiocatori","ClassificaSquadra","ActualClassifica","MarcatoriSquadra","f","nv","cached_team","cached_camp","squadra_loaded","j","CampionatoSquadra","SocietaAll","SocietaBlock","ClassificaSocieta","classifiche","sq","prevState","ClassificaElem","id_soc","cached_soc","future","future_load","CaricaPartiteInCorsoSocieta","CaricaPartiteFutureSocieta","Card","Salvati","partiteID","Guida","href","target","App","basename","exact","component","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.b95f951c.chunk.js","sourcesContent":["import $ from 'jquery'\r\n\r\n// ----- TITLE CASE -----\r\nexport function titleCase(str) {\r\n    return str.toLowerCase().split(' ').map(word => (word.charAt(0).toUpperCase() + word.slice(1))).join(' ');\r\n}\r\n\r\n// ----- POLISH STRING -----\r\nexport function polishString(str) {\r\n    str = str.replaceAll(\"<br>\", \" \");\r\n    str = str.replaceAll(/[ ]+/g, \" \");\r\n    str = str.replaceAll(/\\t/g, \"\");\r\n    str = str.replaceAll(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n    str = str.trim();\r\n    return str;\r\n}\r\n\r\n// ----- PARSE A COMPLETE TAG <tag>...</tag> -----\r\nexport function parseCompleteTag(str) {\r\n    var tag = { type: \"\", props: [], params: [], content: \"\" };\r\n\r\n    var openTagStr = str.substr(0, str.indexOf(\">\")).trim();\r\n    tag.type = openTagStr.substr(1, openTagStr.indexOf(\" \"));\r\n    openTagStr = openTagStr.substr(openTagStr.indexOf(\" \") + 1);\r\n    openTagStr = openTagStr.replaceAll(/=\" /gm, '=\"');\r\n    var props = openTagStr.split(/\" /g);\r\n    props.forEach(p => {\r\n        tag.props.push(parseProperty(p + '\"'));\r\n    });\r\n\r\n    try {\r\n        tag.params = parseParams(tag.props.filter(elem => elem.ident === \"config_params\")[0].value);\r\n    } catch (e) { }\r\n\r\n    // content\r\n    str = str.substr(str.indexOf(\">\") + 1)\r\n    tag.content = str.substr(0, str.lastIndexOf(\"<\")).trim();\r\n\r\n    return tag;\r\n}\r\n\r\n// ----- PARSE A TAG WITHOUT CLOSING TAG <img/>\r\nexport function parseIsleTag(str) {\r\n    var tag = { type: \"\", props: [], params: [], content: \"\" };\r\n\r\n    tag.type = str.substr(1, str.indexOf(\" \"));\r\n    str = str.substr(str.indexOf(\" \") + 1);\r\n\r\n    str = str.substr(0, str.indexOf(\">\")).trim();\r\n    str = str.replaceAll(\"'\", \"\\\"\");\r\n    var props = str.split(/\" /g);\r\n    props.forEach(p => {\r\n        tag.props.push(parseProperty(p + '\"'));\r\n    });\r\n\r\n    return tag;\r\n}\r\n\r\n// ----- PARSE TABLE -----\r\nexport function parseTable(inp) {\r\n    var table = { id: \"\", props: [], rows: [] };\r\n\r\n    let str = polishString(inp);\r\n\r\n    // retrieving opening tag\r\n    let openTagStr = str.substr(0, str.indexOf(\">\") + 1).trim();\r\n    str = str.replaceAll(openTagStr, \"\");\r\n    openTagStr = openTagStr.substr(openTagStr.indexOf(\" \") + 1);\r\n    let props = openTagStr.split(/\" /g);\r\n    $.each(props, i => {\r\n        table.props.push(parseProperty(props[i] + '\"'));\r\n    });\r\n\r\n    // content\r\n    let content = str.substr(0, str.indexOf(\"</table\"));\r\n    content = content.replaceAll(\"<thead>\", \"\");\r\n    content = content.replaceAll(\"</thead>\", \"\");\r\n    content = content.replaceAll(\"<tbody>\", \"\");\r\n    content = content.replaceAll(\"</tbody>\", \"\");\r\n    content = content.substr(content.indexOf(\"<tr>\"), content.lastIndexOf(\"</tr>\") + 5);\r\n\r\n    do {\r\n        let current = content.substr(0, content.indexOf(\"</tr>\") + 5);\r\n        content = content.replaceAll(current, \"\");\r\n        current = current.substr(0, current.length - 5).substr(4);\r\n        var row = { cells: [] };\r\n        do {\r\n            let actual = current.substr(0, current.indexOf(\"</td>\") + 5);\r\n            current = current.replaceAll(actual, \"\");\r\n            let openTag = actual.substr(0, actual.indexOf(\">\") + 1)\r\n            let contentTag = actual.replaceAll(openTag, \"\");\r\n            openTag = openTag.substr(4);\r\n            var cell = { props: [], content: \"\" };\r\n            props = openTagStr.split(/\" /g);\r\n            props.forEach(i => {\r\n                cell.props.push(parseProperty(props[i] + '\"'));\r\n            });\r\n            cell.content = contentTag.substr(0, contentTag.length - 5);\r\n            row.cells.push(cell);\r\n\r\n        } while (current !== \"\");\r\n        table.rows.push(row);\r\n    } while (content !== \"\");\r\n\r\n    return table;\r\n}\r\n\r\n// ------ PARSE A PROPERTY -----\r\nexport function parseProperty(str) {\r\n    str = str.replace(\"'\", \"\\\"\");\r\n    let id = str.substring(0, str.indexOf(\"=\"));\r\n    let val = str.substring(str.indexOf(\"\\\"\") + 1, str.lastIndexOf(\"\\\"\"));\r\n    return { name: id, value: val };\r\n}\r\n\r\n// ----- PARSE PARAMS (params property of some tags) -----\r\nexport function parseParams(str) {\r\n    return str.split(\";\").map(str => {\r\n        let ind = str.indexOf(\":\");\r\n        return { name: str.substr(0, ind), value: str.substr(ind + 1) };\r\n    });\r\n}\r\n\r\n// ----- EXTRACT PROPERTY VALUE -----\r\nexport function extractProp(tag, prop) {\r\n    try {\r\n        return tag.props.filter(elem => elem.name === prop)[0].value;\r\n    } catch (e) { console.log(e); return \"\"; }\r\n}\r\n\r\n// ----- REMOVE TAGS\r\nexport function removeTags(str, tagname, multiple, removeContent) {\r\n    if (multiple) {\r\n        if (removeContent) {\r\n            let re = new RegExp(\"<\" + tagname + \"[^><]*>[^><]*</\" + tagname + \">\", \"g\");\r\n            return polishString(str.replaceAll(re, \"\"));\r\n        } else {\r\n            let re = new RegExp(\"<[/]*\" + tagname + \"[^><]*>\", \"g\");\r\n            return polishString(str.replaceAll(re, \"\"));\r\n        }\r\n    } else {\r\n        if (removeContent) {\r\n            let re = new RegExp(\"<\" + tagname + \"[^><]*>[^><]*</\" + tagname + \">\", \"\");\r\n            return polishString(str.replace(re, \"\"));\r\n        } else {\r\n            // does not work so well, better if you check again\r\n            let re = new RegExp(\"<[/]*\" + tagname + \"[^><]*>\", \"\");\r\n            return polishString(str.replace(re, \"\"));\r\n        }\r\n    }\r\n}","export function getCacheArray(name) {\r\n    let ok = false;\r\n    let arr = [];\r\n    do {\r\n        try {\r\n            let x = localStorage.getItem(name);\r\n            if (x == null) { throw new Error(); }\r\n            arr = JSON.parse(x);\r\n            ok = true;\r\n        }\r\n        catch (e) { localStorage.setItem(name, JSON.stringify([])); }\r\n    } while (!ok);\r\n    return arr;\r\n}\r\n\r\nexport function expand(arr, label) {\r\n    let ret = [];\r\n    arr.forEach(element => {\r\n        ret[element[label]] = element;\r\n    });\r\n    return ret;\r\n}\r\n\r\nexport function compress(arr) {\r\n    return arr.filter(e => e != null);\r\n}\r\n\r\n// for caching objects\r\n\r\nexport function getObjectFromCache(name) {\r\n    let ok = false;\r\n    let obj = {};\r\n    do {\r\n        try {\r\n            let x = localStorage.getItem(name);\r\n            if (x == null) { throw new Error(); }\r\n            obj = JSON.parse(x);\r\n            ok = true;\r\n        }\r\n        catch (e) { localStorage.setItem(name, JSON.stringify({ size: 100, next: 0, array: [] })); }\r\n    } while (!ok);\r\n    return obj;\r\n}\r\n\r\nexport function Contains(id, array) {\r\n    for (let i = 0; i < array.length; i++) {\r\n        if (array[i].id === id)\r\n            return true;\r\n    }\r\n    return false;\r\n}","import { getCacheArray, compress, expand } from './CacheCommons'\r\n\r\nexport function cacheSquadra(id, nome, logo, abbr, camp, camp_abb) {\r\n    id = parseInt(id);\r\n\r\n    let squadre = getCacheArray(\"ns_squadre\");\r\n    squadre = expand(squadre, \"id\");\r\n    let selected = squadre[id];\r\n\r\n    let obj = null;\r\n    if (selected == null)\r\n        obj = { id: parseInt(id), nome: \"\", logo: \"\", abbr: \"\", soc: 0, camp: 0, camp_abb: \"\" };\r\n    else\r\n        obj = selected;\r\n\r\n    if (nome != null) { obj.nome = nome; }\r\n    if (logo != null) {\r\n        obj.logo = logo;\r\n        obj.soc = extractSocietaID(obj.logo);\r\n    }\r\n    if (abbr != null) { obj.abbr = abbr; }\r\n    if (camp != null) { obj.camp = parseInt(camp); }\r\n    if (camp_abb != null) { obj.camp_abb = camp_abb; }\r\n\r\n    squadre[id] = obj;\r\n    squadre = compress(squadre)\r\n    localStorage.setItem(\"ns_squadre\", JSON.stringify(squadre));\r\n}\r\n\r\nfunction extractSocietaID(logo) {\r\n    let x = logo.split('/');\r\n    let y = x[x.length - 1];\r\n    return parseInt(y.substr(0, y.indexOf('.')).replace(/_[0-9]+/, \"\"));\r\n}\r\n\r\nexport function getCachedSquadre() {\r\n    return getCacheArray(\"ns_squadre\").filter(e => e != null);\r\n}\r\n\r\nexport function getCachedSquadra(id) {\r\n    return getCacheArray(\"ns_squadre\").filter(e => e != null).filter(e => e.id == id)[0];\r\n}\r\n\r\nexport function getCachedSquadraByName(nome, camp) {\r\n    nome = nome.toUpperCase();\r\n    return getCacheArray(\"ns_squadre\").filter(e => e != null).filter(e =>\r\n        (e.nome == nome && e.camp == camp))[0];\r\n}","import { polishString, removeTags, parseIsleTag, parseCompleteTag, extractProp } from './commons'\r\nimport { cacheSquadra } from '../Cache/CacheSquadra'\r\nimport $ from 'jquery'\r\n\r\n// MAIN FUNCTION\r\nexport function CaricaCalendario(idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveCalendario' style='display: none'></div>\");\r\n    $('#retrieveCalendario').load(\"https://www.server2.sidgad.es/fisr/fisr_cal_1_29.php\", { idc: idc }, (data) => {\r\n\r\n        data = polishString(data);\r\n        data = data.substr(data.indexOf(\"<table\"));\r\n        data = data.replace(\"<table \", '<table id=\"tbl-camp-xxx\" ');\r\n        let rem = data.substr(data.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        data = data.replace(rem, \"\");\r\n        data = data.replaceAll('<td width=\"25\"></td>', '');\r\n\r\n        $(\"#retrieveCalendario\").html(data);\r\n        let calendario = parseCalendario($(\"#tbl-camp-xxx\"), idc);\r\n        $(\"#retrieveCalendario\").remove();\r\n\r\n        then(calendario);\r\n    });\r\n}\r\n\r\n// FILTERING FUNCTIONS\r\nexport function DueGiornate(calendario) {\r\n    let ret = [];\r\n\r\n    let today = new Date();\r\n    let parseDate = (str) => {\r\n        let a = str.split('/');\r\n        return new Date(a[2], parseInt(a[1]) - 1, a[0]);\r\n    }\r\n\r\n    try {\r\n        let last = calendario.filter((elem) => parseDate(elem.data) < today);\r\n        let last_day = last[last.length - 1];\r\n        ret[0] = last_day;\r\n    } catch (e) {\r\n        ret[0] = null;\r\n    }\r\n\r\n    try {\r\n        let next_day = calendario.filter((elem) => parseDate(elem.data) >= today)[0];\r\n        ret[1] = next_day;\r\n    } catch (e) {\r\n        ret[1] = null;\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nexport function CampionatoSquadra(calendario, idt) {\r\n    let arr = [];\r\n    $.each(calendario, i => {\r\n        let x = calendario[i].partite.filter(elem => elem.teams.includes(idt));\r\n        $.each(x, j => {\r\n            arr.push(x[j]);\r\n        });\r\n    });\r\n    return arr;\r\n}\r\n\r\n// DARK SIDE\r\n\r\nfunction GIORNATA() {\r\n    return { giornata: \"\", data: \"\", partite: [] };\r\n}\r\n\r\nfunction PARTITA() {\r\n    return {\r\n        idp: 0, idc: 0, day: \"\", hour: \"\", score: \"\", teams: \"\",\r\n        teamA: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" },\r\n        teamB: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" }\r\n    };\r\n}\r\n\r\nfunction parseCalendario(table, idc) {\r\n    let lastgiornata = \"\";\r\n    let rows = table.find(\"tbody tr\");\r\n    let giornata = new GIORNATA();\r\n    let calendario = [];\r\n\r\n    let parseGameDate = (str) => {\r\n        let a = str.split('');\r\n        return a[6] + a[7] + \"/\" + a[4] + a[5] + \"/\" + a[0] + a[1] + a[2] + a[3];\r\n    };\r\n\r\n    $.each(rows, (i) => {\r\n\r\n        var partita = new PARTITA();\r\n        var cells = $(rows[i]).find(\"td\");\r\n\r\n        var this_giornata = removeTags($(cells[3]).html(), \"span\", true, false);\r\n        if (this_giornata !== lastgiornata) {\r\n            calendario.push(giornata);\r\n            giornata = new GIORNATA();\r\n            giornata.giornata = this_giornata.replace(/[Gg][Jj]/, \"Giornata\");\r\n            giornata.data = parseGameDate(\"00000000\");\r\n        }\r\n        lastgiornata = this_giornata;\r\n\r\n        if (giornata.data === parseGameDate(\"00000000\"))\r\n            giornata.data = parseGameDate($(rows[i]).attr(\"gamedate\"));\r\n\r\n        // dettagli partita\r\n        partita.idc = idc;\r\n        partita.day = removeTags($(cells[0]).html(), \"div\", true, false);\r\n        partita.hour = $(cells[1]).html();\r\n        partita.score = $(cells[10]).html();\r\n        // squadre\r\n        partita.teams = $(rows[i]).attr(\"class\").replace(\"team_class\", \"\").replaceAll(\"team_\", \"\").trim();\r\n        var teams_id = partita.teams.split(\" \");\r\n        partita.teamA.idt = parseInt(teams_id[0]);\r\n        partita.teamA.logo = extractProp(parseIsleTag($(cells[4]).html()), \"src\");\r\n        var team = $(cells[5]).html();\r\n        var team1 = team.substr(0, team.indexOf(\"</div>\") + 6);\r\n        partita.teamA.fullname = removeTags(team1, \"div\", true, false);\r\n        partita.teamA.smallname = removeTags(team.replace(team1, \"\"), \"div\", true, false);\r\n        partita.teamB.idt = parseInt(teams_id[1]);\r\n        partita.teamB.logo = extractProp(parseIsleTag($(cells[6]).html()), \"src\");\r\n        team = $(cells[7]).html();\r\n        team1 = team.substr(0, team.indexOf(\"</div>\") + 6);\r\n        partita.teamB.fullname = removeTags(team1, \"div\", true, false);\r\n        partita.teamB.smallname = removeTags(team.replace(team1, \"\"), \"div\", true, false);\r\n        try {\r\n            partita.idp = parseInt(extractProp(parseCompleteTag($(cells[13]).html()), \"idp\"));\r\n        } catch (e) { partita.idp = undefined; }\r\n\r\n        // caching\r\n        cacheSquadra(partita.teamA.idt, partita.teamA.fullname, partita.teamA.logo, partita.teamA.smallname, idc);\r\n        cacheSquadra(partita.teamB.idt, partita.teamB.fullname, partita.teamB.logo, partita.teamB.smallname, idc);\r\n\r\n        //cacheSquadra(teams_id[0], partita.teamA.fullname, partita.teamA.logo, partita.teamA.smallname, idc);\r\n\r\n        giornata.partite.push(partita);\r\n    });\r\n    calendario.push(giornata);\r\n    calendario.splice(0, 1);\r\n    let pdate = (d) => { let x = d.split('/'); return new Date(x[2] + '-' + x[1] + '-' + x[0]); }\r\n    calendario = calendario.sort((a, b) => ((pdate(a.data) > pdate(b.data)) ? 1 : -1));\r\n    return calendario;\r\n}","import { getCacheArray, expand, compress } from './CacheCommons'\r\nimport { cacheSquadra } from './CacheSquadra'\r\n\r\nexport function cacheCampionato(obj) {\r\n    let camp = getCacheArray(\"ns_campionati\");\r\n    camp = expand(camp, \"id\");\r\n    obj.teams.forEach(team => {\r\n        cacheSquadra(team.id, null, team.logo, team.name, obj.id, obj.abbr);\r\n    });\r\n    camp[obj.id] = obj;\r\n    camp = compress(camp);\r\n    localStorage.setItem(\"ns_campionati\", JSON.stringify(camp));\r\n}\r\n\r\nexport function getCachedCampionati() {\r\n    return getCacheArray(\"ns_campionati\");\r\n}\r\n\r\nexport function getCachedCampionato(id) {\r\n    return getCacheArray(\"ns_campionati\").filter(e => e.id === id)[0];\r\n}\r\n\r\nexport function getCachedCampionatoByName(name) {\r\n    return getCacheArray(\"ns_campionati\").filter(e => e.name.toLowerCase() === name.toLowerCase())[0];\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './Calendario.css'\r\n\r\nexport default function Partita(obj) {\r\n    console.log(obj);\r\n    if (obj.teamA.fullname === \"\") obj.teamA.fullname = obj.teamA.smallname;\r\n    if (obj.teamB.fullname === \"\") obj.teamB.fullname = obj.teamB.smallname;\r\n    if (obj.idp !== undefined && obj.idp !== \"\") {\r\n        return <PartitaAttiva {...obj} />\r\n    }\r\n    else {\r\n        return <PartitaDaFare {...obj} />\r\n    }\r\n}\r\n\r\nconst PartitaDaFare = (obj) => {\r\n    return (\r\n        <div className=\"card cal-elem-outer\">\r\n            <div className=\"card-body cal-elem-inner\">\r\n                <div className=\"cal-elem-row\">\r\n                    <div className=\"cal-date\">\r\n                        {obj.day + \" \" + obj.hour + ((obj.campAbbr === undefined) ? \"\" : \" : \" + obj.campAbbr)}\r\n                    </div>\r\n                    <div className=\"cal-match\">\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div className=\"cal-flex\">\r\n                                            <img className=\"cal-logo\" src={obj.teamA.logo} alt={obj.teamA.smallname} />\r\n                                            <div className=\"cal-team-left d-sm-inline-block d-none\">{obj.teamA.fullname}</div>\r\n                                            <div className=\"cal-team-left d-sm-none d-inline-block\">{obj.teamA.smallname}</div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                        {obj.score.replace(':', ' - ')}\r\n                                    </td>\r\n                                    <td>\r\n                                        <div className=\"cal-flex-rev\">\r\n                                            <img className=\"cal-logo\" src={obj.teamB.logo} alt={obj.teamB.smallname} />\r\n                                            <div className=\"cal-team-right d-sm-inline-block d-none\">{obj.teamB.fullname}</div>\r\n                                            <div className=\"cal-team-right d-sm-none d-inline-block\">{obj.teamB.smallname}</div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PartitaAttiva = (obj) => {\r\n    return (\r\n        <div className=\"card highlight cal-elem-outer\">\r\n            <Link to={\"/partita/\" + obj.idp} className=\"link-unstyled\">\r\n                <div className=\"card-body cal-elem-inner\">\r\n                    <div className=\"cal-elem-row\">\r\n                        <div className=\"cal-date\">\r\n                            {obj.day + \" \" + obj.hour + ((obj.campAbbr === undefined) ? \"\" : \" : \" + obj.campAbbr)}\r\n                        </div>\r\n                        <div className=\"cal-match\">\r\n                            <table>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>\r\n                                            <div className=\"cal-flex\">\r\n                                                <img className=\"cal-logo\" src={obj.teamA.logo} alt={obj.teamA.smallname} />\r\n                                                <div className=\"cal-team-left d-sm-inline-block d-none\">{obj.teamA.fullname}</div>\r\n                                                <div className=\"cal-team-left d-sm-none d-inline-block\">{obj.teamA.smallname}</div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"text-center\">\r\n                                            {obj.score.replace(':', ' - ')}\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"cal-flex-rev\">\r\n                                                <img className=\"cal-logo\" src={obj.teamB.logo} alt={obj.teamB.smallname} />\r\n                                                <div className=\"cal-team-right d-sm-inline-block d-none\">{obj.teamB.fullname}</div>\r\n                                                <div className=\"cal-team-right d-sm-none d-inline-block\">{obj.teamB.smallname}</div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Partita from './Partita'\r\n\r\nconst GiornataVuota = () => {\r\n    return <i style={{ color: \"#777\" }}>niente da visualizzare</i>\r\n}\r\n\r\nexport default function PartiteBox(props) {\r\n    if (props.giornata === null || props.giornata === undefined) {\r\n        return <GiornataVuota />\r\n    }\r\n    else {\r\n        return (\r\n            <>\r\n                { (props.giornata.partite.map((p, i) => <Partita key={i} {...p} />))}\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nimport PartiteBox from './PartiteBox'\r\n\r\nexport default function Giornata(props) {\r\n    return (\r\n        <div style={{ marginTop: \"20px\" }}>\r\n            <h5 className=\"d-inline-block\">\r\n                {titleCase(props.giornata.giornata)}\r\n            </h5>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <span> {props.giornata.data}</span>\r\n            <br />\r\n            <PartiteBox giornata={props.giornata} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className=\"w-100 p-4 text-center\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\"></div>\r\n            <h5>Caricamento ...</h5>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","export default __webpack_public_path__ + \"static/media/logo.2444734b.png\";","import { getCacheArray } from './CacheCommons'\r\n\r\nexport function IsSaved(path) {\r\n    let salvati = getCacheArray(\"ns_salvati\");\r\n    let salva = salvati.filter(e => e === path);\r\n    if (salva.length > 0)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\nexport function Salva(path) {\r\n    if (!IsSaved(path)) {\r\n        let salvati = getCacheArray(\"ns_salvati\");\r\n        salvati.push(path);\r\n        localStorage.setItem(\"ns_salvati\", JSON.stringify(salvati));\r\n    }\r\n}\r\n\r\nexport function DisSalva(path) {\r\n    if (IsSaved(path)) {\r\n        let salvati = getCacheArray(\"ns_salvati\");\r\n        salvati = salvati.filter(e => e !== path);\r\n        localStorage.setItem(\"ns_salvati\", JSON.stringify(salvati));\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { IsSaved, Salva, DisSalva } from '../../Cache/CachePreferiti'\r\n\r\nexport class Preferiti extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.path = props.path;\r\n\r\n        this.state = {\r\n            saved: IsSaved(this.path)\r\n        }\r\n    }\r\n\r\n    salvaComePreferito() {\r\n        if (this.state.saved) {\r\n            DisSalva(this.path);\r\n            this.setState({ saved: false });\r\n        }\r\n        else {\r\n            Salva(this.path);\r\n            this.setState({ saved: true });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <button className=\"btn btn-light d-none d-md-block\" title={((this.state.saved) ? \"Salva nei preferiti\" : \"Salvato\")} onClick={() => this.salvaComePreferito()}>\r\n                    <i className={\"fas fa-star \" + ((this.state.saved) ? \"text-warning\" : \"\")} title=\"Salva come preferito\"></i>\r\n                </button>\r\n                <div className=\"navbar-nav ml-auto mt-0 mt-lg-0 font-weight-bold d-block d-md-none\">\r\n                    <span className=\"nav-item nav-link\" onClick={() => this.salvaComePreferito()}>\r\n                        {((this.state.saved) ? <span className=\"text-warning\">Salvato</span> : \"Salva nei preferiti\")}\r\n                    </span>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport function PreferitiFake() {\r\n    return (\r\n        <button className=\"btn btn-light d-none d-md-block\" disabled>\r\n            <i className=\"fas fa-star text-light\"></i>\r\n        </button>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport logo from '../../assets/logo.png'\r\nimport { Preferiti, PreferitiFake } from './Preferiti';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.active = props.active;\r\n        this.path = props.path;\r\n\r\n        // links on the navbar\r\n        this.links = [\r\n            { display: \"Home\", url: \"/\" },\r\n            { display: \"Campionati\", url: \"/campionati\" },\r\n            { display: \"Societ\", url: \"/societa\" },\r\n            { display: \"Salvati\", url: \"/salvati\" }\r\n        ];\r\n\r\n        this.state = {\r\n            toggle: false,\r\n            title: props.title,\r\n            canBeSaved: ((props.canBeSaved) ? true : false)\r\n        }\r\n    }\r\n\r\n    toggleNavbar() {\r\n        let t = this.state.toggle;\r\n        this.setState({ toggle: !t })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light text-uppercase\" style={{ padding: \"10px\" }}>\r\n                <div className=\"navbar-brand p-0 m-0\">\r\n                    <Link className=\"navbar-brand p-0 mr-2\" to=\"/\">\r\n                        <img src={logo} alt=\"home\" style={{ width: \"40px\", margin: \"0\" }} />\r\n                    </Link>\r\n                    <strong> {this.state.title} </strong>\r\n                </div>\r\n\r\n                <button className=\"navbar-toggler navbar-toggler-right ml-auto\" onClick={() => this.toggleNavbar()}>\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div className={\"collapse navbar-collapse \" + ((this.state.toggle) ? \" show text-center\" : \"\")}>\r\n                    <div className=\"navbar-nav ml-auto mt-2 mt-lg-0 font-weight-bold\">\r\n                        {this.links.map((l, i) => Elem(i, l.display, l.url, (l.display === this.active)))}\r\n                    </div>\r\n                    {((this.state.canBeSaved) ? <Preferiti path={this.path} /> : <PreferitiFake />)}\r\n                    <Config />\r\n                </div>\r\n            </nav >\r\n        )\r\n    }\r\n}\r\n\r\nconst Elem = (i, display, url, active) => {\r\n    return (\r\n        <Link key={i} className={\"nav-item nav-link \" + (active ? 'active' : '')} to={url}>{display}</Link>\r\n    );\r\n}\r\n\r\nconst Config = () => {\r\n    return (\r\n        <>\r\n            <Link to=\"/guida\" className=\"btn btn-light d-none d-md-block\" title=\"Impostazioni\" >\r\n                <i className={\"fas fa-cog\"}></i>\r\n            </Link>\r\n            <div className=\"navbar-nav ml-auto mt-0 mt-lg-0 font-weight-bold d-block d-md-none\">\r\n                <Link to=\"/guida\" className=\"nav-item nav-link\" >\r\n                    Impostazioni\r\n                </Link>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { CaricaCalendario } from '../API/ApiCalendario';\r\n\r\nimport { getCachedCampionato } from '../Cache/CacheCampionato'\r\n\r\nimport Giornata from '../Components/Calendario/Giornata';\r\nimport Loader from '../Components/Varie/Loader';\r\nimport Navbar from '../Components/Varie/Navbar';\r\n\r\nexport default class Calendario extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.path = props.location.pathname;\r\n\r\n        this.id_camp = parseInt(props.match.params.id);\r\n        this.camp = getCachedCampionato(this.id_camp);\r\n        this.title = \"CALENDARIO \" + this.camp.abbr;\r\n        this.state = { calendario: [], loaded: false }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        \r\n        CaricaCalendario(this.id_camp, (cal) => {\r\n            cal.forEach(g => {\r\n                this.state.calendario.push(g);\r\n            });\r\n            this.setState({\r\n                loaded: true\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar path={this.path} title={this.title} canBeSaved={true} />\r\n                <div className=\"container p-2\">\r\n                    <div className=\"card card-body mt-2 mb-2 p-2\">\r\n                        <div className=\"text-center\">\r\n                            <Link to={\"/campionato/\" + this.id_camp}>\r\n                                vai al campionato\r\n                            </Link>\r\n                        </div>\r\n                        <div>\r\n                            {(this.state.loaded) ? this.state.calendario.map((g, i) => <Giornata key={i} giornata={g} />) : <Loader />}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import { polishString, parseCompleteTag, parseIsleTag, parseParams, extractProp } from './commons'\r\nimport { cacheCampionato, getCachedCampionati } from '../Cache/CacheCampionato'\r\n\r\nexport function caricaCampionati(cache, then) {\r\n    if (cache) {\r\n        let camps = getCachedCampionati();\r\n        if (camps.length !== 0)\r\n            then(camps);\r\n        else\r\n            caricaWrapper(then);\r\n    }\r\n    else {\r\n        caricaWrapper(then);\r\n    }\r\n}\r\n\r\nfunction caricaWrapper(then) {\r\n    fetch(\"https://www.server2.sidgad.es/fisr/fisr_ls_1.php\", { redirect: 'manual' }).then((res) => {\r\n        return res.text();\r\n    }).then(data => { then(carica(data)); }).catch(e => { console.log(e); alert(\"consulta la guida\") })\r\n}\r\n\r\nfunction carica(data) {\r\n\r\n    data = polishString(data);\r\n    let camp = [];\r\n    let ind = data.indexOf(\"</a>\");\r\n    while (ind !== -1) {\r\n        // get and process the current block\r\n        let working = data.substr(0, ind + 4);\r\n        camp.push(parseCampionato(working));\r\n\r\n        // go to the next one\r\n        data = data.replace(working, \"\");\r\n        ind = data.indexOf(\"</a>\");\r\n    }\r\n\r\n    // filtering Campionati of this season\r\n    camp = camp.filter(elem => elem.season === \"29\");\r\n    camp = camp.filter(elem => (elem.name !== \"\" && elem.name !== \"\\\"\" && elem.name !== \"'\" && elem.name !== \" \"));\r\n\r\n    // caching campionati\r\n    camp.map(e => cacheCampionato(e));\r\n\r\n    return camp;\r\n}\r\n\r\nfunction parseCampionato(str) {\r\n    // parsing the string as a tag\r\n    let tag = parseCompleteTag(str);\r\n    tag.params = parseParams(extractProp(tag, \"config_params\"));\r\n\r\n    // creating a new Campionato\r\n    let camp = { id: 0, name: \"\", teams: [], logo: \"\", season: \"\", dur_tempo: 0, abbr: \"\" };\r\n    camp.id = parseInt(extractProp(tag, \"id\"));\r\n    camp.name = extractProp(tag, \"name\");\r\n\r\n    // create abbreviation for the campionato\r\n    let ret = camp.name.match(/ (A1)|(A2)|(B)|(FEMM)|U[0-9]* /);\r\n    camp.abbr = (ret != null) ? ret[0].trim() : \"\";\r\n\r\n    // extracting season\r\n    let season_str = extractProp(tag, \"class\");\r\n    camp.season = season_str.substr(season_str.indexOf(\"temp_\") + 5);\r\n\r\n    // extracting logo\r\n    let img_tag = parseIsleTag(tag.content.substr(tag.content.indexOf(\"<img\")));\r\n    camp.logo = extractProp(img_tag, \"src\");\r\n\r\n    // extracting teams\r\n    let teams_tag = parseIsleTag(tag.content.substr(tag.content.indexOf(\"<input\")));\r\n    let teams_str = extractProp(teams_tag, \"value\");\r\n    camp.teams = teams_str.split(\";\").filter(elem => elem !== \"\\\"\").map(elem => {\r\n        let info = elem.split(\",\");\r\n        return { name: info[2], id: info[1], logo: \"https://ns3104249.ip-54-37-85.eu/fisr/images/logos_clubes/\" + info[0] };\r\n    })\r\n\r\n    // extracting period duration\r\n    try {\r\n        camp.dur_tempo = parseInt(tag.params.filter(elem => elem.name === \"tpo_reg\")[0].value);\r\n    } catch (e) { }\r\n\r\n    return camp;\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Img(props) {\r\n    const imgStyle = {\r\n        width: \"40px\",\r\n        height: \"auto\",\r\n        margin: \"6px\"\r\n    }\r\n    return <img src={props.logo} alt={props.name} style={imgStyle} />\r\n}\r\n\r\nexport function CampLarge(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"10px\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const logoStyle = {\r\n        padding: \"10px 0 0 0\",\r\n        textAlign: \"center\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-lg-4 col-md-6 col-sm-12 p-2\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/campionato/\" + props.id} query={{nome: props.nome}}>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title text-center\"> {props.name} </h5>\r\n                        <div style={logoStyle}>\r\n                            {\r\n                                props.teams.map((elem, index) => <Img key={index} {...elem} />)\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { caricaCampionati } from '../API/ApiCampionati'\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport { CampLarge as CampElement } from '../Components/Campionati/CampLarge'\r\n\r\nclass Campionati extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            campionati: [],\r\n            loaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        caricaCampionati(false, (camps) => {\r\n            this.state.campionati = camps;\r\n            this.setState({ loaded: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={\"Campionati\"} active={\"Campionati\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        {(!this.state.loaded) ? <Loader /> : this.state.campionati.map((camp, i) => <CampElement key={i} {...camp} />)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Campionati;\r\n","import $ from 'jquery'\r\nimport { polishString, parseCompleteTag, parseIsleTag, removeTags, extractProp } from './commons'\r\nimport { getCachedCampionati } from '../Cache/CacheCampionato'\r\nimport { getCachedSquadre } from '../Cache/CacheSquadra'\r\n\r\nfunction caricaPartite(then) {\r\n    $.ajax({\r\n        url: \"https://www.server2.sidgad.es/fisr/fisr_mc_1.php\",\r\n        method: \"GET\",\r\n        success: (data) => {\r\n            data = prepareStringForParsing(data);\r\n            let campionati = parsePlaying(data);\r\n            // DEBUG \r\n            //campionati[0].matches[0].type = \"TEMPO 1\";\r\n            //console.log(campionati);\r\n            then(campionati);\r\n        }\r\n    });\r\n}\r\n\r\nfunction prepareStringForParsing(data) {\r\n    // polishing the string\r\n    data = polishString(data);\r\n    data = data.replaceAll(\"'\", '\"');\r\n\r\n    // removing comments, style blocks and input tags at the beginning\r\n    while (data.indexOf(\"<!--\") != -1) {\r\n        let supp = data.substr(data.indexOf(\"<!--\"));\r\n        supp = supp.substr(0, supp.indexOf(\"-->\") + 3);\r\n        data = data.replace(supp, \"\");\r\n    }\r\n    data = removeTags(data, \"style\", true, true);\r\n    data = data.substr(data.indexOf('<div class=\"scorer_apartado\"'));\r\n    data = data.substr(0, data.length - 6);\r\n\r\n    // uniforming all blocks\r\n    data = data.replaceAll('<a href=\"#\" ', \"<div \");\r\n    data = data.replaceAll('</a>', \"</div>\");\r\n\r\n    return data;\r\n}\r\n\r\nfunction parsePlaying(data) {\r\n    let cachedCampionati = getCachedCampionati();\r\n    let cachedSquadre = getCachedSquadre();\r\n\r\n    let campionati = [];\r\n    while (data.indexOf('<div class=\"scorer_apartado\"') == 0) {\r\n        // getting campionato\r\n        let str = data.substr(0, data.indexOf('<div class=\"scorer_game'));\r\n        data = data.replace(str, \"\");\r\n\r\n        // new campionato\r\n        let campionato = { name: \"\", id: 0, matches: [] };\r\n        campionato.name = removeTags(removeTags(str, \"div\", true, false), \"div\", true, false).trim();\r\n\r\n        // parsing matches of that campionato\r\n        let maxLive = 0;\r\n        while (data.indexOf('<div class=\"scorer_game') == 0 && maxLive < 1000) {\r\n            maxLive++;\r\n            data = data.substr(1);\r\n            let current = data.substr(0, min(data.indexOf('<div class=\"scorer_game'), data.indexOf('<div class=\"scorer_apartado\"'), data.length));\r\n            data = data.replace(current, \"\");\r\n\r\n            let tag = parseCompleteTag(\"<\" + current);\r\n\r\n            let cachedCamp = cachedCampionati.filter(c => c.name.toLowerCase() == extractContentByClass(tag.content, \"scorer_liga\").toLowerCase())[0];\r\n\r\n            // try to extract the id of the campionato from the match\r\n            try {\r\n                let idc = parseInt(extractProp(tag, \"idc\"));\r\n                campionato.id = (!isNaN(idc)) ? parseInt(idc) : cachedCamp.id;\r\n            } catch (e) { }\r\n\r\n            let match = {\r\n                idp: 0, idc: 0, day: \"\", hour: \"\", score: \"\", matchDayNum: \"\",\r\n                teamA: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" },\r\n                teamB: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" }\r\n            };\r\n            let idp = extractProp(tag, \"idp\");\r\n            match.idp = (idp == \"\") ? 0 : parseInt(idp);\r\n            match.idc = campionato.id;\r\n            try { match.campAbbr = cachedCamp.abbr; } catch (e) { }\r\n            match.teamA.smallname = extractContentByClass(tag.content, \"scorer_team_left\");\r\n            try {\r\n                match.teamA.fullname = cachedSquadre.filter((e => (e.camp == match.idc && e.abbr == match.teamA.smallname)))[0].nome;\r\n            } catch (e) { match.teamA.fullname = match.teamA.smallname }\r\n            match.teamA.logo = extractProp(parseIsleTag(extractContentByClass(tag.content, \"scorer_logo_left\")), \"src\");\r\n\r\n            match.teamB.smallname = extractContentByClass(tag.content, \"scorer_team_right\");\r\n            try {\r\n                match.teamB.fullname = cachedSquadre.filter((e => (e.camp == match.idc && e.abbr == match.teamB.smallname)))[0].nome;\r\n            } catch (e) { match.teamB.fullname = match.teamB.smallname }\r\n            match.teamB.logo = extractProp(parseIsleTag(extractContentByClass(tag.content, \"scorer_logo_right\")), \"src\");\r\n\r\n            match.score = extractContentByClass(tag.content, \"scorer_score\");\r\n            let dayHour = extractContentByClass(tag.content, \"scorer_bot_left\").split(' ');\r\n            match.day = dayHour[0];\r\n            match.hour = dayHour[1];\r\n            match.type = removeTags(extractContentByClass(tag.content, \"scorer_bot_center\"), \"span\", true, false);\r\n            match.matchDayNum = extractContentByClass(tag.content, \"scorer_bot_right\");\r\n\r\n            campionato.matches.push(match);\r\n        }\r\n\r\n        campionati.push(campionato);\r\n    }\r\n\r\n    return campionati;\r\n}\r\n\r\nfunction min(a, b, escape) {\r\n    if (a < 0 && b < 0) return escape;\r\n    if (a < 0) return b;\r\n    if (b < 0) return a;\r\n    if (a > b) return b;\r\n    return a;\r\n}\r\n\r\nfunction extractContentByClass(input, wclass) {\r\n    let str = input.substr(input.indexOf('<div class=\"' + wclass + '\"'));\r\n    str = str.substr(0, str.indexOf(\"</div>\") + 6);\r\n    return removeTags(str, \"div\", true, false);\r\n}\r\n\r\nexport function CaricaPartiteInCorso(then) {\r\n    caricaPartite((campionati) => {\r\n        let partite = [];\r\n        campionati.forEach(elem => {\r\n            partite = partite.concat(elem.matches.filter(e => ((e.type === \"TEMPO 1\") || (e.type === \"INTERVALLO\") || (e.type === \"TEMPO 2\"))));\r\n        })\r\n        then(partite);\r\n    });\r\n}\r\n\r\nexport function CaricaPartiteRecenti(then) {\r\n    caricaPartite((campionati) => {\r\n        let partite = [];\r\n        campionati.forEach(elem => {\r\n            partite = partite.concat(elem.matches.filter(e => (e.type === \"FINALE\")));\r\n        })\r\n        then(partite);\r\n    });\r\n}\r\n\r\nexport function CaricaPartiteInCorsoCampionato(idc, then) {\r\n    caricaPartite((campionati) => {\r\n        let campionato = campionati.filter(e => e.id === idc)[0];\r\n        let partite = [];\r\n        if (campionato != null) partite = campionato.matches.filter(e => ((e.type === \"TEMPO 1\") || (e.type === \"INTERVALLO\") || (e.type === \"TEMPO 2\")));\r\n        then(partite);\r\n    })\r\n}\r\n\r\nfunction fun(e, ids) {\r\n    let fun2 = (str) => {\r\n        let x = str.split('/');\r\n        let y = x[x.length - 1];\r\n        return parseInt(y.substr(0, y.indexOf('.')).replace(/_[0-9]+/, \"\"));\r\n    }\r\n    return (fun2(e.teamA.logo) == ids || fun2(e.teamB.logo) == ids);\r\n}\r\n\r\nexport function CaricaPartiteInCorsoSocieta(ids, then) {\r\n    caricaPartite((campionati) => {\r\n        let partite = [];\r\n        campionati.forEach(elem => {\r\n            partite = partite.concat(elem.matches.filter(e => fun(e, ids) && ((e.type === \"TEMPO 1\") || (e.type === \"INTERVALLO\") || (e.type === \"TEMPO 2\"))));\r\n        });\r\n        then(partite);\r\n    });\r\n}\r\n\r\nexport function CaricaPartiteRecentiSocieta(ids, then) {\r\n    caricaPartite((campionati) => {\r\n        let partite = [];\r\n        campionati.forEach(elem => {\r\n            partite = partite.concat(elem.matches.filter(e => fun(e, ids) && (e.type === \"FINALE\")));\r\n        });\r\n        then(partite);\r\n    });\r\n}\r\n\r\nexport function CaricaPartiteFutureSocieta(ids, then) {\r\n    caricaPartite((campionati) => {\r\n        let partite = [];\r\n        campionati.forEach(elem => {\r\n            partite = partite.concat(elem.matches.filter(e => fun(e, ids) && (e.type === \"NON INIZIATA\")));\r\n        });\r\n        then(partite);\r\n    });\r\n}","import { polishString, removeTags, extractProp, parseCompleteTag, parseIsleTag } from './commons'\r\nimport $ from 'jquery'\r\n\r\nexport function caricaMarcatori(idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveMarcatori' style='display: none'></div>\");\r\n    $('#retrieveMarcatori').load('https://www.server2.sidgad.es/fisr/fisr_stats_1_' + idc + '.php', { idc: idc, tipo_stats: \"goles\" },\r\n        () => {\r\n            $(\"#retrieveMarcatori\").find(\".mobile\").remove();\r\n            var data = polishString($(\"#retrieveMarcatori\").html());\r\n            data = data.replace(\"<table\", '<table id=\"tbl-marc-xxx\"');\r\n            $(\"#retrieveMarcatori\").html(data);\r\n\r\n            var marcatori_loaded = parseMarcatori($(\"#tbl-marc-xxx\"));\r\n            $(\"#retrieveMarcatori\").remove();\r\n\r\n            then(marcatori_loaded);\r\n        });\r\n}\r\n\r\nfunction parseMarcatori(table) {\r\n    let rows = table.find(\"tbody tr\");\r\n\r\n    let parseWdef = (str, def) => { if (str === \"\") return def; return parseInt(str); }\r\n    let setWdef = (str, def) => { if (str === \"\") return def; return str; }\r\n\r\n    let marcatori = [];\r\n    $.each(rows, (i) => {\r\n        let gioc = { pos: 0, team: { idt: 0, logo: \"\", name: \"\" }, idpl: 0, name: \"\", flag: \"\", matches: 0, goals: 0, assists: 0, diretti: \"\", rigori: \"\", blu: 0, rossi: 0 };\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        gioc.pos = (i + 1);\r\n        gioc.team.name = removeTags($(cells[1]).html(), \"span\", true, false);\r\n        gioc.team.logo = extractProp(parseIsleTag($(cells[2]).html()), \"src\");\r\n        gioc.flag = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        let tag = parseCompleteTag($(cells[4]).html());\r\n        gioc.idpl = extractProp(tag, \"id_player\");\r\n        gioc.team.idt = extractProp(tag, \"team_id\").replace('\"', '');\r\n        gioc.name = extractProp(tag, \"player_name\").replace(',', '');\r\n        gioc.goals = parseWdef($(cells[5]).html(), 0);\r\n        gioc.matches = parseWdef($(cells[6]).html(), 0);\r\n        gioc.assists = parseWdef($(cells[8]).html(), 0);\r\n        gioc.rigori = setWdef($(cells[10]).html(), \"0/0\");\r\n        gioc.diretti = setWdef($(cells[12]).html(), \"0/0\");\r\n        gioc.blu = parseWdef($(cells[14]).html(), 0);\r\n        gioc.rossi = parseWdef($(cells[16]).html(), 0);\r\n\r\n        marcatori.push(gioc);\r\n    });\r\n\r\n    marcatori = sort(marcatori);\r\n\r\n    return marcatori;\r\n}\r\n\r\nfunction sort(array) {\r\n    let prep = (dir, rig) => {\r\n        let x = 0;\r\n        let a = dir.split(\"/\");\r\n        try { x += parseInt(a[0]) / parseInt(a[1]); } catch (e) { x += 0.2; }\r\n        a = rig.split(\"/\");\r\n        try { x += parseInt(a[0]) / parseInt(a[1]); } catch (e) { x += 0.2; }\r\n        return x;\r\n    }\r\n\r\n    let scambia = (sx, dx) => {\r\n        if (sx.goals > dx.goals) return -1;\r\n        else if (sx.goals < dx.goals) return 1;\r\n        else {\r\n            if (sx.assists > dx.assists) return -1;\r\n            else if (sx.assists < dx.assists) return 1;\r\n            else {\r\n                sx = prep(sx.diretti, sx.rigori);\r\n                dx = prep(dx.diretti, dx.rigori);\r\n\r\n                if (sx > dx) return -1;\r\n                else if (sx < dx) return 1;\r\n                else return 0;\r\n            }\r\n        }\r\n    };\r\n\r\n    array = array.sort((a, b) => scambia(a, b));\r\n    $.each(array, i => {\r\n        array[i].pos = i + 1;\r\n    });\r\n    return array;\r\n}","import React from 'react'\r\n\r\nexport const Marcatore = (obj) => {\r\n\r\n    const td = {\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        width: \"10%\",\r\n        minWidth: \"48px\",\r\n        padding: \"5px\"\r\n    }\r\n\r\n    const td_name = {\r\n        width: \"60%\",\r\n        padding: \"5px\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"left\",\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table className=\"table mb-0\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td style={td}> {obj.pos}<sup>o</sup> </td>\r\n                        <td style={td}>\r\n                            <img src={obj.team.logo} alt=\"logo\" style={{ width: \"30px\" }} />\r\n                        </td>\r\n                        <td style={td_name}> {obj.name} </td>\r\n                        <td style={td}> <strong> {obj.goals} </strong> </td>\r\n                        <td style={td}>\r\n                            <button className=\"btn btn-link text-primary m-0\" onClick={obj.callback} style={{outline: \"none\"}}>\r\n                                <i className=\"fas fa-plus-circle\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div className={\"collapse\" + ((obj.show) ? \" show\" : \"\")} >\r\n                <div className=\"row text-center\" style={{ fontSize: \"0.8em\", margin: \"0 0 5px 0\" }}>\r\n                    <div className=\"col\"> <strong>GTE </strong> {obj.matches} </div>\r\n                    <div className=\"col\"> <strong>ASS </strong> {obj.assists} </div>\r\n                    <div className=\"col\"> <strong>RIG </strong> {obj.rigori} </div>\r\n                    <div className=\"col\"> <strong>DIR </strong> {obj.diretti} </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nimport { caricaMarcatori } from \"../../API/ApiMarcatori\"\r\n\r\nimport Loader from \"../Varie/Loader\"\r\nimport { Marcatore } from \"./Marcatore\"\r\n\r\nexport default class MarcatoriBox extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.id_camp = props.idc;\r\n\r\n        this.state = {\r\n            marcatori: [],\r\n            loaded: false,\r\n            mostra_tutti: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        caricaMarcatori(this.id_camp, (marc) => {\r\n            marc.forEach(m => { this.state.marcatori.push(m) });\r\n            this.setState({\r\n                loaded: true\r\n            });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id === showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    mostraTutti = () => {\r\n        let ms = !this.state.mostra_tutti;\r\n        this.setState({ mostra_tutti: ms });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">MARCATORI</h5>\r\n                        <button className=\"btn btn-link p-0\" onClick={() => this.mostraTutti()}>\r\n                            mostra tutti\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"scrollbox\" style={{ maxHeight: \"95vh\" }} >\r\n                        <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                            {\r\n                                (!this.state.loaded) ? <Loader /> : ((this.state.mostra_tutti) ? (this.state.marcatori.map((marc, i) =>\r\n                                    <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                                )) : (this.state.marcatori.slice(0, 5).map((marc, i) =>\r\n                                    <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                                )))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import { polishString, parseCompleteTag, parseIsleTag } from './commons'\r\nimport $ from 'jquery'\r\n\r\nexport function caricaClassifica(idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveClassifica' style='display: none'></div>\");\r\n    $('#retrieveClassifica').load(\"https://www.server2.sidgad.es/fisr/fisr_clasif_29_1.php\", { idc: idc }, (data) => {\r\n        data = polishString(data);\r\n        data = data.substr(data.indexOf(\"<table\"));\r\n        data = data.replace(\"<table \", '<table id=\"tbl-class-xxx\" ');\r\n        let rem = data.substr(data.indexOf(\"<thead>\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\"));\r\n        data = data.replace(rem, \"\");\r\n\r\n        $(\"#retrieveClassifica\").html(data);\r\n        let classifica = parseClassifica($(\"#tbl-class-xxx\"), idc);\r\n        $(\"#retrieveClassifica\").remove();\r\n\r\n        //console.log(classifica);\r\n        then(classifica);\r\n    });\r\n}\r\n\r\nfunction parseClassifica(table, idc) {\r\n    let rows = table.find(\"tbody tr\");\r\n    let classifica = [];\r\n    $.each(rows, (i) => {\r\n        let newobj = { pos: 0, logo: \"\", nome: \"\", small: \"\", punti: 0, gte: 0, vte: 0, pte: 0, pse: 0, rft: 0, rst: 0, diff: 0, pen: 0 };\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        newobj.logo = parseIsleTag(parseCompleteTag($(cells[1]).html()).content).props.filter(elem => elem.name === \"src\")[0].value;\r\n        let x = parseCompleteTag(($(cells[2]).html())).content;\r\n        newobj.nome = x.substr(0, x.indexOf(\"</div>\"));\r\n        newobj.small = x.substr(x.indexOf(\"\\\">\") + 2);\r\n\r\n        let check = (val) => (val === \"\") ? 0 : parseInt(val);\r\n\r\n        // crea una funzione check(val) return (val==\"\") ? 0 : parseInt(val); } e sostituiscila qua, che credo che y faccia casino\r\n        newobj.pos = (i + 1);\r\n        newobj.punti = check($(cells[3]).html());\r\n        newobj.gte = check(parseCompleteTag($(cells[4]).html()).content);\r\n        newobj.vte = check(parseCompleteTag($(cells[5]).html()).content);\r\n        newobj.pte = check(parseCompleteTag($(cells[6]).html()).content);\r\n        newobj.pse = check(parseCompleteTag($(cells[7]).html()).content);\r\n        newobj.rft = check(parseCompleteTag($(cells[8]).html()).content);\r\n        newobj.rst = check(parseCompleteTag($(cells[9]).html()).content);\r\n        newobj.diff = check(parseCompleteTag($(cells[10]).html()).content);\r\n        newobj.pen = check(parseCompleteTag($(cells[11]).html()).content);\r\n        newobj.camp = idc;\r\n\r\n        classifica.push(newobj);\r\n    });\r\n\r\n    return classifica;\r\n}\r\n\r\nexport function caricaClassificaSquadra(idc, abbr, then) {\r\n    caricaClassifica(idc, (clas) => {\r\n        let obj = clas.filter(e => e.small.toUpperCase() == abbr.toUpperCase())[0];\r\n        then(obj);\r\n    });\r\n}","import React from 'react'\r\n\r\nexport const Classifica = (obj) => {\r\n\r\n    const td = {\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        width: \"10%\",\r\n        minWidth: \"48px\",\r\n        padding: \"5px\"\r\n    }\r\n\r\n    const td_name = {\r\n        width: \"60%\",\r\n        padding: \"5px\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"left\",\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table className=\"table mb-0\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td style={td}> {obj.pos}<sup>o</sup> </td>\r\n                        <td style={td}>\r\n                            <img src={obj.logo} alt=\"logo\" style={{ width: \"30px\", margin: 0 }} />\r\n                        </td>\r\n                        <td style={td_name}> {obj.nome} </td>\r\n                        <td style={td}> <strong> {obj.punti} </strong> </td>\r\n                        <td style={td}>\r\n                            <button className=\"btn btn-link text-primary m-0\" onClick={obj.callback} style={{ outline: \"none\" }}>\r\n                                <i className=\"fas fa-plus-circle\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div className={\"collapse\" + ((obj.show) ? \" show\" : \"\")} >\r\n                <div className=\"row text-center\" style={{ fontSize: \"0.8em\", margin: \"0 0 5px 0\" }}>\r\n                    <div className=\"col\"> <strong>GTE </strong> {obj.gte} </div>\r\n                    <div className=\"col\"> <strong>VTE </strong> {obj.vte} </div>\r\n                    <div className=\"col\"> <strong>PTE </strong> {obj.pte} </div>\r\n                    <div className=\"col\"> <strong>PSE </strong> {obj.pse} </div>\r\n                    <div className=\"w-100\"></div>\r\n                    <div className=\"col\"> <strong>RFT </strong> {obj.rft} </div>\r\n                    <div className=\"col\"> <strong>RST </strong> {obj.rst} </div>\r\n                    <div className=\"col\"> <strong>DIFF</strong> {obj.diff} </div>\r\n                    <div className=\"col\"> <strong>PEN </strong> {obj.pen} </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nimport { caricaClassifica } from \"../../API/ApiClassifica\"\r\n\r\nimport Loader from \"../Varie/Loader\"\r\nimport { Classifica } from \"./Classifica\"\r\n\r\nexport default class ClassificaBox extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.id_camp = props.idc;\r\n\r\n        this.state = {\r\n            classifica: [],\r\n            loaded: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        caricaClassifica(this.id_camp, (clas) => {\r\n            clas.forEach(c => { this.state.classifica.push(c) });\r\n            this.setState({\r\n                loaded: true\r\n            });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id == showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">CLASSIFICA</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"scrollbox\" style={{ maxHeight: \"65vh\" }} >\r\n                        <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                            {\r\n                                (!this.state.loaded) ? <Loader /> : this.state.classifica.map((camp, i) =>\r\n                                    <Classifica key={i} {...camp} show={(camp.pos === this.state.showing)} callback={() => this.dettagli(camp.pos)} />\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SquadraBox(obj) {\r\n    const cardStyle = {\r\n        minWidth: \"150px\",\r\n        maxWidth: \"100%\",\r\n        padding: \"10px\",\r\n        borderRadius: \"10px\",\r\n        margin: 0,\r\n        TextAlign: \"center\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col m-1 p-0\" style={{ cursor: \"pointer\" }}>\r\n            <Link className=\"link-unstyled\" to={\"/squadra/\" + obj.id}>\r\n                <div className=\"card card-body text-center highlight\" style={cardStyle}>\r\n                    <img src={obj.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={obj.name} />\r\n                    <h5 className=\"mb-0\">{obj.name}</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { getCachedCampionato } from '../Cache/CacheCampionato'\r\nimport { CaricaCalendario, DueGiornate } from '../API/ApiCalendario'\r\nimport { CaricaPartiteInCorsoCampionato } from '../API/ApiInCorso'\r\n\r\nimport Loader from '../Components/Varie/Loader'\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport MarcatoriBox from '../Components/Marcatori/MarcatoriBox'\r\nimport ClassificaBox from '../Components/Classifica/ClassificaBox'\r\nimport SquadraBox from '../Components/Campionati/SquadraBox'\r\nimport PartiteBox from '../Components/Calendario/PartiteBox'\r\nimport Partita from '../Components/Calendario/Partita'\r\n\r\nexport default class Campionato extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_camp = parseInt(props.match.params.id);\r\n        this.path = props.location.pathname;\r\n\r\n        // recupero il campionato di appartenenza dalla cache\r\n        this.camp = getCachedCampionato(this.id_camp);\r\n        console.log(this.id_camp);\r\n\r\n        // imposto lo stato della pagina\r\n        this.state = {\r\n            ultima_giornata: [],\r\n            prox_giornata: [],\r\n            calend_loaded: false,\r\n            incorso: [],\r\n            incorso_load: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        CaricaCalendario(this.id_camp, (cal) => {\r\n            cal = DueGiornate(cal);\r\n            this.setState({\r\n                ultima_giornata: cal[0],\r\n                prox_giornata: cal[1],\r\n                calend_loaded: true\r\n            });\r\n        });\r\n        CaricaPartiteInCorsoCampionato(this.id_camp, (partite) => {\r\n            console.log(partite);\r\n            this.state.incorso = partite;\r\n            this.setState({ incorso_load: true });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={this.camp.name} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-xl-8 col-lg-7 col-md-12\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">SQUADRE</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\" style={{ padding: \"0.75rem\" }}>\r\n                                            <div className=\"scrollbox\" style={{ maxHeight: \"45vh\" }} >\r\n                                                <div className=\"row\">\r\n                                                    {\r\n                                                        this.camp.teams.sort((a, b) => (a.name > b.name) ? 1 : ((a.name < b.name) ? -1 : 0)).map((e, i) => <SquadraBox key={i} {...e} />)\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className={\"card \" + ((this.state.incorso_load && this.state.incorso.length !== 0) ? \"\" : \"d-none\")} >\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div>\r\n                                                {this.state.incorso.map((e, i) => <Partita key={i} {...e} />)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"card-title\">CALENDARIO</h5>\r\n                                                <Link to={\"/calendario/\" + this.id_camp}>\r\n                                                    calendario completo\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <h5 className=\"d-inline-block\">Ultima giornata</h5>\r\n                                            <div>\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.ultima_giornata} /> : <Loader />}\r\n                                            </div>\r\n                                            <br />\r\n                                            <h5>Prossima giornata</h5>\r\n                                            <div>\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.prox_giornata} /> : <Loader />}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-xl-4 col-lg-5 col-md-12\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <ClassificaBox idc={this.id_camp} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <MarcatoriBox idc={this.id_camp} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import $ from 'jquery'\r\nimport { getCacheArray } from './CacheCommons'\r\n\r\nexport function creaSocieta() {\r\n    let squadre = getCacheArray(\"ns_squadre\");\r\n\r\n    let ids = groupBy(squadre, \"soc\");\r\n    let societa = [];\r\n    Object.keys(ids).forEach(id => {\r\n        id = parseInt(id);\r\n        let soc = { id: id, nome: \"\", logo: \"\", small: \"\", squadre: [] };\r\n\r\n        // recupero le squadre della societ\r\n        soc.squadre = squadre.filter(e => e.soc === id);\r\n\r\n        // recupero il valore migliore per le varie propriet dalle squadre\r\n        soc.nome = selectBestValue(soc.squadre, \"nome\");\r\n        soc.small = selectBestValue(soc.squadre, \"abbr\");\r\n        soc.logo = selectBestValue(soc.squadre, \"logo\");\r\n\r\n        societa.push(soc);\r\n    });\r\n    societa = societa.filter(s => s.small !== \"\").sort((a, b) => (a.small > b.small) ? 1 : -1).map(s => {\r\n        if (s.nome == \"\") s.nome = s.small;\r\n        return s;\r\n    });\r\n    localStorage.setItem(\"ns_societa\", JSON.stringify(squadre));\r\n    return societa;\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x);\r\n        return rv;\r\n    }, {});\r\n};\r\n\r\nfunction selectBestValue(squadre, prop) {\r\n    let values = groupBy(squadre, prop);\r\n    let names = [{ key: \"\", count: 0 }];\r\n    Object.keys(values).forEach(val => {\r\n        if (val != \"\") {\r\n            names.push({ key: val, count: squadre.filter(s => s[prop] === val).length });\r\n        }\r\n    });\r\n    names = names.sort((a, b) => (a.count > b.count) ? -1 : 1);\r\n    return names[0].key;\r\n}\r\n\r\nexport function getSocieta(ids) {\r\n    let cacheSocieta = creaSocieta();\r\n    return cacheSocieta.filter(e => e.id == ids)[0];\r\n}\r\n\r\nexport function getSocietaByIDT(idt) {\r\n    let cacheSocieta = creaSocieta();\r\n    return cacheSocieta.filter(e => e.squadre.filter(s => s.id == idt).length > 0)[0];\r\n}","import { getCachedCampionati } from './CacheCampionato';\r\nimport { getCacheArray, expand, compress } from './CacheCommons'\r\nimport { creaSocieta } from './CacheSocieta';\r\n\r\nexport function getCachedVisCamp() {\r\n    // prendo l'array in memoria\r\n    let camp = getCacheArray(\"vis_campionati\");\r\n    camp = expand(camp, \"id\");\r\n\r\n    // aggiungo eventuali campionati non gi presenti\r\n    let cache = getCachedCampionati();\r\n    cache.forEach(c => {\r\n        if (camp[c.id] === undefined) {\r\n            camp[c.id] = { id: c.id, show: true };\r\n        }\r\n    });\r\n    return camp;\r\n}\r\n\r\nexport function cacheVisCamp(arr) {\r\n    arr = compress(arr);\r\n    localStorage.setItem(\"vis_campionati\", JSON.stringify(arr));\r\n}\r\n\r\nexport function getCachedVisSocieta() {\r\n    // prendo l'array in memoria\r\n    let soc = getCacheArray(\"vis_societa\");\r\n    soc = expand(soc, \"id\");\r\n\r\n    // aggiungo eventuali campionati non gi presenti\r\n    let cache = creaSocieta();\r\n    cache.forEach(c => {\r\n        if (soc[c.id] === undefined) {\r\n            soc[c.id] = { id: c.id, show: true };\r\n        }\r\n    });\r\n    return soc;\r\n}\r\n\r\nexport function cacheVisSocieta(arr) {\r\n    arr = compress(arr);\r\n    localStorage.setItem(\"vis_societa\", JSON.stringify(arr));\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport function CampSmall(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"0.25rem\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const bodyStyle = {\r\n        padding: \"0.75rem\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col col-12 col-sm-6 col-md-4 col-lg-6 col-xl-4\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/campionato/\" + props.id} >\r\n                    <div className=\"card-body\" style={bodyStyle}>\r\n                        <h5 className=\"card-title text-center\"> {titleCase(props.name).replace(' E ', ' e ')} </h5>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function HomeCard(props) {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        {props.children[0]}\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"scrollbox\">\r\n                            {props.children[1]}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Societa(props) {\r\n    return (\r\n        <div className=\"col col-6 col-sm-4 col-md-3 col-lg-4 col-xl-3\">\r\n            <Link to={\"/societa/\" + props.id} className=\"link-unstyled\">\r\n                <div className=\"card card-body p-2 highlight\" style={{ margin: \"0.25rem\", borderRadius: \"10px\" }}>\r\n                    <img src={props.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={props.small} />\r\n                    <h5 className=\"mb-0 mt-1 text-center\">{props.small}</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { titleCase } from '../../API/commons';\r\nimport { cacheVisCamp } from '../../Cache/CacheVisualizzazioni';\r\n\r\nexport default class GestisciCampionati extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            camp: props.camp,\r\n            show: props.show,\r\n            update: true\r\n        }\r\n\r\n        this.close = () => props.callback();\r\n    }\r\n\r\n    mostra(id) {\r\n        this.state.show[id] = { id: id, show: true };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    nascondi(id) {\r\n        this.state.show[id] = { id: id, show: false };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    save() {\r\n        cacheVisCamp(this.state.show);\r\n        this.close();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content p-3\">\r\n                        <div className=\"d-flex justify-content-between mb-2\">\r\n                            <h5 className=\"card-title d-inline-block\">\r\n                                Seleziona campionati da visualizzare\r\n                            </h5>\r\n                            <a role=\"button\" className=\"text-secondary\" onClick={() => this.close()} title=\"chiudi\">\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"scrollbox mt-2 mb-2\" style={{ maxHeight: \"70vh\", overflow: \"auto\" }}>\r\n                            {\r\n                                this.state.camp.map((e, i) => {\r\n                                    let show = (this.state.show[e.id].show);\r\n                                    let btnStyle = { padding: \"4px 10px\", margin: \"0 3px\" }\r\n                                    return (\r\n                                        <div className=\"card card-body p-1 pl-3\" key={i}>\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"m-0\">\r\n                                                    {titleCase(e.name).replace(' E ', ' e ')}\r\n                                                </h5>\r\n                                                <div style={{ minWidth: \"100px\", textAlign: \"right\" }}>\r\n                                                    <button className={\"btn \" + ((show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.mostra(e.id)}>\r\n                                                        <i className=\"fas fa-eye\"></i>\r\n                                                    </button>\r\n                                                    <button className={\"btn \" + ((!show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.nascondi(e.id)}>\r\n                                                        <i className=\"fas fa-eye-slash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <button className=\"btn btn-success m-1\" style={{ width: \"125px\" }} onClick={() => this.save()} >\r\n                                salva\r\n                            </button>\r\n                            <button className=\"btn btn-secondary m-1\" style={{ width: \"125px\" }} onClick={() => this.close()} >\r\n                                annulla\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { titleCase } from '../../API/commons';\r\nimport { cacheVisCamp, cacheVisSocieta } from '../../Cache/CacheVisualizzazioni';\r\n\r\nexport default class GestisciSocieta extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            soc: props.soc,\r\n            show: props.show,\r\n            update: true\r\n        }\r\n\r\n        this.close = () => props.callback();\r\n    }\r\n\r\n    mostra(id) {\r\n        this.state.show[id] = { id: id, show: true };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    nascondi(id) {\r\n        this.state.show[id] = { id: id, show: false };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    save() {\r\n        cacheVisSocieta(this.state.show);\r\n        this.close();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content p-3\">\r\n                        <div className=\"d-flex justify-content-between mb-2\">\r\n                            <h5 className=\"card-title d-inline-block\">\r\n                                Seleziona campionati da visualizzare\r\n                            </h5>\r\n                            <a role=\"button\" className=\"text-secondary\" onClick={() => this.close()} title=\"chiudi\">\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"scrollbox mt-2 mb-2\" style={{ maxHeight: \"70vh\", overflow: \"auto\" }}>\r\n                            {\r\n                                this.state.soc.map((e, i) => {\r\n                                    let show = (this.state.show[e.id].show);\r\n                                    let btnStyle = { padding: \"4px 10px\", margin: \"0 3px\" }\r\n                                    return (\r\n                                        <div className=\"card card-body p-1 pl-3\" key={i}>\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"m-0\">\r\n                                                    {titleCase(e.nome).replace(' E ', ' e ')}\r\n                                                </h5>\r\n                                                <div style={{ minWidth: \"100px\", textAlign: \"right\" }}>\r\n                                                    <button className={\"btn \" + ((show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.mostra(e.id)}>\r\n                                                        <i className=\"fas fa-eye\"></i>\r\n                                                    </button>\r\n                                                    <button className={\"btn \" + ((!show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.nascondi(e.id)}>\r\n                                                        <i className=\"fas fa-eye-slash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <button className=\"btn btn-success m-1\" style={{ width: \"125px\" }} onClick={() => this.save()} >\r\n                                salva\r\n                            </button>\r\n                            <button className=\"btn btn-secondary m-1\" style={{ width: \"125px\" }} onClick={() => this.close()} >\r\n                                annulla\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n/*\r\nfunction Elemento(props) {\r\n    const btnStyle = {\r\n        padding: \"4px 10px\",\r\n        margin: \"0 3px\"\r\n    }\r\n\r\n    return (\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    this.camp = getCacheArray(\"vis_h_campionati\");\r\nthis.camp = expand(camp, \"id\");\r\nthis.state = {\r\n    camp =\r\n        }\r\n\r\nconst salva = () => {\r\n\r\n}\r\n\r\nreturn (\r\n    <>\r\n        <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog modal-lg\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h5>Seleziona campionati da visualizzare</h5>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n)*/","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// API\r\nimport { caricaCampionati } from '../API/ApiCampionati'\r\nimport { CaricaPartiteInCorso, CaricaPartiteRecenti } from '../API/ApiInCorso'\r\n\r\n// CACHE\r\nimport { creaSocieta } from '../Cache/CacheSocieta'\r\nimport { getCachedVisCamp, getCachedVisSocieta } from '../Cache/CacheVisualizzazioni'\r\n\r\n// COMPONENTS\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport { CampSmall as CampElement } from '../Components/Campionati/CampSmall'\r\nimport Partita from '../Components/Calendario/Partita'\r\nimport HomeCard from '../Components/Salvati/HomeCard'\r\nimport Societa from '../Components/Salvati/Societa'\r\n\r\n// MODALS\r\nimport GestisciCampionati from '../Components/Modals/GestisciCampionati'\r\nimport GestisciSocieta from '../Components/Modals/GestisciSocieta'\r\n\r\nexport default class Home extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            campionati: [],\r\n            loaded: false,\r\n            societa: creaSocieta(), societa_ok: (this.societa != []),\r\n            incorso: [], incorso_load: false,\r\n            recenti: [], recenti_load: false,\r\n            showCampionati: getCachedVisCamp(), showCampionati_modal: false,\r\n            showSocieta: getCachedVisSocieta(), showSocieta_modal: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        // caricamento dei campionati\r\n        caricaCampionati(true, (camps) => {\r\n            this.state.campionati = camps;\r\n            this.setState({ loaded: true });\r\n\r\n            if (this.state.societa_ok) {\r\n                this.state.societa = creaSocieta();\r\n                this.setState({ societa_ok: true });\r\n            }\r\n        });\r\n        // caricamento partite in corso\r\n        CaricaPartiteInCorso((x) => {\r\n            this.state.incorso = x;\r\n            this.setState({ incorso_load: true });\r\n        });\r\n        // caricamento partite recenti\r\n        CaricaPartiteRecenti((x) => {\r\n            this.state.recenti = x;\r\n            this.setState({ recenti_load: true });\r\n        });\r\n    }\r\n\r\n    updateVisCampionato(arr) {\r\n        this.state.showCampionati = getCachedVisCamp();\r\n        this.setState({ showCampionati_modal: false });\r\n    }\r\n\r\n    updateVisSocieta(arr) {\r\n        this.state.showSocieta = getCachedVisSocieta();\r\n        this.setState({ showSocieta_modal: false });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title=\"RISULTATI HOCKEY PISTA\" active={\"Home\"} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                {\r\n                                    (!this.state.incorso_load) ? <Loader /> :\r\n                                        (this.state.incorso.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in corso</i></p> :\r\n                                            this.state.incorso.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </HomeCard>\r\n\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE RECENTI</h5>\r\n                                {\r\n                                    (!this.state.recenti_load) ? <Loader /> :\r\n                                        (this.state.recenti.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita recente</i></p> :\r\n                                            this.state.recenti.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </HomeCard>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <h5 className=\"card-title\">CAMPIONATI</h5>\r\n                                    <div>\r\n                                        <button className=\"btn btn-link link-title m-0\" onClick={() => { this.setState({ showCampionati_modal: true }); }}>\r\n                                            gestisci\r\n                                        </button>\r\n                                        <Link to=\"/campionati\" className=\"btn btn-link link-title m-0\">\r\n                                            espandi\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        (!this.state.loaded) ? <Loader /> : this.state.campionati.map((camp, i) => {\r\n                                            try {\r\n                                                if (this.state.showCampionati[camp.id].show) {\r\n                                                    return <CampElement key={i} {...camp} />\r\n                                                }\r\n                                            }\r\n                                            catch (e) {\r\n                                                return <CampElement key={i} {...camp} />\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n                                    <div>\r\n                                        <button className=\"btn btn-link link-title\" onClick={() => { this.setState({ showSocieta_modal: true }); }}>\r\n                                            gestisci\r\n                                        </button>\r\n                                        <Link to=\"/societa\" className=\"btn btn-link link-title\">\r\n                                            espandi\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {(this.state.societa_ok) ?\r\n                                        this.state.societa.map((s, i) => {\r\n                                            try {\r\n                                                if (this.state.showSocieta[s.id].show) {\r\n                                                    return <Societa key={i} {...s} />\r\n                                                }\r\n                                            }\r\n                                            catch (e) {\r\n                                                return <Societa key={i} {...s} />\r\n                                            }\r\n                                        }) : <Loader />}\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    (this.state.showCampionati_modal) ?\r\n                        <GestisciCampionati callback={() => this.updateVisCampionato()} camp={this.state.campionati} show={this.state.showCampionati} /> : null\r\n                }\r\n                {\r\n                    (this.state.showSocieta_modal) ?\r\n                        <GestisciSocieta callback={() => this.updateVisSocieta()} soc={this.state.societa} show={this.state.showSocieta} /> : null\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import { polishString, titleCase, removeTags, extractProp, parseIsleTag, parseCompleteTag, parseTable } from './commons'\r\nimport $ from 'jquery'\r\nimport { getCachedCampionatoByName } from '../Cache/CacheCampionato';\r\nimport { getCachedSquadraByName } from '../Cache/CacheSquadra';\r\nimport { CachePartita, CheckIfCachedMatch } from '../Cache/CachePartita';\r\n\r\nfunction PARTITA() {\r\n    return {\r\n        id: 0,\r\n        referees: {\r\n            ref1: \"\",\r\n            ref2: \"\",\r\n            aus: \"\"\r\n        },\r\n        teamA: new SQUADRA(),\r\n        teamB: new SQUADRA(),\r\n        campionato: {\r\n            idc: 0,\r\n            girone: \"\",\r\n            nome: \"\",\r\n            tempo: 0\r\n        },\r\n        girone: \"\",\r\n        date: { day: \"\", hour: \"\" },\r\n        place: \"\",\r\n        goalsA: 0,\r\n        goalsB: 0,\r\n        falliA: 0,\r\n        falliB: 0,\r\n        currentTime: \"\",\r\n        playing: true,\r\n        actions: []\r\n    }\r\n}\r\n\r\nfunction SQUADRA() {\r\n    return {\r\n        idt: 0,\r\n        nome: \"\",\r\n        logo: \"\",\r\n        small: \"\",\r\n        giocatori: [],\r\n        tecnici: []\r\n    }\r\n}\r\n\r\nfunction AZIONE() {\r\n    return {\r\n        period: \"\",\r\n        time: \"\",\r\n        team: {\r\n            name: \"\",\r\n            small: \"\",\r\n            logo: \"\"\r\n        },\r\n        action: \"\",         // fallo di squadra, gol blu, rosso, ammonizione, tiro diretto, tiro di rigore\r\n        action_supp: \"\",    // # fallo per falli, tabellone per gol\r\n        player: {\r\n            name: \"\",\r\n            number: 0,\r\n            id: 0\r\n        }\r\n    };\r\n}\r\n\r\nexport function CaricaPartita(idp, then, error) {\r\n    let cache = CheckIfCachedMatch(idp);\r\n    if (cache !== null) {\r\n        // partita memorizzata in cache\r\n        console.log(\"found in cache\");\r\n        console.log(cache);\r\n        then(cache);\r\n    }\r\n    else {\r\n        // partita non gi memorizzata\r\n        fetch(\"https://www.server2.sidgad.es/fisr/fisr_gr_\" + idp + \"_1.php\").then((res) => {\r\n            return res.text();\r\n        }).then(data => {\r\n            let partita = parsePartita(data);\r\n            partita.id = parseInt(idp);\r\n            console.log(partita);\r\n\r\n            // se possibile (= partita finita), la memorizzo in cache\r\n            if (partita.currentTime === \"FINALE\") CachePartita(partita);\r\n\r\n            // restituisco il controllo al componente\r\n            then(partita);\r\n        }).catch(() => { error(); });\r\n    }\r\n}\r\n\r\nexport function parsePartita(data) {\r\n    // pulizia iniziale\r\n    data = polishString(data);\r\n    data = data.replaceAll(/https:\\/\\/www.sidgad.com\\/fisr\\/images\\/logo_print.gif/g, \"\");\r\n\r\n    // Oggetto finale\r\n    let partita = new PARTITA();\r\n\r\n    // First table => luogo, # giornata, data, campionato\r\n    data = data.substr(data.indexOf(\"<table\"));\r\n    let firstTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(firstTable, \"\");\r\n    firstTable = firstTable.replace(\"<table\", '<table id=\"tbl-head-1\"');\r\n\r\n    // Second table => squadre A e B, falli e gol A & B, tempo di gioco, loghi squadre A & B\r\n    let secondTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(secondTable, \"\");\r\n    secondTable = secondTable.replace(\"<table\", '<table id=\"tbl-head-2\"');\r\n\r\n    // Third table => eliminare (arbitri)\r\n    let thirdTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(thirdTable, \"\");\r\n\r\n    // Inserimento dei dati delle tabelle nell'oggetto partita\r\n    $(\"body\").append(\"<div id='retrieveMatch' style='display: none'></div>\");\r\n    $(\"#retrieveMatch\").html(firstTable + \" \" + secondTable);\r\n    partita = inserisciDati1(partita, $(\"#retrieveMatch\"));\r\n    $(\"#retrieveMatch\").remove();\r\n\r\n    // azioni del gioco\r\n    let actionStr = data.substr(data.indexOf('<div id=\"game_report_inicidencias\"'));\r\n    actionStr = actionStr.substr(actionStr.indexOf(\"<table\"));\r\n    actionStr = actionStr.substr(0, actionStr.indexOf(\"</table>\") + 8);\r\n    let actionTable = parseTable(polishString(actionStr));\r\n    partita.actions = actionTable.rows.map(parseAzione);\r\n\r\n    // recupera il nome abbreviato e l'id delle squadre\r\n    try {\r\n        let actA = partita.actions.filter(ac => ac.team.name.toLowerCase() === partita.teamA.nome.toLowerCase());\r\n        let actB = partita.actions.filter(ac => ac.team.name.toLowerCase() === partita.teamB.nome.toLowerCase());\r\n        let teamA = getCachedSquadraByName(partita.teamA.nome, partita.campionato.idc);\r\n        let teamB = getCachedSquadraByName(partita.teamB.nome, partita.campionato.idc);\r\n        partita.teamA.idt = teamA.id;\r\n        partita.teamB.idt = teamB.id;\r\n        partita.teamA.small = actA[0].team.small;\r\n        partita.teamB.small = actB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    // tabelle dei giocatori\r\n    $(\"body\").append(\"<div id='contTeam' style='display: none'></div>\");\r\n    {\r\n        let tableTeam = data.substr(data.indexOf('<table width=\"100%\" class=\"competiciones_tabla_basic\">'));\r\n        tableTeam = tableTeam.substr(0, tableTeam.indexOf(\"</table>\"));\r\n        data = data.replace(tableTeam, \"\");\r\n        tableTeam = polishString(tableTeam);\r\n        tableTeam = tableTeam.replace(\"<table \", \"<table id='tableTeam' class='table table-striped table-bordered' \");\r\n        $(\"#contTeam\").html(tableTeam);\r\n        formatTeamTable($(\"#tableTeam\"));\r\n    }\r\n    let ret = parseTeamTable($(\"#tableTeam\"));\r\n    partita.teamA.giocatori = ret[0];\r\n    partita.teamA.tecnici = ret[1];\r\n    {\r\n        let tableTeam = data.substr(data.indexOf('<table width=\"100%\" class=\"competiciones_tabla_basic\">'));\r\n        tableTeam = tableTeam.substr(0, tableTeam.indexOf(\"</table>\"));\r\n        data = data.replace(tableTeam, \"\");\r\n        tableTeam = polishString(tableTeam);\r\n        tableTeam = tableTeam.replace(\"<table \", \"<table id='tableTeam' class='table table-striped table-bordered' \");\r\n        $(\"#contTeam\").html(tableTeam);\r\n        formatTeamTable($(\"#tableTeam\"));\r\n    }\r\n    ret = parseTeamTable($(\"#tableTeam\"));\r\n    partita.teamB.giocatori = ret[0];\r\n    partita.teamB.tecnici = ret[1];\r\n\r\n    // arbitri\r\n    let tableReport = data.substr(data.indexOf('<div id=\"div_acta\"'));\r\n    $(\"body\").append(\"<div id='retrieveReferees' class='d-none'></div>\");\r\n    $(\"#retrieveReferees\").html(tableReport);\r\n    partita = retrieveReferees(partita, $(\"#retrieveReferees\"));\r\n    $(\"#retrieveReferees\").remove();\r\n\r\n    return partita;\r\n}\r\n\r\nfunction inserisciDati1(match, tables) {\r\n    let rows = tables.find(\"table tbody tr\");\r\n    let cells1 = $(rows[0]).find(\"td\");\r\n    let cells2 = $(rows[1]).find(\"td\");\r\n\r\n    match.place = titleCase($(cells1[1]).html()).trim();\r\n\r\n    let matchStr = titleCase($(cells1[0]).html()).trim();\r\n    let matchComp = matchStr.split('-').map(elem => elem.trim());\r\n    match.date.hour = matchComp[matchComp.length - 1];\r\n    let supp = (matchComp[matchComp.length - 2].split(' '));\r\n    match.date.day = supp[supp.length - 1];\r\n    let fullCamp = \"\";\r\n    if (matchComp.length - 2 === 1) {\r\n        match.campionato.nome = matchComp[0].replace(/[0-9]{4}\\/[0-9]{4}/g, \"\").replaceAll(\" E \", \" e \").trim();\r\n        fullCamp = match.campionato.nome.toUpperCase();\r\n    }\r\n    else {\r\n        match.campionato.nome = matchComp[0].replaceAll(\" E \", \" e \").trim();\r\n        match.campionato.girone = matchComp[1].replace(/[0-9]{4}\\/[0-9]{4}/g, \"\").replaceAll(\" E \", \" e \").trim();\r\n        fullCamp = match.campionato.nome.toUpperCase() + \" - \" + match.campionato.girone.toUpperCase();\r\n    }\r\n    try {\r\n        let cachedCamp = getCachedCampionatoByName(fullCamp);\r\n        match.campionato.idc = cachedCamp.id;\r\n        match.campionato.abbr = cachedCamp.abbr;\r\n        match.campionato.tempo = cachedCamp.dur_tempo;\r\n    } catch (e) { }\r\n\r\n    try {\r\n        match.teamA.nome = titleCase(removeTags($(cells2[0]).html(), \"div\", true, false));\r\n        match.teamA.logo = extractProp(parseIsleTag(removeTags($(cells2[1]).html(), \"div\", true, false)), \"src\");\r\n        match.teamB.nome = titleCase(removeTags($(cells2[6]).html(), \"div\", true, false));\r\n        match.teamB.logo = extractProp(parseIsleTag(removeTags($(cells2[5]).html(), \"div\", true, false)), \"src\");\r\n    } catch (e) { }\r\n\r\n    let scoreStr = $(cells2[3]).html();\r\n    let div1 = scoreStr.substr(0, scoreStr.indexOf(\"</div>\") + 6);\r\n    scoreStr = scoreStr.replace(div1, \"\");\r\n    let div2 = scoreStr.substr(0, scoreStr.indexOf(\"</div>\") + 6);\r\n    let div3 = scoreStr.replace(div2, \"\");\r\n    match.currentTimestamp = removeTags(div3, \"div\", true, false);\r\n    let scores = parseCompleteTag(div1).content.split(\"-\").map(elem => removeTags(elem, \"span\", true, false));\r\n    match.goalsA = parseInt(scores[0]);\r\n    match.goalsB = parseInt(scores[1]);\r\n    match.currentTime = removeTags(removeTags(removeTags(parseCompleteTag(div2).content, \"span\", false, true), \"span\", false, true), \"span\", true, false);\r\n    match.playing = !(match.currentTime === \"FINALE\");\r\n\r\n    match.falliA = parseInt(removeTags($(cells2[2]).html(), \"div\", true, false));\r\n    match.falliB = parseInt(removeTags($(cells2[4]).html(), \"div\", true, false));\r\n\r\n    return match;\r\n}\r\n\r\nfunction parseAzione(row) {\r\n\r\n    let lookForPlayer = (str, numb) => {\r\n        str = removeTags(str, \"span\", true, false);\r\n        let tag = parseCompleteTag(str);\r\n        numb = removeTags(numb, \"[^<>]*\", true, false);\r\n        return {\r\n            name: tag.content, number: parseInt(numb),\r\n            id: parseInt(tag.props.filter(elem => (elem.name === \"id_player\" || elem.name === \"id\"))[0].value)\r\n        };\r\n    };\r\n    let lookForPlayerRecursive = (str, numb) => {\r\n        str = str.substr(str.indexOf(\"</a>\") + 4);\r\n        str = str.substr(str.indexOf(\"<a\"));\r\n        str = str.substr(0, str.indexOf(\"</a>\") + 4);\r\n        return lookForPlayer(str, numb);\r\n    };\r\n\r\n    let azione = new AZIONE();\r\n\r\n    try {\r\n\r\n        // period and time of the action\r\n        let cell = row.cells[0].content;\r\n        let cell1 = cell.substr(0, cell.indexOf(\"</div>\") + 6);\r\n        let cell2 = cell.replace(cell1, \"\");\r\n        azione.period = removeTags(cell1, \"div\", true, false);\r\n        azione.time = removeTags(cell2, \"div\", true, false);\r\n\r\n        // team\r\n        cell = row.cells[1].content;\r\n        cell1 = cell.substr(0, cell.indexOf(\"<div\"));\r\n        cell2 = cell.replace(cell1, \"\");\r\n        azione.team.logo = parseIsleTag(cell1).props[0].value;\r\n        azione.team.small = removeTags(cell2, \"div\", true, false);\r\n\r\n        // azione\r\n        cell = row.cells[7].content;\r\n        cell1 = cell.substr(0, cell.indexOf(\"</div>\") + 6);     // action -> also retrieve the full name of the team\r\n        cell2 = cell.replace(cell1, \"\");                        // other info\r\n        // based on action, I look for other params\r\n        if (cell1.includes(\"TIMEOUT\")) {\r\n            azione.action = \"timeout\";\r\n        }\r\n        else if (cell1.includes(\"AMMONIZIONE VERBALE\")) {\r\n            azione.action = \"ammonizione\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"CARTELLINO BLU\")) {\r\n            azione.action = \"blu\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"CARTELLINO ROSSO\")) {\r\n            azione.action = \"rosso\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"GOL\")) {\r\n            azione.action = \"gol\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n            azione.action_supp = removeTags(row.cells[3].content, \"div\", true, false);\r\n        }\r\n        else if (cell1.includes(\"FALLI\")) {\r\n            azione.action = \"fallo\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n            azione.action_supp = removeTags(row.cells[3].content, \"div\", true, false);\r\n        }\r\n        else if (cell1.includes(\"TIRO DIRETTO\")) {\r\n            azione.action = \"diretto\";\r\n            azione.player = lookForPlayerRecursive(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"RIGORE\")) {\r\n            azione.action = \"rigore\";\r\n            azione.player = lookForPlayerRecursive(cell2, row.cells[6].content);\r\n        }\r\n        azione.team.name = removeTags(removeTags(removeTags(cell1, \"span\", true, true), \"strong\", true, true), \"div\", true, false);\r\n\r\n    } catch (e) { console.log(e) }\r\n\r\n    return azione;\r\n}\r\n\r\nfunction formatTeamTable(table) {\r\n    // removing first row (name of the team)\r\n    let primaRiga = table.find(\"thead tr\")[0];\r\n    let nomeSquadra = $(primaRiga).find(\"td div\").html();\r\n    primaRiga.remove();\r\n\r\n    // modifying thead values\r\n    $(table.find(\"thead tr th\")[0]).html(\"N\").addClass(\"col1\");\r\n    $(table.find(\"thead tr th\")[1]).html(\"R\").addClass(\"col2\");\r\n    $(table.find(\"thead tr th\")[3]).html(\"5 I\").addClass(\"col3\");\r\n    $(table.find(\"thead tr th\")[4]).html(\"Nome\").removeAttr(\"style colspan\").addClass(\"col4\");\r\n    $(table.find(\"thead tr th\")[5]).html(\"Gol\").removeAttr(\"width\").addClass(\"col5\");\r\n    $(table.find(\"thead tr th\")[11]).html(\"<i class='fas fa-square' style='color: blue'></i>\").removeAttr(\"width\").addClass(\"col6\");\r\n    $(table.find(\"thead tr th\")[12]).html(\"<i class='fas fa-square' style='color: red'></i>\").removeAttr(\"width\").addClass(\"col7\");\r\n\r\n    let theads = table.find(\"thead\")\r\n    $.each(theads, (el) => {\r\n        $(theads[el]).addClass(\"thead-light\");\r\n    })\r\n\r\n    // remove some columns\r\n    let removeColumn = (table, numCol, remHead) => {\r\n        if (remHead) { table.find(\"thead tr th\")[numCol].remove(); }\r\n        let rows = table.find(\"tbody tr\");\r\n        let i = 0;\r\n        while (!($(rows[i]).html().includes('colspan=\"6\"'))) {\r\n            $(rows[i]).find(\"td\")[numCol].remove();\r\n            i++;\r\n        }\r\n    }\r\n\r\n    // remove columns from players' table\r\n    removeColumn(table, 2, true);\r\n    removeColumn(table, 3, false);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n\r\n    // formatting players' rows\r\n    let i = 0;\r\n    let rows = table.find(\"tbody tr\");\r\n    while (!($(rows[i]).html().includes('colspan=\"6\"'))) {\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        // number\r\n        $(cells[0]).removeAttr(\"align width\").addClass(\"col1\");\r\n\r\n        // role\r\n        let cell = $(cells[1]);\r\n        cell.removeAttr(\"align width class\").addClass(\"col2\");\r\n        let str = removeTags(cell.html(), \"div\", true, false);\r\n        cell.html(\"<span>\" + str + \"</span>\");\r\n\r\n        // initial 5\r\n        $(cells[2]).removeAttr(\"align width class\").addClass(\"col3\");\r\n        $(cells[2]).html(($(cells[2]).html() !== \"\") ? '<span class=\"fa fa fa-circle\" style=\"color:#18B; font-size: 0.8em;\" aria-hidden=\"true\"></span>' : \"\");\r\n\r\n        // name\r\n        cell = $(cells[3]);\r\n        cell.removeAttr(\"style\").addClass(\"col4\");\r\n        str = removeTags(polishString(cell.html()), \"span\", true, false);\r\n        str = str.substr(0, str.indexOf(\"</div>\") + 6);\r\n        let tag = parseCompleteTag(str);\r\n        // id = tag.props.filter(elem => elem.name == \"id\")[0].value;\r\n        cell.html(titleCase(tag.content));\r\n\r\n        // gol, blu, rossi\r\n        $(cells[4]).removeClass(\"stats_table\").addClass(\"col5\").removeAttr(\"id\");\r\n        $(cells[5]).removeClass(\"stats_table\").addClass(\"col6\");\r\n        $(cells[6]).removeClass(\"stats_table\").addClass(\"col7\");\r\n\r\n        i++;\r\n    }\r\n\r\n    // replacing separing line\r\n    $(rows[i]).remove();\r\n\r\n    // edit dirigenti\r\n    i++;\r\n    while (rows[i] != null) {\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        $(cells[0]).attr(\"colspan\", \"1\").removeClass(\"stats_table\").addClass(\"col1\");\r\n\r\n        let cell = $(cells[1]);\r\n        cell.removeAttr(\"align class\").addClass(\"col2\");\r\n        let str = removeTags(cell.html(), \"div\", true, false);\r\n        cell.html(\"<span>\" + str + \"</span>\");\r\n\r\n        $(cells[2]).removeAttr(\"align width class style\").addClass(\"col3\").html(\"\");\r\n\r\n        cell = $(cells[3]);\r\n        cell.removeAttr(\"style\").addClass(\"col4\").attr(\"colspan\", \"2\");\r\n        cell.html(titleCase(removeTags(polishString(cell.html()), \"span\", true, false)));\r\n\r\n        $(cells[4]).removeClass(\"stats_table\").addClass(\"col5\")\r\n        $(cells[5]).removeClass(\"stats_table\").addClass(\"col6\");\r\n        $(cells[6]).removeClass(\"stats_table\").addClass(\"col7\");\r\n\r\n        i++;\r\n    }\r\n\r\n    // edit technicians' label row\r\n    $($(table.find(\"thead\")[1]).find(\"th\")[0]).attr(\"colspan\", \"7\").removeAttr(\"style\").html(\"Ruoli tecnici\");\r\n\r\n    return nomeSquadra;\r\n}\r\n\r\nfunction parseTeamTable(table) {\r\n    let tbodies = table.find(\"tbody\");\r\n\r\n    let getContent = (row) => $(row).html();\r\n\r\n    // Giocatori\r\n    let rows_gioc = $(tbodies[0]).find(\"tr\");\r\n    let giocatori = [];\r\n    $.each(rows_gioc, (i) => {\r\n        let cells = $(rows_gioc[i]).find(\"td\");\r\n        giocatori.push({\r\n            num: getContent(cells[0]),\r\n            ruolo: removeTags(getContent(cells[1]), \"span\", true, false),\r\n            i5: (getContent(cells[2]) !== \"\"),\r\n            nome: getContent(cells[3]),\r\n            gol: getContent(cells[4]),\r\n            blu: getContent(cells[5]),\r\n            rossi: getContent(cells[6])\r\n        })\r\n    })\r\n\r\n    // Tecnici\r\n    let rows_tecn = $(tbodies[1]).find(\"tr\");\r\n    let tecnici = [];\r\n    $.each(rows_tecn, (i) => {\r\n        let cells = $(rows_tecn[i]).find(\"td\");\r\n        tecnici.push({\r\n            ruolo: removeTags(getContent(cells[1]), \"span\", true, false),\r\n            nome: getContent(cells[3]),\r\n            blu: getContent(cells[4]),\r\n            rossi: getContent(cells[5])\r\n        })\r\n    })\r\n\r\n    return [giocatori, tecnici];\r\n}\r\n\r\nfunction retrieveReferees(match, elem) {\r\n    let table = elem.find(\"table\")[0];\r\n    let rows = $(table).find(\"tr\");\r\n\r\n    match.referees.ref1 = titleCase($($(rows[4]).find(\"td\")[1]).html()).replace(',', '').trim();\r\n    match.referees.ref2 = titleCase($($(rows[4]).find(\"td\")[3]).html()).replace(',', '').trim();\r\n    match.referees.aus = titleCase($($(rows[5]).find(\"td\")[1]).html()).replace(',', '').trim();\r\n\r\n    return match;\r\n}","import { getObjectFromCache, Contains } from './CacheCommons'\r\n\r\nexport function CheckIfCachedMatch(id) {\r\n    id = parseInt(id);\r\n    let obj = getObjectFromCache(\"cache_partite\");\r\n    if (Contains(id, obj.array))\r\n        return obj.array.filter(e => e.id === id)[0];\r\n    else\r\n        return null;\r\n}\r\n\r\nexport function CachePartita(partita) {\r\n    let obj = getObjectFromCache(\"cache_partite\");\r\n    if (!Contains(partita.id, obj.array)) {\r\n        obj.array[obj.next] = partita;\r\n        obj.next = ((obj.next + 1) % obj.size);\r\n        localStorage.setItem(\"cache_partite\", JSON.stringify(obj));\r\n    }\r\n}","import React from 'react'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport function NewAzione() {\r\n    return {\r\n        period: \"\",\r\n        time: \"\",\r\n        team: {\r\n            name: \"\",\r\n            small: \"\",\r\n            logo: \"\"\r\n        },\r\n        action: \"\",         // fallo di squadra, gol blu, rosso, ammonizione, tiro diretto, tiro di rigore\r\n        action_supp: \"\",    // # fallo per falli, tabellone per gol\r\n        player: {\r\n            name: \"\",\r\n            number: 0,\r\n            id: 0\r\n        }\r\n    }\r\n}\r\n\r\nfunction createElement(type, title, badge, player, time, img) {\r\n    return (\r\n        <div className=\"action-elem action-elem-secondary\">\r\n            {(badge != null) ? (<span className=\"badge badge-secondary sora\">{badge}</span>) : \"\"}\r\n            <h5>{title}</h5>\r\n            {(player != null) ? (<p>{player}</p>) : \"\"}\r\n            <p style={{ fontSize: \"0.8em\" }}>{time}</p>\r\n            <img src={img} alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function Azione(elem) {\r\n    if (elem.action === \"fallo\") {\r\n        return createElement('warning', elem.action_supp + \" fallo di squadra\", null, null, elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"timeout\") {\r\n        return createElement('warning', \"Timeout\", null, null, elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"gol\") {\r\n        return createElement('success', \"Gol\", elem.action_supp, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"blu\") {\r\n        return createElement('primary', \"Cartellino blu\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"rosso\") {\r\n        return createElement('danger', \"Cartellino rosso\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"ammonizione\") {\r\n        return createElement('warning', \"Ammonizione verbale\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"diretto\") {\r\n        return createElement('primary', \"Tiro diretto\", null, \"Tiro di: \" + titleCase(elem.player.name), elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"rigore\") {\r\n        return createElement('primary', \"Tiro di rigore\", null, \"Tiro di: \" + titleCase(elem.player.name), elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    return null;\r\n}","import React from 'react'\r\n\r\nconst Arbitro = (props) => {\r\n    return (\r\n        <tr>\r\n            <td>{props.ruolo}</td>\r\n            <td>{props.nome}</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default function Abitri(props) {\r\n\r\n    let show12 = false, show2 = false, showa = false;\r\n\r\n    if (props.ref1 !== \"\" && props.ref2 === \"\") show12 = false;\r\n    if (props.ref1 !== \"\" && props.ref2 !== \"\") show12 = true;\r\n    if (props.ref2 !== \"\") show2 = true;\r\n    if (props.aus !== \"\") showa = true;\r\n\r\n    return (\r\n        <>\r\n            { (show12) ? <Arbitro ruolo=\"Arbitro 1\" nome={props.ref1} /> : <Arbitro ruolo=\"Arbitro\" nome={props.ref1} />}\r\n            { (show2) ? <Arbitro ruolo=\"Arbitro 2\" nome={props.ref2} /> : null}\r\n            { (showa) ? <Arbitro ruolo=\"Ausiliario\" nome={props.aus} /> : null}\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Arbitri from './Abitri'\r\n\r\nexport default function LeftPanel(props) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\" style={{ height: \"calc(100% - 10px)\" }}>\r\n                <div className=\"card-body text-center\">\r\n                    <div className=\"h-100 d-flex align-items-center\">\r\n                        <div className=\"w-100\">\r\n                            <h4>\r\n                                <Link to={\"/campionato/\" + props.campionato.idc} style={{ color: \"black\" }}>\r\n                                    {props.campionato.nome}\r\n                                </Link>\r\n                            </h4>\r\n                            <h6>\r\n                                {props.campionato.girone}\r\n                            </h6>\r\n                            <h5>\r\n                                {props.date.day} - {props.date.hour}\r\n                            </h5>\r\n                            <h6>\r\n                                {props.place}\r\n                            </h6>\r\n                            <hr />\r\n                            <table className=\"table m-0 tbl-referees\">\r\n                                <tbody>\r\n                                    <Arbitri {...props.referees} />\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Loader from './Loader'\r\n\r\nexport default function ModalLoader() {\r\n    return (\r\n        <div className=\"modal fade show\" tabIndex=\"-1\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\" style={{ marginTop: \"120px\" }}>\r\n                <div className=\"modal-content\">\r\n                    <Loader />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Scoreboard(props) {\r\n    return (\r\n        <div className=\"card\" style={{ height: \"calc(100% - 10px)\" }}>\r\n            <div className=\"card-body text-center\">\r\n                <div className=\"h-100 d-flex align-items-center\">\r\n                    <ScoreboardSmall {...props} />\r\n                    <ScoreboardLarge {...props} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ScoreboardSmall(props) {\r\n    return (\r\n        <div className=\"w-100 d-sm-none\">\r\n            <div className=\"row\">\r\n                <SquadraSmall style={{ paddingRight: \"5px\" }} team={props.teamA} />\r\n                <SquadraSmall style={{ paddingLeft: \"5px\" }} team={props.teamB} />\r\n            </div>\r\n            <br />\r\n            <div className=\"w-100\">\r\n                <h1 className=\"title-badge badge-success\">\r\n                    {props.goalsA + \" - \" + props.goalsB}\r\n                </h1>\r\n                <br />\r\n                <h5 className=\"title-badge badge-secondary mt-2\">\r\n                    {props.currentTime}\r\n                </h5> &nbsp;\r\n                {\r\n                    (props.currentTimestamp !== undefined && props.currentTimestamp !== \"\") ?\r\n                        <h5 className=\"title-badge badge-secondary mt-2\"> {props.currentTimestamp} </h5> : \"\"\r\n                }\r\n            </div>\r\n            <br />\r\n            <table className=\"w-100 mb-0\">\r\n                <tbody>\r\n                    <Falli {...props} />\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ScoreboardLarge(props) {\r\n    return (\r\n        <div className=\"d-none d-sm-block w-100\">\r\n            <table className=\"w-100\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td width=\"35%\">\r\n                            <SquadraLarge team={props.teamA} />\r\n                        </td>\r\n                        <td width=\"30%\">\r\n                            <h1 className=\"title-badge badge-success\">\r\n                                {props.goalsA + \" - \" + props.goalsB}\r\n                            </h1>\r\n                            <br />\r\n                            <h5 className=\"title-badge badge-secondary\" style={{ marginTop: \"10px\", fontWeight: \"400\" }}>\r\n                                {props.currentTime}\r\n                            </h5>\r\n                            <br />\r\n                            {\r\n                                (props.currentTimestamp !== undefined && props.currentTimestamp !== \"\") ?\r\n                                    <h6 className=\"title-badge badge-secondary\" style={{ marginTop: \"10px\", fontWeight: \"400\" }}> {props.currentTimestamp} </h6> : \"\"\r\n                            }\r\n                        </td>\r\n                        <td width=\"35%\">\r\n                            <SquadraLarge team={props.teamB} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr height=\"20px\">\r\n                        <td></td>\r\n                    </tr>\r\n                    <Falli {...props} />\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SquadraSmall(props) {\r\n    return (\r\n        <div className=\"col col-6\" style={props.style}>\r\n            <img src={props.team.logo} alt={props.team.small} width=\"80px\" />\r\n            <Link style={{ color: \"black\" }} to={\"/squadra/\" + props.team.idt} >\r\n                <h3 className=\"SquadraName\">\r\n                    {props.team.nome}\r\n                </h3>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SquadraLarge(props) {\r\n    return (\r\n        <>\r\n            <img src={props.team.logo} alt={props.team.small} width=\"90px\" />\r\n            <Link style={{ color: \"black\" }} to={\"/squadra/\" + props.team.idt} >\r\n                <h3 className=\"SquadraName\">\r\n                    {props.team.nome}\r\n                </h3>\r\n            </Link>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Falli(props) {\r\n    return (\r\n        <tr>\r\n            <td width=\"35%\">\r\n                <h4 className=\"sora\"> {props.falliA} </h4>\r\n            </td>\r\n            <td width=\"30%\"> falli </td>\r\n            <td width=\"35%\">\r\n                <h4 className=\"sora\"> {props.falliB} </h4>\r\n            </td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Giocatori(props) {\r\n    return (\r\n        <table className=\"table table-striped table-bordered table-match\" width=\"100%\">\r\n            <thead className=\"thead-light\">\r\n                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                    <th className=\"col1\">N</th>\r\n                    <th className=\"col2\">R</th>\r\n                    <th className=\"col3\">5 I</th>\r\n                    <th className=\"col4\">Nome</th>\r\n                    <th className=\"col5\">Gol</th>\r\n                    <th className=\"col6\">\r\n                        <i className=\"fas fa-square\" style={{ color: \"blue\" }}></i>\r\n                    </th>\r\n                    <th className=\"col7\">\r\n                        <i className=\"fas fa-square\" style={{ color: \"red\" }}></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.giocatori.map((g, i) => <Giocatore key={i} {...g} />)}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Giocatore(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">{obj.num}</td>\r\n            <td className=\"col2\">\r\n                <span>{obj.ruolo}</span>\r\n            </td>\r\n            <td className=\"col3\">\r\n                {(obj.i5) ? <span className=\"fa fa fa-circle\" style={{ color: \"#18B\", fontSize: \"0.8em\" }} aria-hidden=\"true\"></span> : \"\"}\r\n            </td>\r\n            <td className=\"col4\">{obj.nome}</td>\r\n            <td className=\"col5\">{obj.gol}</td>\r\n            <td className=\"col6\">{obj.blu}</td>\r\n            <td className=\"col7\">{obj.rossi}</td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Tecnici(props) {\r\n    return (\r\n        <table className=\"table table-striped table-bordered table-match\" width=\"100%\">\r\n            <thead className=\"thead-light\">\r\n                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                    <th colSpan=\"7\">Ruoli tecnici</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.tecnici.map((t, i) => <Tecnico key={i} {...t} />)}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Tecnico(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\"></td>\r\n            <td className=\"col2\">\r\n                <span>{obj.ruolo}</span>\r\n            </td>\r\n            <td className=\"col3\"> </td>\r\n            <td className=\"col4\" colSpan=\"2\">{obj.nome}</td>\r\n            <td className=\"col6\">{obj.blu}</td>\r\n            <td className=\"col7\">{obj.rossi}</td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Giocatori from './Giocatori'\r\nimport Tecnici from './Tecnici'\r\n\r\nexport default function Squadra(props) {\r\n\r\n    return (\r\n        <div className=\"col col-12 col-md-6\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header text-center\">\r\n                    <h5 className=\"card-title text-uppercase\">\r\n                        {props.nome}\r\n                    </h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <Giocatori giocatori={props.giocatori} />\r\n                    <br />\r\n                    <Tecnici tecnici={props.tecnici} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Evento(elem) {\r\n\r\n    // posizione\r\n    let minxtempo = parseInt(elem.minxtempo);\r\n    let time = elem.time.split(':');\r\n    let min = (minxtempo - parseInt(time[0]) - 1) + (elem.period === 'P2' ? minxtempo : 0);\r\n    let sec = (60 - parseInt(time[1]));\r\n    let poss = ((min * 60 + sec) / (minxtempo * 2 * 60)) * 100;\r\n    let pos = (elem.dir === \"vert\") ? { top: poss + \"%\" } : { left: poss + \"%\" };\r\n\r\n    if (elem.action === \"fallo\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row2\" pos={pos}>\r\n                <Fallo />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"timeout\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row5\" pos={pos}>\r\n                <Timeout />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"gol\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row1\" pos={pos}>\r\n                <Gol />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"blu\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Blu />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"rosso\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Rosso />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"ammonizione\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Ammonizione />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"diretto\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row4\" pos={pos}>\r\n                <Diretto />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"rigore\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row4\" pos={pos}>\r\n                <Rigore />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nfunction EventoBlock(props) {\r\n    return (\r\n        <div className={\"tl-elem \" + props.row} style={props.pos}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Fallo() { return (<span className=\"fa fa-circle text-warning\"></span>) }\r\nfunction Timeout() { return (<span className=\"badge badge-secondary\">T</span>) }\r\nfunction Gol() { return (<span className=\"fa fa-circle text-success\"></span>) }\r\nfunction Blu() { return (<span className=\"fa fa-square\" style={{ color: \"blue\" }}></span>) }\r\nfunction Rosso() { return (<span className=\"fa fa-square\" style={{ color: \"red\" }}></span>) }\r\nfunction Ammonizione() { return (<span className=\"fa fa-square\" style={{ color: \"#FF8000\" }}></span>) }\r\nfunction Diretto() { return (<span className=\"badge badge-secondary\">D</span>) }\r\nfunction Rigore() { return (<span className=\"badge badge-secondary\">R</span>) }\r\n","import React from 'react'\r\n\r\nexport default function Labels(props) {\r\n\r\n    const arr = prepare(parseInt(props.tempo) * 2, props.dir);\r\n    return (\r\n        <>\r\n            {arr.map((a, i) => <Label key={i} {...a} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction prepare(totalMin, dir) {\r\n    let a = [];\r\n    let i = 0;\r\n    while (i <= totalMin) {\r\n        let pos = \"\" + i / totalMin * 100 + \"%\";\r\n        a.push({\r\n            style: (dir === \"vert\") ? { top: pos } : { left: pos },\r\n            label: i\r\n        });\r\n        i += 5;\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction Label(props) {\r\n    return (\r\n        <div className=\"tl-label\" style={props.style}>{props.label}</div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Evento from './Evento';\r\nimport Labels from './Labels';\r\nimport './timeline.css'\r\n\r\nexport default function TimelineOrizz(props) {\r\n\r\n    const tempo = props.campionato.tempo;\r\n    const teamA = props.teamA;\r\n    const teamB = props.teamB;\r\n    let actions = props.actions;\r\n    const actionsA = actions.filter(a => a.team.logo === teamA.logo);\r\n    const actionsB = actions.filter(a => a.team.logo === teamB.logo);\r\n\r\n    try {\r\n        teamA.small = actionsA[0].team.small;\r\n        teamB.small = actionsB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row d-none d-md-block\">\r\n                <div className=\"col col-12\">\r\n                    <div className=\"card\" style={{ paddingRight: \"1em\" }}>\r\n                        <div className=\"card-body\">\r\n                            <table className=\"timeline-oriz\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td className=\"head\">\r\n                                            <img src={teamA.logo} alt={teamA.small} style={{ width: \"30px\" }} />\r\n                                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamA.small}</h6>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-cont tl-top\">\r\n                                                {actionsA.map((a, i) => <Evento key={i} {...a} dir=\"oriz\" minxtempo={tempo} />)}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td></td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-sep\" id=\"timeline-oriz-sep\">\r\n                                                <hr />\r\n                                                <Labels tempo={tempo} dir=\"oriz\" />\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td className=\"head\">\r\n                                            <img src={teamB.logo} alt={teamB.small} style={{ width: \"30px\" }} />\r\n                                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamB.small}</h6>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-cont tl-bottom\">\r\n                                                {actionsB.map((a, i) => <Evento key={i} {...a} dir=\"oriz\" minxtempo={tempo} />)}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Evento from './Evento';\r\nimport Labels from './Labels';\r\nimport './timeline.css'\r\n\r\nexport default function TimelineVert(props) {\r\n\r\n    const tempo = props.campionato.tempo;\r\n    const teamA = props.teamA;\r\n    const teamB = props.teamB;\r\n    let actions = props.actions;\r\n    const actionsA = actions.filter(a => a.team.logo === teamA.logo);\r\n    const actionsB = actions.filter(a => a.team.logo === teamB.logo);\r\n\r\n    try {\r\n        teamA.small = actionsA[0].team.small;\r\n        teamB.small = actionsB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    return (\r\n        <div className=\"card card-body d-block d-md-none\" style={{ height: \"95vh\", paddingBottom: \"30px\" }}>\r\n            <table className=\"timeline-vert\">\r\n                <tbody>\r\n                    <tr className=\"head\">\r\n                        <td>\r\n                            <img src={teamA.logo} alt={teamA.small} style={{ width: \"30px\" }} />\r\n                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamA.small}</h6>\r\n                        </td>\r\n                        <td style={{ width: \"40px\" }}></td>\r\n                        <td>\r\n                            <img src={teamB.logo} alt={teamB.small} style={{ width: \"30px\" }} />\r\n                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamB.small}</h6>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div className=\"tl-vert-cont tl-left\" id=\"timeline-vert-A\">\r\n                                {actionsA.map((a, i) => <Evento key={i} {...a} dir=\"vert\" minxtempo={tempo} />)}\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <div className=\"tl-vert-sep\" id=\"timeline-vert-sep\">\r\n                                <div className=\"tl-line\"></div>\r\n                                <Labels tempo={tempo} dir=\"vert\" />\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <div className=\"tl-vert-cont tl-right\" id=\"timeline-vert-B\">\r\n                                {actionsB.map((a, i) => <Evento key={i} {...a} dir=\"vert\" minxtempo={tempo} />)}\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function ErrorePartita(props) {\r\n    return (\r\n        <div className=\"modal fade show\" tabIndex=\"-1\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\" style={{ marginTop: \"120px\" }}>\r\n                <div className=\"modal-content\">\r\n                    <div className=\"card card-body text-center\">\r\n                        <h5 className=\"text-bold\">Partita non iniziata</h5>\r\n                        <br />\r\n                        <button onClick={props.callBack} className=\"btn btn-primary\" style={{ width: \"100%\", maxWidth: \"200px\", margin: \"0 auto\" }}>\r\n                            indietro\r\n                    </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport '../Components/Partita/TabellaSquadre/match.css'\r\n\r\nimport ProvaPartita from '../Components/Partita/ProvaPartita'\r\nimport { CaricaPartita } from '../API/ApiPartita'\r\n\r\nimport Azione from '../Components/Partita/Azione'\r\nimport LeftPanel from '../Components/Partita/LeftPanel'\r\nimport ModalLoader from '../Components/Varie/ModalLoader'\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Scoreboard from '../Components/Partita/Scoreboard'\r\nimport Squadra from '../Components/Partita/TabellaSquadre/Squadra'\r\nimport TimelineOrizz from '../Components/Partita/Timeline/TimelineOrizz'\r\nimport TimelineVert from '../Components/Partita/Timeline/TimelineVert'\r\nimport ErrorePartita from '../Components/Partita/ErrorePartita'\r\n\r\nexport default class Partita extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_partita = props.match.params.id;\r\n        this.path = props.location.pathname;\r\n        this.intervalID = null;\r\n\r\n        this.state = {\r\n            partita: ProvaPartita(),\r\n            loaded: false,\r\n            title: \"Risultati hockey pista\",\r\n            error: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        this.CaricaDati();\r\n        this.intervalID = setInterval(this.CaricaDati.bind(this), 20000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalID);\r\n    }\r\n\r\n    CaricaDati() {\r\n        CaricaPartita(this.id_partita, (partita) => {\r\n            if (partita.currentTime === \"FINALE\") clearInterval(this.intervalID);\r\n            this.setState({\r\n                partita: partita,\r\n                loaded: true,\r\n                title: (\"\" + partita.campionato.abbr + \": \" + partita.teamA.small + \" vs \" + partita.teamB.small)\r\n            });\r\n        }, () => {\r\n            this.setState({\r\n                loaded: true,\r\n                error: true\r\n            });\r\n            console.log(\"partita non iniziata\");\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(this.state.loaded) ? null : <ModalLoader />}\r\n                {(!this.state.error) ? null : <ErrorePartita callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar title={this.state.title} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-9\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12 col-xl-3 col-lg-4 col-md-12 order-2 order-lg-1\">\r\n                                    <LeftPanel {...this.state.partita} />\r\n                                </div>\r\n                                <div className=\"col col-12 col-xl-9 col-lg-8 col-md-12 order-1 order-lg-2\">\r\n                                    <Scoreboard {...this.state.partita} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row d-none d-md-block\">\r\n                                <TimelineOrizz {...this.state.partita} />\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <Squadra {...this.state.partita.teamA} />\r\n                                <Squadra {...this.state.partita.teamB} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-3\">\r\n                            <div className=\"row justify-content-md-center\">\r\n                                <div className=\"col col-12 col-sm-6 col-lg-12 order-2 order-md-1 \">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-body actions-div\">\r\n                                            {this.state.partita.actions.map((a, i) => <Azione key={i} {...a} minxtempo={this.state.partita.campionato.tempo} />)}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12 col-sm-6 col-lg-12 order-1 order-md-2 d-md-none\">\r\n                                    <TimelineVert {...this.state.partita} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","export default function ProvaPartita() {\r\n    return {\r\n        actions: [],\r\n        campionato: {\r\n            idc: 0,\r\n            girone: \"---\",\r\n            nome: \"Campionato\",\r\n            tempo: 0\r\n        },\r\n        currentTime: \"-----\",\r\n        date: { day: \"01/01/2000\", hour: \"00:00\" },\r\n        idp: 0,\r\n        place: \"---\",\r\n        playing: false,\r\n        falliA: 0,\r\n        falliB: 0,\r\n        goalsA: 0,\r\n        goalsB: 0,\r\n        referees: {\r\n            aus: \"\",\r\n            ref1: \"\",\r\n            ref2: \"\"\r\n        },\r\n        teamA: {\r\n            idt: 0,\r\n            logo: \"https://via.placeholder.com/80x80.png?text=A\",\r\n            nome: \"A\",\r\n            small: \"A\",\r\n            giocatori: [],\r\n            tecnici: []\r\n        },\r\n        teamB: {\r\n            idt: 0,\r\n            logo: \"https://via.placeholder.com/80x80.png?text=B\",\r\n            nome: \"B\",\r\n            small: \"B\",\r\n            giocatori: [],\r\n            tecnici: []\r\n        }\r\n    }\r\n}","import $ from 'jquery';\r\nimport { CacheGiocatori, CheckIfCachedTeam } from '../Cache/CacheGiocatori';\r\nimport { polishString, extractProp, parseIsleTag, parseCompleteTag, titleCase, removeTags } from './commons'\r\n\r\nfunction GIOCATORE() {\r\n    return { idpl: 0, nome: \"\", idgc: \"\", naz: \"\", presenze: 0, gol: 0, assist: 0, rigori: \"\", diretti: \"\", blu: 0, rossi: 0 }\r\n}\r\n\r\nfunction TECNICO() { return { nome: \"\", naz: \"\" }; }\r\n\r\nexport function CaricaSquadra(idt, idc, then) {\r\n    let cache = CheckIfCachedTeam(idt);\r\n    console.log(cache);\r\n    if (cache !== null) {\r\n        // partita memorizzata in cache\r\n        console.log(\"team members list found in cache\");\r\n        console.log(cache);\r\n        then(cache.gioc, cache.tecn);\r\n    }\r\n    else {\r\n        console.log(\"looking for it\")\r\n        caricaSquadraOnline(idt, idc, (giocatori, tecnici) => {\r\n            CacheGiocatori({ id: parseInt(idt), gioc: giocatori, tecn: tecnici });\r\n            then(giocatori, tecnici);\r\n        });\r\n    }\r\n}\r\n\r\nexport function caricaSquadraOnline(idt, idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveSquadra' style='display: none'></div>\");\r\n    $('#retrieveSquadra').load('https://www.server2.sidgad.es/fisr/fisr_stats_1_' + idc + '.php', {\r\n        idc: idc,\r\n        idq: idt,\r\n        filter: 3,\r\n        tipo_stats: \"plantillas\"\r\n    }, (data) => {\r\n\r\n        data = polishString(data);\r\n\r\n        let firstTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n        let secondTable = data.replace(firstTable, \"\");\r\n\r\n        firstTable = firstTable.replace('<table', '<table id=\"tbl-sq-gioc-xxx\"');\r\n        secondTable = secondTable.replace('<table', '<table id=\"tbl-sq-tecn-xxx\"');\r\n\r\n        let rem = firstTable.substr(firstTable.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        firstTable = firstTable.replace(rem, \"\");\r\n\r\n        rem = secondTable.substr(secondTable.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        secondTable = secondTable.replace(rem, \"\");\r\n\r\n        $('#retrieveSquadra').html(firstTable + \" \" + secondTable);\r\n\r\n        let giocatori = parseTableGiocatori($(\"#tbl-sq-gioc-xxx\"), idt);\r\n\r\n        let tecnici = parseTableTecnici($(\"#tbl-sq-tecn-xxx\"), idt);\r\n\r\n        $(\"#retrieveSquadra\").remove();\r\n\r\n        then(giocatori, tecnici);\r\n    });\r\n}\r\n\r\nfunction parseTableGiocatori(table, id_team) {\r\n    var rows = table.find(\"tbody tr\");\r\n    var giocatori = [];\r\n\r\n    let parseWdef = (str, def) => { if (str === \"\") return def; return parseInt(str); }\r\n    let setWdef = (str, def) => { if (str === \"\") return def; return str; }\r\n\r\n    $.each(rows, i => {\r\n        let cells = $(rows[i]).find(\"td\");\r\n        let gioc = new GIOCATORE();\r\n\r\n        gioc.naz = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        let tag = parseCompleteTag($(cells[4]).html());\r\n        let this_sq = extractProp(tag, \"team_id\").replace('\"', \"\");\r\n        gioc.idpl = extractProp(tag, \"id_player\");\r\n        gioc.nome = titleCase(extractProp(tag, \"player_name\").replace(',', ''));\r\n        gioc.gol = parseWdef($(cells[5]).html(), 0);\r\n        gioc.presenze = parseWdef($(cells[6]).html(), 0);\r\n        gioc.assist = parseWdef($(cells[8]).html(), 0);\r\n        gioc.rigori = setWdef($(cells[10]).html(), \"0/0\");\r\n        gioc.diretti = setWdef($(cells[12]).html(), \"0/0\");\r\n        gioc.blu = parseWdef($(cells[14]).html(), 0);\r\n        gioc.rossi = parseWdef($(cells[16]).html(), 0);\r\n\r\n        if (this_sq === id_team) { giocatori.push(gioc); }\r\n    });\r\n\r\n    return giocatori;\r\n}\r\n\r\nfunction parseTableTecnici(table, id_team) {\r\n    var rows = table.find(\"tbody tr\");\r\n    var tecnici = [];\r\n\r\n    $.each(rows, i => {\r\n        let cells = $(rows[i]).find(\"td\");\r\n        let tecn = new TECNICO();\r\n\r\n        tecn.naz = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        tecn.nome = titleCase(removeTags($(cells[4]).html(), \"span\", true, false));\r\n\r\n        let this_sq = $(rows[i]).attr(\"class\").replace(\" fila_stats_player\", \"\").replace(\"teamid_\", \"\");\r\n\r\n        if (this_sq === id_team) { tecnici.push(tecn); }\r\n    });\r\n\r\n    return tecnici;\r\n}","import { getObjectFromCache, Contains } from './CacheCommons'\r\n\r\nexport function CheckIfCachedTeam(id) {\r\n    id = parseInt(id);\r\n    let obj = getObjectFromCache(\"cache_giocatori\");\r\n    if (Contains(id, obj.array))\r\n        return obj.array.filter(e => e.id === id)[0];\r\n    else\r\n        return null;\r\n}\r\n\r\nexport function CacheGiocatori(team) {\r\n    let obj = getObjectFromCache(\"cache_giocatori\");\r\n    if (!Contains(team.id, obj.array)) {\r\n        obj.array[obj.next] = team;\r\n        obj.next = ((obj.next + 1) % obj.size);\r\n        localStorage.setItem(\"cache_giocatori\", JSON.stringify(obj));\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport default function Campionato(props) {\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-header\">\r\n                <h5 className=\"card-title\">CAMPIONATO</h5>\r\n            </div>\r\n            <div className=\"card-body text-center\">\r\n                <img src={props.logo} style={{ width: \"50%\", maxWidth: \"120px\" }} alt={props.abbr} />\r\n                <div style={{ height: \"66px\", marginTop: \"10px\" }} className=\"d-flex align-items-center justify-content-center\">\r\n                    <Link className=\"pb-0\" to={\"/campionato/\" + props.id} style={{ color: \"black\" }}>\r\n                        <h3>{titleCase(props.name).replace(' E ', ' e ')}</h3>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport default function Campionato(props) {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-header\">\r\n                <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n            </div>\r\n            <div className=\"card-body text-center\">\r\n                <img src={props.logo} style={{ width: \"50%\", maxWidth: \"120px\" }} alt={props.small} />\r\n                <div style={{ height: \"66px\", marginTop: \"10px\" }} className=\"d-flex align-items-center justify-content-center\">\r\n                    <Link className=\"pb-0\" to={\"/societa/\" + props.id} style={{ color: \"black\" }}>\r\n                        <h3>{titleCase(props.nome)}</h3>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { caricaClassificaSquadra } from '../../API/ApiClassifica';\r\nimport { getCachedSquadra } from '../../Cache/CacheSquadra';\r\nimport Loader from '../Varie/Loader';\r\n\r\nexport default class ClassificaSquadra extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_team = props.team;\r\n        this.id_camp = props.camp;\r\n        this.nome = getCachedSquadra(this.id_team).nome;\r\n        this.abbr = getCachedSquadra(this.id_team).abbr;\r\n\r\n        this.state = {\r\n            classifica: {},\r\n            loaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        caricaClassificaSquadra(this.id_camp, this.abbr, (clas) => {\r\n            this.setState({\r\n                classifica: clas,\r\n                loaded: true\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h5 className=\"card-title\">CLASSIFICA</h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    {(this.state.loaded) ? <ActualClassifica {...this.state.classifica} /> : <Loader />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction ActualClassifica(clas) {\r\n    return (\r\n        <div className=\"text-center\">\r\n            <h1 className=\"m-0\">{clas.pos}<sup>o</sup></h1>\r\n            <h3>POSTO</h3>\r\n            <p style={{ fontSize: \"1.4em\" }}><strong>{clas.punti}</strong> {clas.punti == 1 ? \"punto\" : \"punti\"}</p>\r\n            <div className=\"row text-center m-0\" style={{ fontSize: \"0.8em\" }}>\r\n                <div className=\"col\"> <strong>GTE </strong> {clas.gte} </div>\r\n                <div className=\"col\"> <strong>VTE </strong> {clas.vte} </div>\r\n                <div className=\"col\"> <strong>PTE </strong> {clas.pte} </div>\r\n                <div className=\"col\"> <strong>PSE </strong> {clas.pse} </div>\r\n                <div className=\"w-100\"></div>\r\n                <div className=\"col\"> <strong>RFT </strong> {clas.rft} </div>\r\n                <div className=\"col\"> <strong>RST </strong> {clas.pos} </div>\r\n                <div className=\"col\"> <strong>DIFF</strong> {clas.diff} </div>\r\n                <div className=\"col\"> <strong>PEN </strong> {clas.pen} </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { caricaMarcatori } from '../../API/ApiMarcatori';\r\nimport Loader from '../Varie/Loader';\r\nimport { Marcatore } from './Marcatore';\r\n\r\nexport default class MarcatoriSquadra extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_team = props.team;\r\n        this.id_camp = props.camp;\r\n\r\n        this.state = {\r\n            marcatori: [],\r\n            loaded: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        caricaMarcatori(this.id_camp, (marc) => {\r\n            marc = marc.filter(e => e.team.idt == this.id_team);\r\n            marc.forEach(m => { this.state.marcatori.push(m) });\r\n            this.setState({\r\n                loaded: true\r\n            });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id === showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">MARCATORI</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                        {\r\n                            (!this.state.loaded) ? <Loader /> : (this.state.marcatori.map((marc, i) =>\r\n                                <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function SquadraBox(props) {\r\n    return (\r\n        <div>\r\n            <div className=\"row m-0\">\r\n                <div className=\"col col-sm-12 col-md-9 col-lg-12 col-xl-8\">\r\n                    <div style={{ width: \"100%\", overflow: \"auto\" }}>\r\n                        <table className=\"table table-striped table-bordered table-squadra\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                                    <th className=\"col1\"></th>\r\n                                    <th className=\"col2\">Nome</th>\r\n                                    <th className=\"col3\">Gte</th>\r\n                                    <th className=\"col4\">Gol</th>\r\n                                    <th className=\"col4\">Ass</th>\r\n                                    <th className=\"col5\">Rig</th>\r\n                                    <th className=\"col6\">Dir</th>\r\n                                    <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"blue\" }}></i></th>\r\n                                    <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"red\" }}></i></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {props.giocatori.map((g, i) => <Giocatore {...g} key={i} />)}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className=\"col col-sm-12 col-md-3 col-lg-12 col-xl-4 p-0 pt-3 pt-md-0 pl-md-2 pl-lg-0 pt-lg-3 pl-xl-3 pt-xl-0\">\r\n                    <table className=\"table table-striped table-bordered table-squadra\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th className=\"col1\"></th>\r\n                                <th className=\"col2\">Ruoli tecnici</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {props.tecnici.map((g, i) => <Tecnico {...g} key={i} />)}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Giocatore(obj) {\r\n    let f = (str, nv) => {\r\n        if (str == nv)\r\n            return (<span className=\"nv\"> {str}</span>);\r\n        return str;\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">\r\n                <img src={obj.naz} alt=\"\" />\r\n            </td>\r\n            <td className=\"col2\">{obj.nome}</td>\r\n            <td className=\"col3\">{f(obj.presenze, \"0\")}</td>\r\n            <td className=\"col4\">{f(obj.gol, \"0\")}</td>\r\n            <td className=\"col5\">{f(obj.assist, \"0\")}</td>\r\n            <td className=\"col6\">{f(obj.rigori, \"0/0\")}</td>\r\n            <td className=\"col7\">{f(obj.diretti, \"0/0\")}</td>\r\n            <td className=\"col7\">{f(obj.blu, \"0\")}</td>\r\n            <td className=\"col7\">{f(obj.rossi, \"0\")}</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nfunction Tecnico(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">\r\n                <img src={obj.naz} alt=\"\" />\r\n            </td>\r\n            <td className=\"col2\">{obj.nome}</td>\r\n        </tr>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport '../Components/Squadra/squadra.css'\r\n\r\nimport { CaricaCalendario, CampionatoSquadra } from '../API/ApiCalendario';\r\nimport { CaricaSquadra } from '../API/ApiSquadra'\r\nimport { getCachedSquadra } from '../Cache/CacheSquadra';\r\nimport { getCachedCampionato } from '../Cache/CacheCampionato';\r\nimport { getSocietaByIDT } from '../Cache/CacheSocieta';\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport PartiteBox from '../Components/Calendario/PartiteBox';\r\nimport Campionato from '../Components/Squadra/Campionato'\r\nimport Societa from '../Components/Squadra/Societa';\r\nimport ClassificaSquadra from '../Components/Classifica/ClassificaSquadra';\r\nimport MarcatoriSquadra from '../Components/Marcatori/MarcatoriSquadra';\r\nimport SquadraBox from '../Components/Squadra/SquadraBox';\r\n\r\nexport default class Squadra extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_team = props.match.params.id;\r\n        this.path = props.location.pathname;\r\n        this.cached_team = getCachedSquadra(this.id_team);\r\n\r\n        // campionato\r\n        this.id_camp = this.cached_team.camp;\r\n        this.cached_camp = getCachedCampionato(this.id_camp);\r\n        //console.log(this.cached_camp);\r\n\r\n        // societ\r\n        this.societa = getSocietaByIDT(this.id_team);\r\n\r\n        this.state = {\r\n            title: \"Risultati hockey pista\",\r\n            calendario: { partite: [] },\r\n            giocatori: [],\r\n            tecnici: [],\r\n            squadra_loaded: false,\r\n            calend_loaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        CaricaCalendario(this.id_camp, (cal) => {\r\n            cal = CampionatoSquadra(cal, this.id_team);\r\n            cal.forEach(g => {\r\n                this.state.calendario.partite.push(g);\r\n            });\r\n            this.setState({\r\n                calend_loaded: true\r\n            });\r\n        });\r\n\r\n        CaricaSquadra(this.id_team, this.id_camp, (gioc, tecn) => {\r\n            this.setState({\r\n                giocatori: gioc,\r\n                tecnici: tecn,\r\n                squadra_loaded: true\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={this.cached_camp.abbr + \": \" + this.cached_team.nome} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-7 col-xl-8 order-2 order-lg-1\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">SQUADRA</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            {(this.state.squadra_loaded) ? <SquadraBox {...this.state} /> : <Loader />}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div id=\"playing-parent\" className=\"card d-none\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"row\" id=\"playing\">\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">CALENDARIO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"scrollbox\" style={{ maxHeight: \"70vh\" }} >\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.calendario} /> : <Loader />}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-5 col-xl-4 order-1 order-lg-2\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <ClassificaSquadra team={this.id_team} camp={this.id_camp} />\r\n                                </div>\r\n                                <div className=\"col col-12 col-md-6 col-lg-12 col-xl-6\">\r\n                                    <Societa {...this.societa} />\r\n                                </div>\r\n                                <div className=\"col col-12 col-md-6 col-lg-12 col-xl-6\">\r\n                                    <Campionato {...this.cached_camp} />\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <MarcatoriSquadra team={this.id_team} camp={this.id_camp} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { creaSocieta } from '../Cache/CacheSocieta';\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\n\r\nexport default class SocietaAll extends Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n    \r\n    render() {\r\n        const societa = creaSocieta();\r\n        return (\r\n            <>\r\n                <Navbar title=\"Societ hockey pista\" active=\"Societ\" />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        {societa.map((s, i) => <SocietaBlock {...s} key={i} />)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction SocietaBlock(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"10px\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const logoStyle = {\r\n        margin: \"0 auto\",\r\n        textAlign: \"center\",\r\n        width: \"50%\",\r\n        maxWidth: \"120px\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-lg-3 col-md-6 col-sm-12 p-2\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/societa/\" + props.id} query={{ nome: props.nome }}>\r\n                    <div className=\"card-body text-center\">\r\n                        <img src={props.logo} style={logoStyle} alt={props.nome} />\r\n                        <h5 className=\"card-title text-center mt-3\"> {props.nome} </h5>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { caricaClassificaSquadra } from '../../API/ApiClassifica';\r\n\r\nexport default class ClassificaSocieta extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            squadre: props.squadre,\r\n            classifiche: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.squadre.forEach(sq => {\r\n            caricaClassificaSquadra(sq.camp, sq.abbr, (obj) => {\r\n                obj = (obj === undefined) ? { pos: \"?\", punti: \"?\" } : obj;\r\n                this.setState((prevState) => {\r\n                    return { classifiche: prevState.classifiche.concat({ ...obj, ...sq }).sort((a, b) => (a.camp > b.camp) ? 1 : -1) };\r\n                })\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.classifiche.map((c, i) => <ClassificaElem {...c} key={i} />)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction ClassificaElem(props) {\r\n    return (\r\n        <div className=\"card card-body highlight cls-card\">\r\n            <Link to={\"/squadra/\" + props.id} className=\"link-unstyled\">\r\n                <table className=\"w-100\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className=\"cls-col1\">{props.camp_abb}</td>\r\n                            <td className=\"cls-col2\">{props.nome}</td>\r\n                            <td className=\"cls-col3\">\r\n                                <b>{props.pos} <sup>o</sup></b>\r\n                            </td>\r\n                            <td className=\"cls-col4\">\r\n                                <b>{props.punti}</b> pti\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component, useEffect } from 'react'\r\n\r\nimport { getSocieta } from '../Cache/CacheSocieta'\r\n\r\nimport Navbar from '../Components/Varie/Navbar';\r\nimport Loader from '../Components/Varie/Loader';\r\nimport ClassificaSocieta from '../Components/Classifica/ClassificaSocieta';\r\nimport { CaricaPartiteRecentiSocieta, CaricaPartiteInCorsoSocieta, CaricaPartiteFutureSocieta } from '../API/ApiInCorso';\r\nimport Partita from '../Components/Calendario/Partita';\r\n\r\nexport default class Societa extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_soc = props.match.params.id;\r\n        this.path = props.location.pathname;\r\n\r\n        this.cached_soc = getSocieta(this.id_soc);\r\n        console.log(this.cached_soc);\r\n\r\n        this.state = {\r\n            recenti: [],\r\n            recenti_load: false,\r\n            future: [],\r\n            future_load: false,\r\n            incorso: [],\r\n            incorso_load: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        \r\n        CaricaPartiteRecentiSocieta(this.id_soc, (partite) => {\r\n            this.state.recenti = partite;\r\n            this.setState({ recenti_load: true });\r\n        });\r\n        CaricaPartiteInCorsoSocieta(this.id_soc, (partite) => {\r\n            this.state.incorso = partite;\r\n            this.setState({ incorso_load: true });\r\n        });\r\n        CaricaPartiteFutureSocieta(this.id_soc, (partite) => {\r\n            this.state.future = partite;\r\n            this.setState({ future_load: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={this.cached_soc.nome} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"d-flex flex-column flex-sm-row align-items-sm-center\">\r\n                                                <div className=\"p-2 text-center\">\r\n                                                    <img src={this.cached_soc.logo} style={{ height: \"110px\" }} alt={this.cached_soc.small} />\r\n                                                </div>\r\n                                                <div className=\"p-2 d-none d-sm-block text-left\">\r\n                                                    <h3><b>{this.cached_soc.nome}</b></h3>\r\n                                                    <h5 className=\"m-0\">Codice societ: <b>{this.cached_soc.id}</b></h5>\r\n                                                </div>\r\n                                                <div className=\"d-block d-sm-none text-center\">\r\n                                                    <h3><b>{this.cached_soc.nome}</b></h3>\r\n                                                    <h5 className=\"m-0\">Codice societ: <b>{this.cached_soc.id}</b></h5>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Card title=\"situazione nelle classifiche\">\r\n                                <ClassificaSocieta {...this.cached_soc} />\r\n                            </Card>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <Card title=\"partite in corso\">\r\n                                {\r\n                                    (!this.state.incorso_load) ? <Loader /> :\r\n                                        (this.state.incorso.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in corso</i></p> :\r\n                                            this.state.incorso.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </Card>\r\n                            <Card title=\"partite recenti\">\r\n                                {\r\n                                    (!this.state.recenti_load) ? <Loader /> :\r\n                                        (this.state.recenti.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita recente</i></p> :\r\n                                            this.state.recenti.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </Card>\r\n                            <Card title=\"partite in programma\">\r\n                                {\r\n                                    (!this.state.future_load) ? <Loader /> :\r\n                                        (this.state.future.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in programa</i></p> :\r\n                                            this.state.future.map((e, i) => {\r\n                                                e.idp = undefined;\r\n                                                return <Partita key={i} {...e} />\r\n                                            })\r\n                                }\r\n                            </Card>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction Card(props) {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h5 className=\"card-title text-uppercase\">{props.title}</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div>\r\n                            {props.children}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Squadra(props) {\r\n    return (\r\n        <div className=\"col col-6 col-sm-4 col-md-3 col-lg-4 col-xl-3\">\r\n            <Link to={\"/squadra/\" + props.id} className=\"link-unstyled\">\r\n                <div className=\"card card-body p-2 highlight\" style={{ margin: \"0.25rem\", borderRadius: \"10px\" }}>\r\n                    <img src={props.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={props.abbr} />\r\n                    <h5 className=\"mb-0 mt-1 text-center\">{props.abbr} ({props.camp_abb})</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport '../Components/Calendario/Calendario.css'\r\n\r\n// CACHE\r\nimport { getCacheArray } from '../Cache/CacheCommons'\r\nimport { getSocieta } from '../Cache/CacheSocieta'\r\nimport { getCachedCampionato } from '../Cache/CacheCampionato'\r\nimport { getCachedSquadra } from '../Cache/CacheSquadra'\r\n\r\n// API\r\nimport { CaricaPartita } from '../API/ApiPartita'\r\n\r\n// COMPONENTS\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport { CampSmall as Campionato } from '../Components/Campionati/CampSmall'\r\nimport Partita from '../Components/Calendario/Partita'\r\nimport HomeCard from '../Components/Salvati/HomeCard'\r\nimport Squadra from '../Components/Salvati/Squadra'\r\nimport Societa from '../Components/Salvati/Societa'\r\n\r\nexport default class Salvati extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.salvati = getCacheArray(\"ns_salvati\");\r\n\r\n        this.state = {\r\n            societa: this.salvati.filter(e => (e.indexOf(\"/societa/\") === 0)).map(e => { return parseInt(e.replace(\"/societa/\", \"\")); }),\r\n            squadre: this.salvati.filter(e => (e.indexOf(\"/squadra/\") === 0)).map(e => { return parseInt(e.replace(\"/squadra/\", \"\")); }),\r\n            partiteID: this.salvati.filter(e => (e.indexOf(\"/partita/\") === 0)).map(e => { return parseInt(e.replace(\"/partita/\", \"\")); }),\r\n            partite: [],\r\n            campionati: this.salvati.filter(e => (e.indexOf(\"/campionato/\") === 0)).map(e => { return parseInt(e.replace(\"/campionato/\", \"\")); })\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        // caricamento partite\r\n        this.state.partiteID.forEach(id => {\r\n            CaricaPartita(id, (partita) => {\r\n                this.setState(prev => {\r\n                    return { partite: prev.partite.concat(partita) }\r\n                });\r\n            }, () => { });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title=\"ELEMENTI SALVATI\" active={\"Salvati\"} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE</h5>\r\n                                {\r\n                                    (this.state.partite.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita salvata</i></p> :\r\n                                        this.state.partite.map((e, i) => {\r\n                                            let p = {\r\n                                                idp: e.id,\r\n                                                day: e.date.day, hour: e.date.hour,\r\n                                                campAbbr: e.campionato.abbr,\r\n                                                score: (\"\" + e.goalsA + \" - \" + e.goalsB),\r\n                                                teamA: { logo: e.teamA.logo, smallname: e.teamA.small, fullname: e.teamA.nome.toUpperCase() },\r\n                                                teamB: { logo: e.teamB.logo, smallname: e.teamB.small, fullname: e.teamB.nome.toUpperCase() }\r\n                                            }\r\n                                            return <Partita key={i} {...p} />\r\n                                        })\r\n                                }\r\n                            </HomeCard>\r\n\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">SQUADRE</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.squadre.map((id, i) => {\r\n                                            let obj = getCachedSquadra(id);\r\n                                            return <Squadra key={i} {...obj} />\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">CAMPIONATI</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.campionati.map((id, i) => {\r\n                                            let obj = getCachedCampionato(id);\r\n                                            return <Campionato key={i} {...obj} />\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.societa.map((id, i) => {\r\n                                            let obj = getSocieta(id);\r\n                                            return <Societa key={i} {...obj} />\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Navbar from '../Components/Varie/Navbar';\r\n\r\nexport default class Guida extends Component {\r\n    constructor(props) {\r\n        super();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={\"Risultati Hockey pista\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h2>Attivazione del sito</h2>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <p>Purtroppo, a causa di un problema esterno a questa piattaforma e causato dal sito originale,  necessario eseguire i seguenti passaggi per poter utilizzare Hockeypista 2.0</p>\r\n                            <br />\r\n                            <ol>\r\n                                <li>Innanzitutto, assicurati di utilizzare come browser Google Chrome, soprattutto se vuoi utilizzare Hockeypista 2.0 su smartphone/tablet</li>\r\n                                <li>In fondo a questa pagina, clicca sul pulsante rosso. Ti si aprir una pagina in una nuova scheda</li>\r\n                                <li>Il browser mostrer un avviso di sicurezza come il seguente:</li>\r\n                                <li>Clicca su \"avanzate\"</li>\r\n                                <li>Clicca su \"prosegui\" (non sicuro)</li>\r\n                            </ol>\r\n                            <div className=\"alert alert-warning\">\r\n                                <b>Attenzione</b>: questa operazione non compromette la sicurezza del tuo dispositivo, parola dello sviluppatore. Ma, in ogni caso, se non ti fidi, non procedere. Purtroppo per non potrai usufruire di Hockeypista 2.0.\r\n                            </div>\r\n                            <ol>\r\n                                <li>Se hai seguito tutti i passaggi correttamente, ti verr visualizzata una pagina bianca. A questo punto puoi chiudere quella scheda</li>\r\n                                <li>Torna alla homepage e ricarica la pagina (potrebbe essere necessario farlo un paio di volte): ora appariranno i contenuti</li>\r\n                            </ol>\r\n                            <a href=\"https://www.server2.sidgad.es/fisr/fisr_ls_1.php\" target=\"blank\" className=\"btn btn-danger\">\r\n                                Vada vada, non cincischi\r\n                            </a>\r\n                            <hr />\r\n                    Per segnalare malfunzionamenti e/o bug, utilizza la scheda 'issues' della repository di github.\r\n                    <br />\r\n                    Sei un po' nerd anche tu e vuoi contribuire a questo progetto? Richiedi di collaborare alla repository.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './assets/global.css'\n\nimport Calendario from './Pages/Calendario';\nimport Campionati from './Pages/Campionati';\nimport Campionato from './Pages/Campionato';\nimport Home from './Pages/Home';\nimport Partita from './Pages/Partita';\nimport Squadra from './Pages/Squadra';\nimport SocietaAll from './Pages/SocietaAll';\nimport Societa from './Pages/Societa';\nimport Salvati from './Pages/Salvati';\nimport Guida from './Pages/Guida';\n\nexport default class App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Router basename=\"/\">\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route path=\"/calendario/:id\" component={Calendario} />\n\t\t\t\t\t<Route path=\"/campionati\" component={Campionati} />\n\t\t\t\t\t<Route path=\"/campionato/:id\" component={Campionato} />\n\t\t\t\t\t<Route path=\"/partita/:id\" component={Partita} />\n\t\t\t\t\t<Route path=\"/squadra/:id\" component={Squadra} />\n\t\t\t\t\t<Route exact path=\"/societa\" component={SocietaAll} />\n\t\t\t\t\t<Route path=\"/societa/:id\" component={Societa} />\n\t\t\t\t\t<Route path=\"/salvati\" component={Salvati} />\n\t\t\t\t\t<Route path=\"/guida\" component={Guida} />\n\t\t\t\t</Router>\n\t\t\t</>\n\t\t)\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}