{"version":3,"sources":["API/ApiAnalytics.js","API/commons.js","Data structures/GeneralCache.js","Cache/CacheSquadra.js","API/ApiCalendario.js","Data structures/TemporalCache.js","API/ApiCampionati.js","Data structures/TemporalObjCache.js","Middleware/MwCampionati.js","API/ApiPartita.js","Data structures/CircularQueue.js","Middleware/MwPartita.js","Middleware/MwCalendario.js","Components/Calendario/Partita.js","Components/Calendario/PartiteBox.js","Components/Calendario/Giornata.js","Components/Varie/Loader.js","assets/logo.png","Cache/CacheCommons.js","Cache/CachePreferiti.js","Components/Varie/Preferiti.js","Components/Varie/Navbar.js","Components/Modals/ErroreNotFound.js","Pages/Calendario.js","Components/Campionati/CampLarge.js","Pages/Campionati.js","API/ApiInCorso.js","Middleware/MwInCorso.js","API/ApiMarcatori.js","Middleware/MwMarcatori.js","Components/Marcatori/Marcatore.js","Components/Marcatori/MarcatoriBox.js","API/ApiClassifica.js","Middleware/MwClassifica.js","Components/Classifica/Classifica.js","Components/Classifica/ClassificaBox.js","Components/Campionati/SquadraBox.js","Pages/Campionato.js","Cache/CacheSocieta.js","Cache/CacheVisualizzazioni.js","Components/Campionati/CampSmall.js","Components/Salvati/HomeCard.js","Components/Salvati/Societa.js","Components/Modals/GestisciCampionati.js","Components/Modals/GestisciSocieta.js","Components/Modals/ErroreAttivazione.js","Pages/Home.js","Components/Modals/ErrorePartita.js","Components/Partita/Azione.js","Components/Partita/Abitri.js","Components/Partita/LeftPanel.js","Components/Varie/ModalLoader.js","Components/Partita/Scoreboard.js","Components/Partita/TabellaSquadre/Giocatori.js","Components/Partita/TabellaSquadre/Tecnici.js","Components/Partita/TabellaSquadre/Squadra.js","Components/Partita/Timeline/Evento.js","Components/Partita/Timeline/Labels.js","Components/Partita/Timeline/TimelineOrizz.js","Components/Partita/Timeline/TimelineVert.js","Components/Partita/Rigori.js","Pages/Partita.js","Components/Partita/ProvaPartita.js","API/ApiSquadra.js","Middleware/MwSquadra.js","Components/Squadra/Campionato.js","Components/Squadra/Societa.js","Components/Classifica/ClassificaSquadra.js","Components/Marcatori/MarcatoriSquadra.js","Components/Squadra/SquadraBox.js","Pages/Squadra.js","Pages/SocietaAll.js","Components/Classifica/ClassificaSocieta.js","Pages/Societa.js","Components/Salvati/Squadra.js","Pages/Salvati.js","assets/guida/guida_1.jpg","assets/guida/guida_2.jpg","assets/guida/guida_3.jpg","Pages/Guida.js","Pages/Impostazioni.js","Pages/PrimoAccesso.js","API/ApiGiocatore.js","Components/Giocatori/Campionato.giocatori.js","Pages/Giocatore.js","assets/logo_512.jpg","SplashScreen.js","App.js","serviceWorker.js","index.js"],"names":["GtagInitialize","gtag","window","dataLayer","push","arguments","Date","titleCase","str","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","prepareURLforProxy","url","polishString","replace","trim","parseCompleteTag","tag","type","props","params","content","openTagStr","substr","indexOf","forEach","p","parseProperty","parseParams","filter","elem","ident","value","e","lastIndexOf","parseIsleTag","name","substring","ind","extractProp","prop","removeTags","tagname","multiple","removeContent","re","RegExp","myReplaceAll","input","search","repl","GeneralCache","this","array","arr","insert","key","length","localStorage","setItem","JSON","stringify","x","getItem","parse","cache","restore","filt","save","done","cacheSquadra","id","nome","logo","abbr","camp","camp_abb","parseInt","squadre","Restore","selected","get","obj","soc","extractSocietaID","includes","y","getCachedSquadra","GetFrom","getCachedSquadraByName","GetAllFrom","ApiCalendario","idc","then","$","append","load","data","rem","html","calendario","table","lastgiornata","rows","find","giornata","GIORNATA","parseGameDate","a","each","i","partita","PARTITA","cells","this_giornata","attr","day","hour","score","teams","teams_id","teamA","idt","team","team1","fullname","smallname","teamB","idp","undefined","partite","splice","pdate","d","sort","b","parseCalendario","remove","TemporalCache","seconds","expiration","new_obj","expiry","now","polish","res","getTime","queue","ApiCampionati","error","fetch","redirect","text","working","parseCampionato","season","catch","console","log","dur_tempo","ret","match","season_str","img_tag","teams_str","info","TemporalObjCache","object","validate","short_term_cache","long_term_cache","CaricaCampionati","forceRefresh","short_cache","cached","campionati","long_cache","c","ApiPartita","firstTable","secondTable","thirdTable","tables","cells1","cells2","place","matchComp","date","supp","fullCamp","cachedCamp","GetByName","campionato","tempo","girone","scoreStr","div1","div2","div3","currentTimestamp","scores","goalsA","goalsB","currentTime","playing","falliA","falliB","inserisciDati1","actionStr","actionTable","inp","current","row","actual","openTag","contentTag","cell","parseTable","actions","parseAzione","actA","ac","actB","small","rigori","str_all","rigoriA","parseRigori","isNaN","num","rigoriB","tableTeam","formatTeamTable","parseTeamTable","giocatori","tecnici","tableReport","referees","ref1","ref2","aus","retrieveReferees","parsePartita","lookForPlayer","numb","number","lookForPlayerRecursive","azione","AZIONE","cell1","cell2","period","time","action","player","action_supp","primaRiga","nomeSquadra","addClass","removeAttr","theads","el","removeColumn","numCol","remHead","removeClass","tbodies","getContent","rows_gioc","ruolo","i5","gol","blu","rossi","rows_tecn","rev","gioc","esito","SQUADRA","CircularQueue","size","next","contains","concat","title_cache","data_cache","CaricaPartita","add","GetByID","titolo","QuickInsert","cache_name","CaricaCalendario","cached_elem","SalvaTitolo","Campionato","today","parseDate","last","last_day","next_day","j","Partita","PartitaDaFare","className","campAbbr","src","alt","PartitaAttiva","to","GiornataVuota","style","color","PartiteBox","Giornata","marginTop","Loader","role","getCacheArray","ok","Error","expand","label","element","compress","IsSaved","path","Preferiti","state","saved","salvati","DisSalva","setState","Salva","title","onClick","salvaComePreferito","Component","PreferitiFake","disabled","Navbar","active","titleFun","toggle","canBeSaved","t","padding","toggleNavbar","width","margin","display","l","Elem","Config","ErroreNotFound","backgroundColor","callBack","maxWidth","Calendario","id_camp","location","pathname","reloaded","performance","navigation","document","loaded","scrollTo","cal","g","history","goBack","Img","height","CampLarge","borderRadius","position","cursor","query","textAlign","index","Campionati","GetAll","camps","ApiInCorso","err","ajax","method","success","cachedCampionati","GetCached","cachedSquadre","matches","maxLive","min","extractContentByClass","matchDayNum","dayHour","parsePlaying","prepareStringForParsing","escape","wclass","CaricaPartite","ora","recenti","future","in_corso","filtra","Tutte","fun","ids","ApiMarcatori","tipo_stats","marcatori","parseWdef","def","setWdef","pos","idpl","flag","goals","assists","diretti","prep","ass","dir","rig","scambia","sx","dx","parseMarcatori","CaricaMarcatori","lista","Marcatore","td","verticalAlign","minWidth","callback","outline","show","fontSize","MarcatoriBox","dettagli","showing","mostraTutti","ms","mostra_tutti","maxHeight","borderBottom","marc","ApiClassifica","classifica","newobj","punti","gte","vte","pte","pse","rft","rst","diff","pen","check","val","parseClassifica","CaricaClassifica","result","clas","Classifica","ClassificaBox","SquadraBox","TextAlign","ultima_giornata","prox_giornata","calend_loaded","incorso","incorso_load","DueGiornate","OraCampionato","creaSocieta","groupBy","societa","Object","keys","selectBestValue","s","xs","reduce","rv","values","names","count","getSocieta","getCachedVisCamp","getCachedVisSocieta","CampSmall","HomeCard","children","Societa","GestisciCampionati","update","close","prev","overflow","btnStyle","mostra","nascondi","GestisciSocieta","ErroreAttivazione","Home","intervalInCorso","intervalRecenti","societa_ok","recenti_load","future_load","showCampionati","showCampionati_modal","showSocieta","showSocieta_modal","erroreAttivazione","SetCampionati","setInterval","PartiteInCorso","bind","PartiteRecenti","clearInterval","InCorso","Recenti","sortDate","sign","getFullYear","sortCamp","translateCamp","updateVisCampionato","updateVisSocieta","ErrorePartita","tabIndex","createElement","badge","img","Azione","Arbitro","Abitri","show12","show2","showa","LeftPanel","ModalLoader","Scoreboard","ScoreboardSmall","ScoreboardLarge","SquadraSmall","paddingRight","paddingLeft","Falli","SquadraLarge","fontWeight","Giocatori","Giocatore","aria-hidden","Tecnici","order","colSpan","Tecnico","Squadra","Evento","minxtempo","poss","top","left","EventoBlock","Fallo","Timeout","Gol","Blu","Rosso","Ammonizione","Diretto","Rigore","Labels","totalMin","prepare","Label","TimelineOrizz","actionsA","actionsB","TimelineVert","paddingBottom","Rigori","RigoriSmall","RigoriBig","RigoristaA","RigoristaB","id_partita","GetTitolo","intervalID","CaricaDati","getTitle","GIOCATORE","idgc","naz","presenze","assist","TECNICO","ApiSquadra","idq","id_team","this_sq","parseTableGiocatori","tecn","parseTableTecnici","cache_gioc","CaricaSquadra","cache_id","ClassificaSquadra","ActualClassifica","MarcatoriSquadra","f","nv","cached_team","cached_camp","squadra_loaded","OraSquadra","SocietaAll","SocietaBlock","ClassificaSocieta","classifiche","sq","prevState","ClassificaElem","id_soc","cached_soc","PerSocieta","Card","Salvati","partiteID","Guida","img_style","border","guida_1","guida_2","guida_3","href","target","Impostazioni","PrimoAccesso","Box","icon","right","foto","nazione","testo","data_nascita","eta","ApiGiocatore","stagione","idm","id_player","team_id","giocatore","container","primo","commento","removeComments","secondo","terzo","blocco1","divs","head","body","defa","righe","celle","squadraA","squadraB","risultato","goal","tot","direttiA","direttiB","intero","tiri","id_gioc","pastSeasons","year","countSeason","past","Col","PastSeason","WrappedComponent","App","basename","exact","component","SplashScreen","messaggi","sessionStorage","loading","messaggio","setTimeout","max","Math","floor","random","msg","alignItems","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.00ea51f6.chunk.js","sourcesContent":["export default function GtagInitialize() {\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag() { window.dataLayer.push(arguments); }\r\n    gtag('js', new Date());\r\n\r\n    gtag('config', 'G-QGJ6R11WYD');\r\n}","import $ from 'jquery'\r\n\r\n// ----- TITLE CASE -----\r\nexport function titleCase(str) {\r\n    return str.toLowerCase().split(' ').map(word => (word.charAt(0).toUpperCase() + word.slice(1))).join(' ');\r\n}\r\n\r\n// ----- PROXY FOR URL -----\r\nexport function prepareURLforProxy(url) {\r\n    return \"https://hockeypista-backend.herokuapp.com/http://www.server2.sidgad.es/fisr/\" + url;\r\n}\r\n\r\n// ----- POLISH STRING -----\r\nexport function polishString(str) {\r\n    str = str.replace(/<br>/g, \" \");\r\n    str = str.replace(/[ ]+/g, \" \");\r\n    str = str.replace(/\\t/g, \"\");\r\n    str = str.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n    str = str.trim();\r\n    return str;\r\n}\r\n\r\nexport function removeComments(str) {\r\n    while (str.indexOf(\"<!--\") !== -1) {\r\n        var commento = str.substr(str.indexOf(\"<!--\"));\r\n        commento = commento.substr(0, commento.indexOf(\"-->\") + 3);\r\n        str = str.replace(commento, \"\");\r\n    }\r\n    return str;\r\n}\r\n\r\n// ----- PARSE A COMPLETE TAG <tag>...</tag> -----\r\nexport function parseCompleteTag(str) {\r\n    var tag = { type: \"\", props: [], params: [], content: \"\" };\r\n\r\n    var openTagStr = str.substr(0, str.indexOf(\">\")).trim();\r\n    tag.type = openTagStr.substr(1, openTagStr.indexOf(\" \"));\r\n    openTagStr = openTagStr.substr(openTagStr.indexOf(\" \") + 1);\r\n    openTagStr = openTagStr.replace(/=\" /gm, '=\"');\r\n    var props = openTagStr.split(/\" /g);\r\n    props.forEach(p => {\r\n        tag.props.push(parseProperty(p + '\"'));\r\n    });\r\n\r\n    try {\r\n        tag.params = parseParams(tag.props.filter(elem => elem.ident === \"config_params\")[0].value);\r\n    } catch (e) { }\r\n\r\n    // content\r\n    str = str.substr(str.indexOf(\">\") + 1)\r\n    tag.content = str.substr(0, str.lastIndexOf(\"<\")).trim();\r\n\r\n    return tag;\r\n}\r\n\r\n// ----- PARSE A TAG WITHOUT CLOSING TAG <img/>\r\nexport function parseIsleTag(str) {\r\n    var tag = { type: \"\", props: [], params: [], content: \"\" };\r\n\r\n    tag.type = str.substr(1, str.indexOf(\" \"));\r\n    str = str.substr(str.indexOf(\" \") + 1);\r\n\r\n    str = str.substr(0, str.indexOf(\">\")).trim();\r\n    str = str.replace(/'/g, \"\\\"\");\r\n    var props = str.split(/\" /g);\r\n    props.forEach(p => {\r\n        tag.props.push(parseProperty(p + '\"'));\r\n    });\r\n\r\n    return tag;\r\n}\r\n\r\n// ----- PARSE TABLE -----\r\nexport function parseTable(inp) {\r\n    var table = { id: \"\", props: [], rows: [] };\r\n\r\n    let str = polishString(inp);\r\n\r\n    // retrieving opening tag\r\n    let openTagStr = str.substr(0, str.indexOf(\">\") + 1).trim();\r\n    str = str.replace(openTagStr, \"\");\r\n    openTagStr = openTagStr.substr(openTagStr.indexOf(\" \") + 1);\r\n    let props = openTagStr.split(/\" /g);\r\n    $.each(props, i => {\r\n        table.props.push(parseProperty(props[i] + '\"'));\r\n    });\r\n\r\n    // content\r\n    let content = str.substr(0, str.indexOf(\"</table\"));\r\n    content = content.replace(/<thead>/g, \"\");\r\n    content = content.replace(/<\\/thead>/g, \"\");\r\n    content = content.replace(/<tbody>/g, \"\");\r\n    content = content.replace(/<\\/tbody>/, \"\");\r\n    content = content.substr(content.indexOf(\"<tr>\"), content.lastIndexOf(\"</tr>\") + 5);\r\n\r\n    do {\r\n        let current = content.substr(0, content.indexOf(\"</tr>\") + 5);\r\n        content = content.replace(current, \"\");\r\n        current = current.substr(0, current.length - 5).substr(4);\r\n        var row = { cells: [] };\r\n        do {\r\n            let actual = current.substr(0, current.indexOf(\"</td>\") + 5);\r\n            current = current.replace(actual, \"\");\r\n            let openTag = actual.substr(0, actual.indexOf(\">\") + 1)\r\n            let contentTag = actual.replace(openTag, \"\");\r\n            openTag = openTag.substr(4);\r\n            var cell = { props: [], content: \"\" };\r\n            props = openTagStr.split(/\" /g);\r\n            props.forEach(i => {\r\n                cell.props.push(parseProperty(props[i] + '\"'));\r\n            });\r\n            cell.content = contentTag.substr(0, contentTag.length - 5);\r\n            row.cells.push(cell);\r\n\r\n        } while (current !== \"\");\r\n        table.rows.push(row);\r\n    } while (content !== \"\");\r\n\r\n    return table;\r\n}\r\n\r\n// ------ PARSE A PROPERTY -----\r\nexport function parseProperty(str) {\r\n    str = str.replace(\"'\", \"\\\"\");\r\n    let id = str.substring(0, str.indexOf(\"=\"));\r\n    let val = str.substring(str.indexOf(\"\\\"\") + 1, str.lastIndexOf(\"\\\"\"));\r\n    return { name: id, value: val };\r\n}\r\n\r\n// ----- PARSE PARAMS (params property of some tags) -----\r\nexport function parseParams(str) {\r\n    return str.split(\";\").map(str => {\r\n        let ind = str.indexOf(\":\");\r\n        return { name: str.substr(0, ind), value: str.substr(ind + 1) };\r\n    });\r\n}\r\n\r\n// ----- EXTRACT PROPERTY VALUE -----\r\nexport function extractProp(tag, prop) {\r\n    try {\r\n        return tag.props.filter(elem => elem.name === prop)[0].value;\r\n    } catch (e) { return \"\"; }\r\n}\r\n\r\n// ----- REMOVE TAGS\r\nexport function removeTags(str, tagname, multiple, removeContent) {\r\n    if (multiple) {\r\n        if (removeContent) {\r\n            let re = new RegExp(\"<\" + tagname + \"[^><]*>[^><]*</\" + tagname + \">\", \"g\");\r\n            return polishString(str.replace(re, \"\"));\r\n        } else {\r\n            let re = new RegExp(\"<[/]*\" + tagname + \"[^><]*>\", \"g\");\r\n            return polishString(str.replace(re, \"\"));\r\n        }\r\n    } else {\r\n        if (removeContent) {\r\n            let re = new RegExp(\"<\" + tagname + \"[^><]*>[^><]*</\" + tagname + \">\", \"\");\r\n            return polishString(str.replace(re, \"\"));\r\n        } else {\r\n            // does not work so well, better if you check again\r\n            let re = new RegExp(\"<[/]*\" + tagname + \"[^><]*>\", \"\");\r\n            return polishString(str.replace(re, \"\"));\r\n        }\r\n    }\r\n}\r\n\r\nexport function myReplaceAll(input, search, repl) {\r\n    while (input.indexOf(search) >= 0) {\r\n        input = input.replace(search, repl);\r\n    }\r\n    return input;\r\n}","export default class GeneralCache {\r\n    constructor() {\r\n        this.array = [];\r\n    }\r\n\r\n    static Restore(name) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null)\r\n            return new GeneralCache();\r\n        else {\r\n            let array = JSON.parse(x);\r\n            let cache = new GeneralCache();\r\n            cache.restore(array);\r\n            return cache;\r\n        }\r\n    }\r\n\r\n    restore(arr) {\r\n        arr.map(e => { this.insert(e.key, e.value); });\r\n    }\r\n\r\n    insert(key, value) {\r\n        this.array[key] = { key: key, value: value };\r\n    }\r\n\r\n    remove(key) {\r\n        this.array[key] = null;\r\n    }\r\n\r\n    get(key) {\r\n        return (this.array[key] == null) ? null : this.array[key].value;\r\n    }\r\n\r\n    get_all() {\r\n        return this.array.filter(e => e != null).map(e => e.value);\r\n    }\r\n\r\n    is_empty() {\r\n        return (this.array.length === 0);\r\n    }\r\n\r\n    static GetFrom(name, key) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null) return null;\r\n        else {\r\n            let array = JSON.parse(x);\r\n            let filt = array.filter(e => e.key == key)\r\n            return ((filt.length == 1) ? filt[0].value : null);\r\n        }\r\n    }\r\n\r\n    static GetAllFrom(name) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null) return null;\r\n        else {\r\n            let array = JSON.parse(x);\r\n            return array.map(e => e.value);\r\n        }\r\n    }\r\n\r\n    static QuickInsert(name, key, value) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null) {\r\n            let cache = new GeneralCache();\r\n            cache.insert(key, value);\r\n            cache.save(name);\r\n        }\r\n        else {\r\n            let array = JSON.parse(x);\r\n            let done = false;\r\n            array.map(e => {\r\n                if (e.key === key) { e.value = value; done = true; }\r\n            });\r\n            if (!done) array.push({ key: key, value: value });\r\n            localStorage.setItem(name, JSON.stringify(array));\r\n        }\r\n    }\r\n\r\n    save(name) {\r\n        let arr = this.array.filter(e => e != null);\r\n        localStorage.setItem(name, JSON.stringify(arr));\r\n    }\r\n}","import GeneralCache from '../Data structures/GeneralCache';\r\n\r\nexport function cacheSquadra(id, nome, logo, abbr, camp, camp_abb) {\r\n    id = parseInt(id);\r\n\r\n    let squadre = GeneralCache.Restore(\"c_squadre\");\r\n    let selected = squadre.get(id);\r\n\r\n    // creating object\r\n    let obj = null;\r\n    if (selected == null)\r\n        obj = { id: parseInt(id), nome: \"\", logo: \"\", abbr: \"\", soc: 0, camp: [], camp_abb: [] };\r\n    else\r\n        obj = selected;\r\n\r\n    // updating values\r\n    if (nome != null) { obj.nome = nome; }\r\n    if (logo != null) {\r\n        obj.logo = logo;\r\n        obj.soc = extractSocietaID(obj.logo);\r\n    }\r\n    if (abbr != null) { obj.abbr = abbr; }\r\n    if (camp != null) {\r\n        camp = parseInt(camp);\r\n        if (!obj.camp.includes(camp))\r\n            obj.camp.push(camp);\r\n    }\r\n    if (camp_abb != null) {\r\n        if (!obj.camp_abb.includes(camp_abb))\r\n            obj.camp_abb.push(camp_abb);\r\n    }\r\n\r\n    // saving cache\r\n    squadre.insert(id, obj);\r\n    squadre.save(\"c_squadre\");\r\n}\r\n\r\nexport function extractSocietaID(logo) {\r\n    let x = logo.split('/');\r\n    let y = x[x.length - 1];\r\n    return parseInt(y.substr(0, y.indexOf('.')).replace(/_[0-9]+/, \"\"));\r\n}\r\n\r\nexport function getCachedSquadre() {\r\n    return GeneralCache.GetAllFrom(\"c_squadre\");\r\n}\r\n\r\nexport function getCachedSquadra(id) {\r\n    return GeneralCache.GetFrom(\"c_squadre\", id);\r\n}\r\n\r\nexport function getCachedSquadraByName(nome, camp) {\r\n    nome = nome.toUpperCase();\r\n    camp = parseInt(camp);\r\n    let cache = GeneralCache.GetAllFrom(\"c_squadre\");\r\n    return cache.filter(e => e.nome == nome && e.camp.includes(camp))[0];\r\n}","import { polishString, removeTags, parseIsleTag, parseCompleteTag, extractProp, myReplaceAll, prepareURLforProxy } from './commons'\r\nimport { cacheSquadra } from '../Cache/CacheSquadra'\r\nimport $ from 'jquery'\r\n\r\n// MAIN FUNCTION\r\nexport default function ApiCalendario(idc, then) {\r\n    let season = 29\r\n    $(\"body\").append(\"<div id='retrieveCalendario' style='display: none'></div>\");\r\n    $('#retrieveCalendario').load(prepareURLforProxy(\"fisr_cal_1_\" + season + \".php\"), { idc: idc }, (data) => {\r\n\r\n        data = polishString(data);\r\n        data = data.substr(data.indexOf(\"<table\"));\r\n        data = data.replace(\"<table \", '<table id=\"tbl-camp-xxx\" ');\r\n        let rem = data.substr(data.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        data = data.replace(rem, \"\");\r\n        data = myReplaceAll(data, '<td width=\"25\"></td>', '');\r\n\r\n        $(\"#retrieveCalendario\").html(data);\r\n        let calendario = parseCalendario($(\"#tbl-camp-xxx\"), idc);\r\n        $(\"#retrieveCalendario\").remove();\r\n\r\n        then(calendario);\r\n    });\r\n}\r\n\r\n// DARK SIDE\r\n\r\nfunction GIORNATA() {\r\n    return { giornata: \"\", data: \"\", partite: [] };\r\n}\r\n\r\nfunction PARTITA() {\r\n    return {\r\n        idp: 0, idc: 0, day: \"\", hour: \"\", score: \"\", teams: \"\",\r\n        teamA: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" },\r\n        teamB: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" }\r\n    };\r\n}\r\n\r\nfunction parseCalendario(table, idc) {\r\n    let lastgiornata = \"\";\r\n    let rows = table.find(\"tbody tr\");\r\n    let giornata = new GIORNATA();\r\n    let calendario = [];\r\n\r\n    let parseGameDate = (str) => {\r\n        let a = str.split('');\r\n        return a[6] + a[7] + \"/\" + a[4] + a[5] + \"/\" + a[0] + a[1] + a[2] + a[3];\r\n    };\r\n\r\n    $.each(rows, (i) => {\r\n\r\n        var partita = new PARTITA();\r\n        var cells = $(rows[i]).find(\"td\");\r\n        if (cells.length > 10) {\r\n            var this_giornata = removeTags($(cells[3]).html(), \"span\", true, false);\r\n            if (this_giornata !== lastgiornata) {\r\n                calendario.push(giornata);\r\n                giornata = new GIORNATA();\r\n                giornata.giornata = this_giornata.replace(/[Gg][Jj]/, \"Giornata\");\r\n                giornata.giornata = giornata.giornata.replace(\"Jornada\", \"Giornata\");\r\n                giornata.data = parseGameDate(\"00000000\");\r\n            }\r\n            lastgiornata = this_giornata;\r\n\r\n            if (giornata.data === parseGameDate(\"00000000\")) {\r\n                if ($(rows[i]).attr(\"gamedate\") !== \"\") {\r\n                    giornata.data = parseGameDate($(rows[i]).attr(\"gamedate\"));\r\n                }\r\n            }\r\n\r\n            // dettagli partita\r\n            partita.idc = idc;\r\n            partita.day = removeTags($(cells[0]).html(), \"div\", true, false);\r\n            partita.hour = $(cells[1]).html();\r\n            partita.score = $(cells[10]).html();\r\n            // squadre\r\n            partita.teams = $(rows[i]).attr(\"class\").replace(\"team_class\", \"\").replace(/team_/g, \"\").trim();\r\n            var teams_id = partita.teams.split(\" \");\r\n            partita.teamA.idt = parseInt(teams_id[0]);\r\n            partita.teamA.logo = extractProp(parseIsleTag($(cells[4]).html()), \"src\");\r\n            var team = $(cells[5]).html();\r\n            var team1 = team.substr(0, team.indexOf(\"</div>\") + 6);\r\n            partita.teamA.fullname = removeTags(team1, \"div\", true, false);\r\n            partita.teamA.smallname = removeTags(team.replace(team1, \"\"), \"div\", true, false);\r\n            partita.teamB.idt = parseInt(teams_id[1]);\r\n            partita.teamB.logo = extractProp(parseIsleTag($(cells[6]).html()), \"src\");\r\n            team = $(cells[7]).html();\r\n            team1 = team.substr(0, team.indexOf(\"</div>\") + 6);\r\n            partita.teamB.fullname = removeTags(team1, \"div\", true, false);\r\n            partita.teamB.smallname = removeTags(team.replace(team1, \"\"), \"div\", true, false);\r\n            try {\r\n                partita.idp = parseInt(extractProp(parseCompleteTag($(cells[13]).html()), \"idp\"));\r\n            } catch (e) { partita.idp = undefined; }\r\n\r\n            // caching\r\n            cacheSquadra(partita.teamA.idt, partita.teamA.fullname, partita.teamA.logo, partita.teamA.smallname, idc);\r\n            cacheSquadra(partita.teamB.idt, partita.teamB.fullname, partita.teamB.logo, partita.teamB.smallname, idc);\r\n\r\n            //cacheSquadra(teams_id[0], partita.teamA.fullname, partita.teamA.logo, partita.teamA.smallname, idc);\r\n\r\n            giornata.partite.push(partita);\r\n        }\r\n    });\r\n    calendario.push(giornata);\r\n    calendario.splice(0, 1);\r\n    let pdate = (d) => { let x = d.split('/'); return new Date(x[2] + '-' + x[1] + '-' + x[0]); }\r\n    calendario = calendario.sort((a, b) => ((pdate(a.data) > pdate(b.data)) ? 1 : -1));\r\n    return calendario;\r\n}","export default class TemporalCache {\r\n    constructor(seconds) {\r\n        this.array = [];\r\n        this.expiration = seconds * 1000;\r\n    }\r\n\r\n    static Restore(name, seconds) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null)\r\n            return new TemporalCache(seconds);\r\n        else {\r\n            x = JSON.parse(x);\r\n            let queue = new TemporalCache(seconds);\r\n            queue.restore(x.expiration, x.array);\r\n            queue.polish();\r\n            return queue;\r\n        }\r\n    }\r\n\r\n    restore(expiration, array) {\r\n        this.array = array;\r\n        this.expiration = expiration;\r\n    }\r\n\r\n    insert(id, value) {\r\n        let new_obj = {\r\n            id: id,\r\n            expiry: this.now() + this.expiration,\r\n            obj: value\r\n        };\r\n        this.remove(id);\r\n        this.array.push(new_obj);\r\n    }\r\n\r\n    get(id) {\r\n        this.polish();\r\n        let res = this.array.filter(e => (e.id == id));\r\n        return (res.length == 1) ? res[0].obj : null;\r\n    }\r\n\r\n    now() { return new Date().getTime(); }\r\n\r\n    polish() {\r\n        let now = this.now();\r\n        this.array = this.array.filter(e => (e.expiry > now));\r\n    }\r\n\r\n    remove(id) {\r\n        this.array = this.array.filter(e => (e.id != id));\r\n    }\r\n\r\n    save(name) {\r\n        this.polish();\r\n        localStorage.setItem(name, JSON.stringify({ expiration: this.expiration, array: this.array }));\r\n    }\r\n}","import { polishString, parseCompleteTag, parseIsleTag, parseParams, extractProp, prepareURLforProxy } from './commons'\r\n\r\nconst season = \"29\";\r\n\r\nexport default function ApiCampionati(then, error) {\r\n    fetch(prepareURLforProxy(\"fisr_ls_1.php\"), { redirect: 'manual' })\r\n        .then((res) => { return res.text(); })\r\n        .then(data => { then(parse(data)); })\r\n        .catch(e => { console.log(e); error() })\r\n}\r\n\r\nfunction parse(data) {\r\n\r\n    data = polishString(data);\r\n    let camp = [];\r\n    let ind = data.indexOf(\"</a>\");\r\n    while (ind !== -1) {\r\n        // get and process the current block\r\n        let working = data.substr(0, ind + 4);\r\n        camp.push(parseCampionato(working));\r\n\r\n        // go to the next one\r\n        data = data.replace(working, \"\");\r\n        ind = data.indexOf(\"</a>\");\r\n    }\r\n\r\n    // filtering Campionati of this season\r\n    camp = camp.filter(elem => elem.season === season);\r\n    camp = camp.filter(elem => (elem.name !== \"\" && elem.name !== \"\\\"\" && elem.name !== \"'\" && elem.name !== \" \"));\r\n\r\n    return camp;\r\n}\r\n\r\nfunction parseCampionato(str) {\r\n    // parsing the string as a tag\r\n    let tag = parseCompleteTag(str);\r\n    tag.params = parseParams(extractProp(tag, \"config_params\"));\r\n\r\n    // creating a new Campionato\r\n    let camp = { id: 0, name: \"\", teams: [], logo: \"\", season: \"\", dur_tempo: 0, abbr: \"\" };\r\n    camp.id = parseInt(extractProp(tag, \"id\"));\r\n    camp.name = extractProp(tag, \"name\").trim();\r\n\r\n    // create abbreviation for the campionato\r\n    let ret = camp.name.match(/ (A1)|(A2)|(B)|(FEMM)|U[0-9]* /);\r\n    camp.abbr = (ret != null) ? ret[0].trim() : \"\";\r\n\r\n    // extracting season\r\n    let season_str = extractProp(tag, \"class\");\r\n    camp.season = season_str.substr(season_str.indexOf(\"temp_\") + 5);\r\n\r\n    // extracting logo\r\n    let img_tag = parseIsleTag(tag.content.substr(tag.content.indexOf(\"<img\")));\r\n    camp.logo = extractProp(img_tag, \"src\");\r\n\r\n    // extracting teams\r\n    let teams_tag = parseIsleTag(tag.content.substr(tag.content.indexOf(\"<input\")));\r\n    let teams_str = extractProp(teams_tag, \"value\");\r\n    camp.teams = teams_str.split(\";\").filter(elem => elem !== \"\\\"\").map(elem => {\r\n        let info = elem.split(\",\");\r\n        return { name: info[2], id: info[1], logo: \"https://ns3104249.ip-54-37-85.eu/fisr/images/logos_clubes/\" + info[0] };\r\n    })\r\n\r\n    // extracting period duration\r\n    try {\r\n        camp.dur_tempo = parseInt(tag.params.filter(elem => elem.name === \"tpo_reg\")[0].value);\r\n    } catch (e) { camp.dur_tempo = 25; }\r\n\r\n    return camp;\r\n}","export default class TemporalObjCache {\r\n    constructor(object, seconds) {\r\n        this.obj = object;\r\n        this.expiry = (new Date().getTime()) + seconds * 1000;\r\n    }\r\n\r\n    static Restore(name) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null)\r\n            return new TemporalObjCache(null, 0);\r\n        else {\r\n            x = JSON.parse(x);\r\n            let queue = new TemporalObjCache(null, 0);\r\n            queue.restore(x.expiry, x.obj);\r\n            queue.validate();\r\n            return queue;\r\n        }\r\n    }\r\n\r\n    restore(expiry, object) {\r\n        this.obj = object;\r\n        this.expiry = expiry;\r\n    }\r\n\r\n    validate() {\r\n        if (this.expiry <= (new Date().getTime())) {\r\n            this.obj = null;\r\n            this.expiry = 0;\r\n        }\r\n    }\r\n\r\n    insert(object, seconds) {\r\n        this.expiry = (new Date().getTime()) + seconds * 1000;\r\n        this.obj = object;\r\n    }\r\n\r\n    get() {\r\n        this.validate();\r\n        return this.obj;\r\n    }\r\n\r\n    save(name) {\r\n        this.validate();\r\n        localStorage.setItem(name, JSON.stringify({ expiry: this.expiry, obj: this.obj }));\r\n    }\r\n}","import ApiCampionati from \"../API/ApiCampionati\";\r\nimport { cacheSquadra } from \"../Cache/CacheSquadra\";\r\nimport GeneralCache from \"../Data structures/GeneralCache\";\r\nimport TemporalObjCache from \"../Data structures/TemporalObjCache\";\r\n\r\nconst short_term_cache = \"c_campionati\";\r\nconst long_term_cache = \"f_campionati\";\r\n\r\nexport class CaricaCampionati {\r\n    static GetAll(forceRefresh, then, error) {\r\n        let short_cache = TemporalObjCache.Restore(short_term_cache);\r\n        let cached = short_cache.get();\r\n        if (!forceRefresh && cached != null) {\r\n            then(cached);\r\n        }\r\n        else {\r\n            ApiCampionati((campionati) => {\r\n\r\n                // memorizzazione nella cache a breve termine\r\n                short_cache.insert(campionati, 60 * 60);\r\n                short_cache.save(short_term_cache);\r\n\r\n                // memorizzazione nella cache a lungo termine\r\n                let long_cache = GeneralCache.Restore(long_term_cache);\r\n                campionati.map(camp => long_cache.insert(camp.id, camp));\r\n                long_cache.save(long_term_cache);\r\n\r\n                // caching del nome della squadra\r\n                campionati.map(c => {\r\n                    c.teams.map(team => cacheSquadra(team.id, null, team.logo, team.name, c.id, c.abbr));\r\n                })\r\n\r\n                then(campionati);\r\n            }, () => { error(); });\r\n        }\r\n    }\r\n\r\n    static GetCached() {\r\n        return GeneralCache.GetAllFrom(long_term_cache);\r\n    }\r\n\r\n    static GetByID(idc) {\r\n        return GeneralCache.GetFrom(long_term_cache, idc);\r\n    }\r\n\r\n    static GetByName(name) {\r\n        let arr = GeneralCache.GetAllFrom(long_term_cache);\r\n        let x = arr.filter(e => e.name.toLowerCase() === name.toLowerCase());\r\n        return ((x.length === 1) ? x[0] : null);\r\n    }\r\n}","import { polishString, titleCase, removeTags, extractProp, parseIsleTag, parseCompleteTag, parseTable, prepareURLforProxy } from './commons'\r\nimport $ from 'jquery'\r\nimport { getCachedSquadraByName } from '../Cache/CacheSquadra';\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\n\r\nexport default function ApiPartita(idp, then, error) {\r\n    fetch(prepareURLforProxy(\"fisr_gr_\" + idp + \"_1.php\")).then((res) => {\r\n        return res.text();\r\n    }).then(data => {\r\n        let partita = parsePartita(data);\r\n        partita.id = parseInt(idp);\r\n        then(partita);\r\n    }).catch(() => { error(); });\r\n}\r\n\r\nfunction parsePartita(data) {\r\n    // pulizia iniziale\r\n    data = polishString(data);\r\n    data = data.replace(/https:\\/\\/www.sidgad.com\\/fisr\\/images\\/logo_print.gif/g, \"\");\r\n\r\n    // Oggetto finale\r\n    let partita = new PARTITA();\r\n\r\n    // First table => luogo, # giornata, data, campionato\r\n    data = data.substr(data.indexOf(\"<table\"));\r\n    let firstTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(firstTable, \"\");\r\n    firstTable = firstTable.replace(\"<table\", '<table id=\"tbl-head-1\"');\r\n\r\n    // Second table => squadre A e B, falli e gol A & B, tempo di gioco, loghi squadre A & B\r\n    let secondTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(secondTable, \"\");\r\n    secondTable = secondTable.replace(\"<table\", '<table id=\"tbl-head-2\"');\r\n\r\n    // Third table => eliminare (arbitri)\r\n    let thirdTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n    data = data.replace(thirdTable, \"\");\r\n\r\n    // Inserimento dei dati delle tabelle nell'oggetto partita\r\n    $(\"body\").append(\"<div id='retrieveMatch' style='display: none'></div>\");\r\n    $(\"#retrieveMatch\").html(firstTable + \" \" + secondTable);\r\n    partita = inserisciDati1(partita, $(\"#retrieveMatch\"));\r\n    $(\"#retrieveMatch\").remove();\r\n\r\n    // azioni del gioco\r\n    let actionStr = data.substr(data.indexOf('<div id=\"game_report_inicidencias\"'));\r\n    actionStr = actionStr.substr(actionStr.indexOf(\"<table\"));\r\n    actionStr = actionStr.substr(0, actionStr.indexOf(\"</table>\") + 8);\r\n    let actionTable = parseTable(polishString(actionStr));\r\n    partita.actions = actionTable.rows.map(parseAzione);\r\n\r\n    // recupera il nome abbreviato e l'id delle squadre\r\n    try {\r\n        let actA = partita.actions.filter(ac => ac.team.name.toLowerCase() === partita.teamA.nome.toLowerCase());\r\n        let actB = partita.actions.filter(ac => ac.team.name.toLowerCase() === partita.teamB.nome.toLowerCase());\r\n        let teamA = getCachedSquadraByName(partita.teamA.nome, partita.campionato.idc);\r\n        let teamB = getCachedSquadraByName(partita.teamB.nome, partita.campionato.idc);\r\n        partita.teamA.idt = teamA.id;\r\n        partita.teamB.idt = teamB.id;\r\n        partita.teamA.small = actA[0].team.small;\r\n        partita.teamB.small = actB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    // tabella dei rigori (se presente)\r\n    let index = data.indexOf('<div style=\"width: 605px; margin-top: 5px; float: left;\"><table class=\"competiciones_tabla_basic\"');\r\n    if (index !== -1) {\r\n        partita.rigori = true;\r\n\r\n        let str_all = data.substr(data.indexOf('<div style=\"width: 605px; margin-top: 5px; float: left;\"><table class=\"competiciones_tabla_basic\"'));\r\n        str_all = str_all.substr(str_all.indexOf('<table') + 1);\r\n        str_all = str_all.substr(0, str_all.indexOf('</table></div>') + 8);\r\n\r\n        let rigoriA = str_all.substr(str_all.indexOf('<table '));\r\n        rigoriA = rigoriA.substr(0, rigoriA.indexOf('</table>') + 8);\r\n        str_all = str_all.replace(rigoriA, \"\");\r\n        $(\"body\").append(\"<div id='contRig' style='display: none'></div>\");\r\n        $(\"#contRig\").html(rigoriA);\r\n        partita.rigoriA = (parseRigori($(\"#contRig\"), false)).filter(e => !isNaN(e.num));\r\n\r\n        let rigoriB = str_all.substr(str_all.indexOf('<table '));\r\n        rigoriB = rigoriB.substr(0, rigoriB.indexOf('</table>') + 8);\r\n        $(\"#contRig\").html(rigoriB);\r\n        partita.rigoriB = (parseRigori($(\"#contRig\"), true)).filter(e => !isNaN(e.num));\r\n\r\n        $(\"#contRig\").remove();\r\n    }\r\n\r\n    // tabelle dei giocatori\r\n    $(\"body\").append(\"<div id='contTeam' style='display: none'></div>\");\r\n    {\r\n        let tableTeam = data.substr(data.indexOf('<table width=\"100%\" class=\"competiciones_tabla_basic\">'));\r\n        tableTeam = tableTeam.substr(0, tableTeam.indexOf(\"</table>\"));\r\n        data = data.replace(tableTeam, \"\");\r\n        tableTeam = polishString(tableTeam);\r\n        tableTeam = tableTeam.replace(\"<table \", \"<table id='tableTeam' class='table table-striped table-bordered' \");\r\n        $(\"#contTeam\").html(tableTeam);\r\n        formatTeamTable($(\"#tableTeam\"));\r\n    }\r\n    let ret = parseTeamTable($(\"#tableTeam\"));\r\n    partita.teamA.giocatori = ret[0];\r\n    partita.teamA.tecnici = ret[1];\r\n    {\r\n        let tableTeam = data.substr(data.indexOf('<table width=\"100%\" class=\"competiciones_tabla_basic\">'));\r\n        tableTeam = tableTeam.substr(0, tableTeam.indexOf(\"</table>\"));\r\n        data = data.replace(tableTeam, \"\");\r\n        tableTeam = polishString(tableTeam);\r\n        tableTeam = tableTeam.replace(\"<table \", \"<table id='tableTeam' class='table table-striped table-bordered' \");\r\n        $(\"#contTeam\").html(tableTeam);\r\n        formatTeamTable($(\"#tableTeam\"));\r\n    }\r\n    ret = parseTeamTable($(\"#tableTeam\"));\r\n    partita.teamB.giocatori = ret[0];\r\n    partita.teamB.tecnici = ret[1];\r\n\r\n    // arbitri\r\n    let tableReport = data.substr(data.indexOf('<div id=\"div_acta\"'));\r\n    $(\"body\").append(\"<div id='retrieveReferees' class='d-none'></div>\");\r\n    $(\"#retrieveReferees\").html(tableReport);\r\n    partita = retrieveReferees(partita, $(\"#retrieveReferees\"));\r\n    $(\"#retrieveReferees\").remove();\r\n\r\n    return partita;\r\n}\r\n\r\nfunction inserisciDati1(match, tables) {\r\n    let rows = tables.find(\"table tbody tr\");\r\n    let cells1 = $(rows[0]).find(\"td\");\r\n    let cells2 = $(rows[1]).find(\"td\");\r\n\r\n    match.place = titleCase($(cells1[1]).html()).trim();\r\n\r\n    let matchStr = titleCase($(cells1[0]).html()).trim();\r\n    let matchComp = matchStr.split('-').map(elem => elem.trim());\r\n    match.date.hour = matchComp[matchComp.length - 1];\r\n    let supp = (matchComp[matchComp.length - 2].split(' '));\r\n    match.date.day = supp[supp.length - 1];\r\n    let fullCamp = matchComp.slice(0, matchComp.length - 2).join(' - ').replace(/[0-9]{4}\\/[0-9]{4}/g, \"\").trim();\r\n    console.log(fullCamp)\r\n    try {\r\n        let cachedCamp = CaricaCampionati.GetByName(fullCamp);\r\n        match.campionato.idc = cachedCamp.id;\r\n        match.campionato.abbr = cachedCamp.abbr;\r\n        match.campionato.tempo = cachedCamp.dur_tempo;\r\n    } catch (e) { }\r\n    if (fullCamp.indexOf(' - ') !== -1) {\r\n        match.campionato.nome = fullCamp.substr(0, fullCamp.indexOf(' - '));\r\n        match.campionato.girone = fullCamp.substr(fullCamp.indexOf(' - ') + 3);\r\n    }\r\n    else {\r\n        match.campionato.nome = fullCamp;\r\n    }\r\n\r\n    try {\r\n        match.teamA.nome = titleCase(removeTags($(cells2[0]).html(), \"div\", true, false));\r\n        match.teamA.logo = extractProp(parseIsleTag(removeTags($(cells2[1]).html(), \"div\", true, false)), \"src\");\r\n        match.teamB.nome = titleCase(removeTags($(cells2[6]).html(), \"div\", true, false));\r\n        match.teamB.logo = extractProp(parseIsleTag(removeTags($(cells2[5]).html(), \"div\", true, false)), \"src\");\r\n    } catch (e) { }\r\n\r\n    let scoreStr = $(cells2[3]).html();\r\n    let div1 = scoreStr.substr(0, scoreStr.indexOf(\"</div>\") + 6);\r\n    scoreStr = scoreStr.replace(div1, \"\");\r\n    let div2 = scoreStr.substr(0, scoreStr.indexOf(\"</div>\") + 6);\r\n    let div3 = scoreStr.replace(div2, \"\");\r\n    match.currentTimestamp = removeTags(div3, \"div\", true, false);\r\n    let scores = parseCompleteTag(div1).content.split(\"-\").map(elem => removeTags(elem, \"span\", true, false));\r\n    match.goalsA = parseInt(scores[0]);\r\n    match.goalsB = parseInt(scores[1]);\r\n    match.currentTime = removeTags(removeTags(removeTags(parseCompleteTag(div2).content, \"span\", false, true), \"span\", false, true), \"span\", true, false);\r\n    match.playing = !(match.currentTime === \"FINALE\");\r\n\r\n    match.falliA = parseInt(removeTags($(cells2[2]).html(), \"div\", true, false));\r\n    match.falliB = parseInt(removeTags($(cells2[4]).html(), \"div\", true, false));\r\n\r\n    return match;\r\n}\r\n\r\nfunction parseAzione(row) {\r\n\r\n    let lookForPlayer = (str, numb) => {\r\n        str = removeTags(str, \"span\", true, false);\r\n        let tag = parseCompleteTag(str);\r\n        numb = removeTags(numb, \"[^<>]*\", true, false);\r\n        return {\r\n            name: tag.content, number: parseInt(numb),\r\n            id: parseInt(tag.props.filter(elem => (elem.name === \"id_player\" || elem.name === \"id\"))[0].value)\r\n        };\r\n    };\r\n    let lookForPlayerRecursive = (str, numb) => {\r\n        str = str.substr(str.indexOf(\"</a>\") + 4);\r\n        str = str.substr(str.indexOf(\"<a\"));\r\n        str = str.substr(0, str.indexOf(\"</a>\") + 4);\r\n        return lookForPlayer(str, numb);\r\n    };\r\n\r\n    let azione = new AZIONE();\r\n\r\n    try {\r\n\r\n        // period and time of the action\r\n        let cell = row.cells[0].content;\r\n        let cell1 = cell.substr(0, cell.indexOf(\"</div>\") + 6);\r\n        let cell2 = cell.replace(cell1, \"\");\r\n        azione.period = removeTags(cell1, \"div\", true, false);\r\n        azione.time = removeTags(cell2, \"div\", true, false);\r\n\r\n        // team\r\n        cell = row.cells[1].content;\r\n        cell1 = cell.substr(0, cell.indexOf(\"<div\"));\r\n        cell2 = cell.replace(cell1, \"\");\r\n        azione.team.logo = parseIsleTag(cell1).props[0].value;\r\n        azione.team.small = removeTags(cell2, \"div\", true, false);\r\n\r\n        // azione\r\n        cell = row.cells[7].content;\r\n        cell1 = cell.substr(0, cell.indexOf(\"</div>\") + 6);     // action -> also retrieve the full name of the team\r\n        cell2 = cell.replace(cell1, \"\");                        // other info\r\n        // based on action, I look for other params\r\n        if (cell1.includes(\"TIMEOUT\")) {\r\n            azione.action = \"timeout\";\r\n        }\r\n        else if (cell1.includes(\"AMMONIZIONE VERBALE\")) {\r\n            azione.action = \"ammonizione\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"CARTELLINO BLU\")) {\r\n            azione.action = \"blu\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"CARTELLINO ROSSO\")) {\r\n            azione.action = \"rosso\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"GOL\")) {\r\n            azione.action = \"gol\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n            azione.action_supp = removeTags(row.cells[3].content, \"div\", true, false);\r\n        }\r\n        else if (cell1.includes(\"FALLI\")) {\r\n            azione.action = \"fallo\";\r\n            azione.player = lookForPlayer(cell2, row.cells[6].content);\r\n            azione.action_supp = removeTags(row.cells[3].content, \"div\", true, false);\r\n        }\r\n        else if (cell1.includes(\"TIRO DIRETTO\")) {\r\n            azione.action = \"diretto\";\r\n            azione.player = lookForPlayerRecursive(cell2, row.cells[6].content);\r\n        }\r\n        else if (cell1.includes(\"RIGORE\")) {\r\n            azione.action = \"rigore\";\r\n            azione.player = lookForPlayerRecursive(cell2, row.cells[6].content);\r\n        }\r\n        azione.team.name = removeTags(removeTags(removeTags(cell1, \"span\", true, true), \"strong\", true, true), \"div\", true, false);\r\n\r\n    } catch (e) { console.log(e) }\r\n\r\n    return azione;\r\n}\r\n\r\nfunction formatTeamTable(table) {\r\n    // removing first row (name of the team)\r\n    let primaRiga = table.find(\"thead tr\")[0];\r\n    let nomeSquadra = $(primaRiga).find(\"td div\").html();\r\n    primaRiga.remove();\r\n\r\n    // modifying thead values\r\n    $(table.find(\"thead tr th\")[0]).html(\"N\").addClass(\"col1\");\r\n    $(table.find(\"thead tr th\")[1]).html(\"R\").addClass(\"col2\");\r\n    $(table.find(\"thead tr th\")[3]).html(\"5 I\").addClass(\"col3\");\r\n    $(table.find(\"thead tr th\")[4]).html(\"Nome\").removeAttr(\"style colspan\").addClass(\"col4\");\r\n    $(table.find(\"thead tr th\")[5]).html(\"Gol\").removeAttr(\"width\").addClass(\"col5\");\r\n    $(table.find(\"thead tr th\")[11]).html(\"<i class='fas fa-square' style='color: blue'></i>\").removeAttr(\"width\").addClass(\"col6\");\r\n    $(table.find(\"thead tr th\")[12]).html(\"<i class='fas fa-square' style='color: red'></i>\").removeAttr(\"width\").addClass(\"col7\");\r\n\r\n    let theads = table.find(\"thead\")\r\n    $.each(theads, (el) => {\r\n        $(theads[el]).addClass(\"thead-light\");\r\n    })\r\n\r\n    // remove some columns\r\n    let removeColumn = (table, numCol, remHead) => {\r\n        if (remHead) { table.find(\"thead tr th\")[numCol].remove(); }\r\n        let rows = table.find(\"tbody tr\");\r\n        let i = 0;\r\n        while (!($(rows[i]).html().includes('colspan=\"6\"'))) {\r\n            $(rows[i]).find(\"td\")[numCol].remove();\r\n            i++;\r\n        }\r\n    }\r\n\r\n    // remove columns from players' table\r\n    removeColumn(table, 2, true);\r\n    removeColumn(table, 3, false);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n    removeColumn(table, 5, true);\r\n\r\n    // formatting players' rows\r\n    let i = 0;\r\n    let rows = table.find(\"tbody tr\");\r\n    while (!($(rows[i]).html().includes('colspan=\"6\"'))) {\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        // number\r\n        $(cells[0]).removeAttr(\"align width\").addClass(\"col1\");\r\n\r\n        // role\r\n        let cell = $(cells[1]);\r\n        cell.removeAttr(\"align width class\").addClass(\"col2\");\r\n        let str = removeTags(cell.html(), \"div\", true, false);\r\n        cell.html(\"<span>\" + str + \"</span>\");\r\n\r\n        // initial 5\r\n        $(cells[2]).removeAttr(\"align width class\").addClass(\"col3\");\r\n        $(cells[2]).html(($(cells[2]).html() !== \"\") ? '<span class=\"fa fa fa-circle\" style=\"color:#18B; font-size: 0.8em;\" aria-hidden=\"true\"></span>' : \"\");\r\n\r\n        // name\r\n        cell = $(cells[3]);\r\n        cell.removeAttr(\"style\").addClass(\"col4\");\r\n        str = removeTags(polishString(cell.html()), \"span\", true, false);\r\n        str = str.substr(0, str.indexOf(\"</div>\") + 6);\r\n        let tag = parseCompleteTag(str);\r\n        // id = tag.props.filter(elem => elem.name == \"id\")[0].value;\r\n        cell.html(titleCase(tag.content));\r\n\r\n        // gol, blu, rossi\r\n        $(cells[4]).removeClass(\"stats_table\").addClass(\"col5\").removeAttr(\"id\");\r\n        $(cells[5]).removeClass(\"stats_table\").addClass(\"col6\");\r\n        $(cells[6]).removeClass(\"stats_table\").addClass(\"col7\");\r\n\r\n        i++;\r\n    }\r\n\r\n    // replacing separing line\r\n    $(rows[i]).remove();\r\n\r\n    // edit dirigenti\r\n    i++;\r\n    while (rows[i] != null) {\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        $(cells[0]).attr(\"colspan\", \"1\").removeClass(\"stats_table\").addClass(\"col1\");\r\n\r\n        let cell = $(cells[1]);\r\n        cell.removeAttr(\"align class\").addClass(\"col2\");\r\n        let str = removeTags(cell.html(), \"div\", true, false);\r\n        cell.html(\"<span>\" + str + \"</span>\");\r\n\r\n        $(cells[2]).removeAttr(\"align width class style\").addClass(\"col3\").html(\"\");\r\n\r\n        cell = $(cells[3]);\r\n        cell.removeAttr(\"style\").addClass(\"col4\").attr(\"colspan\", \"2\");\r\n        cell.html(titleCase(removeTags(polishString(cell.html()), \"span\", true, false)));\r\n\r\n        $(cells[4]).removeClass(\"stats_table\").addClass(\"col5\")\r\n        $(cells[5]).removeClass(\"stats_table\").addClass(\"col6\");\r\n        $(cells[6]).removeClass(\"stats_table\").addClass(\"col7\");\r\n\r\n        i++;\r\n    }\r\n\r\n    // edit technicians' label row\r\n    $($(table.find(\"thead\")[1]).find(\"th\")[0]).attr(\"colspan\", \"7\").removeAttr(\"style\").html(\"Ruoli tecnici\");\r\n\r\n    return nomeSquadra;\r\n}\r\n\r\nfunction parseTeamTable(table) {\r\n    let tbodies = table.find(\"tbody\");\r\n\r\n    let getContent = (row) => $(row).html();\r\n\r\n    // Giocatori\r\n    let rows_gioc = $(tbodies[0]).find(\"tr\");\r\n    let giocatori = [];\r\n    $.each(rows_gioc, (i) => {\r\n        let cells = $(rows_gioc[i]).find(\"td\");\r\n        giocatori.push({\r\n            num: getContent(cells[0]),\r\n            ruolo: removeTags(getContent(cells[1]), \"span\", true, false),\r\n            i5: (getContent(cells[2]) !== \"\"),\r\n            nome: getContent(cells[3]),\r\n            gol: getContent(cells[4]),\r\n            blu: getContent(cells[5]),\r\n            rossi: getContent(cells[6])\r\n        })\r\n    })\r\n\r\n    // Tecnici\r\n    let rows_tecn = $(tbodies[1]).find(\"tr\");\r\n    let tecnici = [];\r\n    $.each(rows_tecn, (i) => {\r\n        let cells = $(rows_tecn[i]).find(\"td\");\r\n        tecnici.push({\r\n            ruolo: removeTags(getContent(cells[1]), \"span\", true, false),\r\n            nome: getContent(cells[3]),\r\n            blu: getContent(cells[4]),\r\n            rossi: getContent(cells[5])\r\n        })\r\n    })\r\n\r\n    return [giocatori, tecnici];\r\n}\r\n\r\nfunction parseRigori(elem, rev) {\r\n    let table = elem.find(\"table\")[0];\r\n    let rows = $(table).find(\"tbody tr\");\r\n    let arr = [];\r\n    $.each(rows, el => {\r\n        try {\r\n            let cells = $(rows[el]).find('td');\r\n            if (!rev)\r\n                arr.push({ num: parseInt($(cells[0]).html()), gioc: removeTags($(cells[1]).html(), \"div\", true, false), esito: \"\" });\r\n            else\r\n                arr.push({ num: parseInt($(cells[2]).html()), gioc: removeTags($(cells[1]).html(), \"div\", true, false), esito: \"\" });\r\n        } catch (e) { }\r\n    })\r\n    return arr;\r\n}\r\n\r\nfunction retrieveReferees(match, elem) {\r\n    let table = elem.find(\"table\")[0];\r\n    let rows = $(table).find(\"tr\");\r\n\r\n    match.referees.ref1 = titleCase($($(rows[4]).find(\"td\")[1]).html()).replace(',', '').trim();\r\n    match.referees.ref2 = titleCase($($(rows[4]).find(\"td\")[3]).html()).replace(',', '').trim();\r\n    match.referees.aus = titleCase($($(rows[5]).find(\"td\")[1]).html()).replace(',', '').trim();\r\n\r\n    return match;\r\n}\r\n\r\nfunction PARTITA() {\r\n    return {\r\n        id: 0,\r\n        referees: {\r\n            ref1: \"\",\r\n            ref2: \"\",\r\n            aus: \"\"\r\n        },\r\n        teamA: new SQUADRA(),\r\n        teamB: new SQUADRA(),\r\n        campionato: {\r\n            idc: 0,\r\n            girone: \"\",\r\n            nome: \"\",\r\n            tempo: 25\r\n        },\r\n        girone: \"\",\r\n        date: { day: \"\", hour: \"\" },\r\n        place: \"\",\r\n        goalsA: 0,\r\n        goalsB: 0,\r\n        falliA: 0,\r\n        falliB: 0,\r\n        rigori: false,\r\n        currentTime: \"\",\r\n        playing: true,\r\n        actions: []\r\n    }\r\n}\r\n\r\nfunction SQUADRA() {\r\n    return {\r\n        idt: 0,\r\n        nome: \"\",\r\n        logo: \"\",\r\n        small: \"\",\r\n        giocatori: [],\r\n        tecnici: []\r\n    }\r\n}\r\n\r\nfunction AZIONE() {\r\n    return {\r\n        period: \"\",\r\n        time: \"\",\r\n        team: {\r\n            name: \"\",\r\n            small: \"\",\r\n            logo: \"\"\r\n        },\r\n        action: \"\",         // fallo di squadra, gol blu, rosso, ammonizione, tiro diretto, tiro di rigore\r\n        action_supp: \"\",    // # fallo per falli, tabellone per gol\r\n        player: {\r\n            name: \"\",\r\n            number: 0,\r\n            id: 0\r\n        }\r\n    };\r\n}","export default class CircularQueue {\r\n    constructor(size) {\r\n        this.size = size;\r\n        this.next = 0;\r\n        this.array = [];\r\n    }\r\n\r\n    static Restore(name) {\r\n        let x = localStorage.getItem(name);\r\n        if (x == null)\r\n            return new CircularQueue(100);\r\n        else {\r\n            x = JSON.parse(x);\r\n            let queue = new CircularQueue(100);\r\n            queue.restore(x.size, x.array);\r\n            return queue;\r\n        }\r\n    }\r\n\r\n    restore(size, array) {\r\n        this.size = size;\r\n        this.array = array;\r\n        this.next = array.length;\r\n    }\r\n\r\n    indexOf(id) {\r\n        let i = 0;\r\n        for (i = 0; i < this.array.length; i++)\r\n            if (this.array[i].id === id)\r\n                return i\r\n        return -1;\r\n    }\r\n\r\n    contains(id) { return (this.indexOf(id) !== -1); }\r\n\r\n    add(obj) {\r\n        if (this.contains(obj.id)) {\r\n            let arr = (this.array.slice(this.next, this.size)).concat(this.array.slice(0, this.next));\r\n            arr = arr.filter(a => (a !== null && a.id !== obj.id));\r\n            arr.push(obj);\r\n            this.array = arr;\r\n            this.next = ((arr.length) % this.size);\r\n        }\r\n        else {\r\n            this.array[this.next] = obj;\r\n            this.next = ((this.next + 1) % this.size);\r\n        }\r\n    }\r\n\r\n    get(id) {\r\n        return this.array[this.indexOf(id)];\r\n    }\r\n\r\n    save(name) {\r\n        let arr = (this.array.slice(this.next, this.size)).concat(this.array.slice(0, this.next));\r\n        arr = arr.filter(a => (a !== null));\r\n        localStorage.setItem(name, JSON.stringify({ size: this.size, array: arr }));\r\n    }\r\n}","import ApiPartita from \"../API/ApiPartita\";\r\nimport { CaricaCampionati } from \"./MwCampionati\";\r\n\r\nimport CircularQueue from \"../Data structures/CircularQueue\";\r\nimport GeneralCache from \"../Data structures/GeneralCache\";\r\n\r\nconst title_cache = \"f_tit_partite\";\r\nconst data_cache = \"c_partite\";\r\n\r\nexport class CaricaPartita {\r\n\r\n    static Partita(idp, forceRefresh, then, error) {\r\n        idp = parseInt(idp);\r\n        let cache = CircularQueue.Restore(data_cache);\r\n        if (!forceRefresh && cache.contains(idp)) {\r\n            then(cache.get(idp));\r\n        }\r\n        else {\r\n            ApiPartita(idp, (partita) => {\r\n                if (partita.currentTime === \"FINALE\") {\r\n                    cache.add(partita);\r\n                    cache.save(data_cache);\r\n                }\r\n                then(partita);\r\n            }, error);\r\n        }\r\n    }\r\n\r\n    static SalvaTitolo(partita) {\r\n        try {\r\n            if (partita.idp !== undefined) {\r\n                let camp = CaricaCampionati.GetByID(partita.idc);\r\n                let obj = {\r\n                    id: partita.idp,\r\n                    titolo: \"\" + camp.abbr + \": \" + partita.teamA.smallname + \" vs \" + partita.teamB.smallname\r\n                };\r\n\r\n                GeneralCache.QuickInsert(title_cache, partita.idp, obj);\r\n            }\r\n        } catch (e) { }\r\n    }\r\n\r\n    static GetTitolo(idp) {\r\n        return GeneralCache.GetFrom(title_cache, idp);\r\n    }\r\n}","import ApiCalendario from \"../API/ApiCalendario\";\r\nimport TemporalCache from \"../Data structures/TemporalCache\";\r\nimport $ from 'jquery'\r\nimport { CaricaPartita } from \"./MwPartita\";\r\n\r\nconst cache_name = \"c_calendario\";\r\nconst cache_expiry = 3600;\r\n\r\nexport class CaricaCalendario {\r\n    static Campionato(idc, forceRefresh, then) {\r\n        idc = parseInt(idc);\r\n        let cache = TemporalCache.Restore(cache_name, cache_expiry);\r\n        let cached_elem = cache.get(idc);\r\n\r\n        if (!forceRefresh && cached_elem != null) {\r\n            console.log(\"found in cache\");\r\n            then(cached_elem);\r\n        }\r\n        else {\r\n            // chiamata all'API & caching del risultato\r\n            ApiCalendario(idc, (calendario) => {\r\n                cache.insert(idc, calendario);\r\n                cache.save(cache_name);\r\n\r\n                calendario.map(giornata => { giornata.partite.map(p => { CaricaPartita.SalvaTitolo(p); }) });\r\n                then(calendario);\r\n            });\r\n        }\r\n    }\r\n\r\n    static DueGiornate(idc, forceRefresh, then) {\r\n        this.Campionato(idc, forceRefresh, (calendario) => {\r\n            let ret = [];\r\n\r\n            // data di oggi\r\n            let today = new Date();\r\n            let parseDate = (str) => {\r\n                let a = str.split('/');\r\n                return new Date(a[2], parseInt(a[1]) - 1, a[0]);\r\n            }\r\n\r\n            // giornata scorsa\r\n            try {\r\n                let last = calendario.filter((elem) => parseDate(elem.data) < today);\r\n                let last_day = last[last.length - 1];\r\n                ret[0] = last_day;\r\n            } catch (e) {\r\n                ret[0] = null;\r\n            }\r\n\r\n            // prossima giornata\r\n            try {\r\n                let next_day = calendario.filter((elem) => parseDate(elem.data) >= today)[0];\r\n                ret[1] = next_day;\r\n            } catch (e) {\r\n                ret[1] = null;\r\n            }\r\n\r\n            then(ret);\r\n        });\r\n    }\r\n\r\n    static Squadra(idc, idt, forceRefresh, then) {\r\n        this.Campionato(idc, forceRefresh, (calendario) => {\r\n            let ret = [];\r\n            $.each(calendario, i => {\r\n                let x = calendario[i].partite.filter(elem => elem.teams.includes(idt));\r\n                $.each(x, j => {\r\n                    ret.push(x[j]);\r\n                });\r\n            });\r\n            then(ret);\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './Calendario.css'\r\n\r\nexport default function Partita(obj) {\r\n    //console.log(obj);\r\n    if (obj.teamA.fullname === \"\") obj.teamA.fullname = obj.teamA.smallname;\r\n    if (obj.teamB.fullname === \"\") obj.teamB.fullname = obj.teamB.smallname;\r\n    if (obj.idp !== undefined && obj.idp !== \"\") {\r\n        return <PartitaAttiva {...obj} />\r\n    }\r\n    else {\r\n        return <PartitaDaFare {...obj} />\r\n    }\r\n}\r\n\r\nconst PartitaDaFare = (obj) => {\r\n    return (\r\n        <div className=\"card cal-elem-outer\">\r\n            <div className=\"card-body cal-elem-inner\">\r\n                <div className=\"cal-elem-row\">\r\n                    <div className=\"cal-date\">\r\n                        {obj.day + \" \" + ((obj.hour === undefined) ? \"00:00\" : obj.hour) + ((obj.campAbbr === undefined) ? \"\" : \" : \" + obj.campAbbr)}\r\n                    </div>\r\n                    <div className=\"cal-match\">\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div className=\"cal-flex\">\r\n                                            <img className=\"cal-logo\" src={obj.teamA.logo} alt={obj.teamA.smallname} />\r\n                                            <div className=\"cal-team-left d-sm-inline-block d-none\">{obj.teamA.fullname}</div>\r\n                                            <div className=\"cal-team-left d-sm-none d-inline-block\">{obj.teamA.smallname}</div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                        {(obj.score === \"\") ? obj.type : obj.score.replace(':', ' - ')}\r\n                                    </td>\r\n                                    <td>\r\n                                        <div className=\"cal-flex-rev\">\r\n                                            <img className=\"cal-logo\" src={obj.teamB.logo} alt={obj.teamB.smallname} />\r\n                                            <div className=\"cal-team-right d-sm-inline-block d-none\">{obj.teamB.fullname}</div>\r\n                                            <div className=\"cal-team-right d-sm-none d-inline-block\">{obj.teamB.smallname}</div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PartitaAttiva = (obj) => {\r\n    return (\r\n        <div className=\"card highlight cal-elem-outer\">\r\n            <Link to={\"/partita/\" + obj.idp} className=\"link-unstyled\">\r\n                <div className=\"card-body cal-elem-inner\">\r\n                    <div className=\"cal-elem-row\">\r\n                        <div className=\"cal-date\">\r\n                            {obj.day + \" \" + ((obj.hour === undefined) ? \"00:00\" : obj.hour) + ((obj.campAbbr === undefined) ? \"\" : \" : \" + obj.campAbbr)}\r\n                        </div>\r\n                        <div className=\"cal-match\">\r\n                            <table>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>\r\n                                            <div className=\"cal-flex\">\r\n                                                <img className=\"cal-logo\" src={obj.teamA.logo} alt={obj.teamA.smallname} />\r\n                                                <div className=\"cal-team-left d-sm-inline-block d-none\">{obj.teamA.fullname}</div>\r\n                                                <div className=\"cal-team-left d-sm-none d-inline-block\">{obj.teamA.smallname}</div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"text-center\">\r\n                                            {obj.score.replace(':', ' - ')}\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"cal-flex-rev\">\r\n                                                <img className=\"cal-logo\" src={obj.teamB.logo} alt={obj.teamB.smallname} />\r\n                                                <div className=\"cal-team-right d-sm-inline-block d-none\">{obj.teamB.fullname}</div>\r\n                                                <div className=\"cal-team-right d-sm-none d-inline-block\">{obj.teamB.smallname}</div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Partita from './Partita'\r\n\r\nconst GiornataVuota = () => {\r\n    return <i style={{ color: \"#777\" }}>niente da visualizzare</i>\r\n}\r\n\r\nexport default function PartiteBox(props) {\r\n    if (props.giornata === null || props.giornata === undefined) {\r\n        return <GiornataVuota />\r\n    }\r\n    else {\r\n        return (\r\n            <>\r\n                { (props.giornata.partite.map((p, i) => <Partita key={i} {...p} />))}\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nimport PartiteBox from './PartiteBox'\r\n\r\nexport default function Giornata(props) {\r\n    return (\r\n        <div style={{ marginTop: \"20px\" }}>\r\n            <h5 className=\"d-inline-block\">\r\n                {titleCase(props.giornata.giornata)}\r\n            </h5>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <span> {props.giornata.data}</span>\r\n            <br />\r\n            <PartiteBox giornata={props.giornata} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className=\"w-100 p-4 text-center\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\"></div>\r\n            <h5>Caricamento ...</h5>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","export default __webpack_public_path__ + \"static/media/logo.2444734b.png\";","export function getCacheArray(name) {\r\n    let ok = false;\r\n    let arr = [];\r\n    do {\r\n        try {\r\n            let x = localStorage.getItem(name);\r\n            if (x == null) { throw new Error(); }\r\n            arr = JSON.parse(x);\r\n            ok = true;\r\n        }\r\n        catch (e) { localStorage.setItem(name, JSON.stringify([])); }\r\n    } while (!ok);\r\n    return arr;\r\n}\r\n\r\nexport function expand(arr, label) {\r\n    let ret = [];\r\n    arr.forEach(element => {\r\n        ret[element[label]] = element;\r\n    });\r\n    return ret;\r\n}\r\n\r\nexport function compress(arr) {\r\n    return arr.filter(e => e != null);\r\n}\r\n\r\n// for caching objects\r\n\r\nclass CircularQueue {\r\n    constructor(size) {\r\n        this.size = size;\r\n        this.next = 0;\r\n        this.array = [];\r\n    }\r\n\r\n    indexOf(id) {\r\n        let i = 0;\r\n        for (i = 0; i < this.array.length; i++)\r\n            if (this.array[i].id === id)\r\n                return i\r\n        return -1;\r\n    }\r\n\r\n    contains(id) { return (this.indexOf(id) !== -1); }\r\n\r\n    add(obj) {\r\n        if (this.contains(obj.id)) {\r\n            let arr = (this.array.slice(this.next, this.size)).concat(this.array.slice(0, this.next));\r\n            arr = arr.filter(a => (a !== null && a.id !== obj.id));\r\n            arr.push(obj);\r\n            this.array = arr;\r\n            this.next = ((arr.length) % this.size);\r\n        }\r\n        else {\r\n            this.array[this.next] = obj;\r\n            this.next = ((this.next + 1) % this.size);\r\n        }\r\n    }\r\n\r\n    remove(id) {\r\n\r\n    }\r\n\r\n    get(id) {\r\n        return this.array[this.indexOf(id)];\r\n    }\r\n\r\n    save(name) {\r\n        let arr = (this.array.slice(this.next, this.size)).concat(this.array.slice(0, this.next));\r\n        arr = arr.filter(a => (a !== null));\r\n        localStorage.setItem(name, JSON.stringify({ size: this.size, array: arr }));\r\n    }\r\n}\r\n\r\nexport function getObjectFromCache(name) {\r\n    let ok = false;\r\n    let i = 0;\r\n    let obj = {};\r\n    do {\r\n        try {\r\n            let x = localStorage.getItem(name);\r\n            if (x == null) { throw new Error(); }\r\n            obj = JSON.parse(x);\r\n            //let inutile = obj.contains(1);\r\n            ok = true;\r\n        }\r\n        catch (e) { localStorage.setItem(name, JSON.stringify(new CircularQueue(100))); }\r\n    } while (!ok && i < 10);\r\n\r\n    let f = new CircularQueue(obj.size);\r\n    obj.array.forEach(e => {\r\n        try {\r\n            f.add(e);\r\n        } catch (x) { }\r\n    });\r\n    return f;\r\n}","import { getCacheArray } from './CacheCommons'\r\n\r\nexport function IsSaved(path) {\r\n    let salvati = getCacheArray(\"ns_salvati\");\r\n    let salva = salvati.filter(e => e === path);\r\n    if (salva.length > 0)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\nexport function Salva(path) {\r\n    if (!IsSaved(path)) {\r\n        let salvati = getCacheArray(\"ns_salvati\");\r\n        salvati.push(path);\r\n        localStorage.setItem(\"ns_salvati\", JSON.stringify(salvati));\r\n    }\r\n}\r\n\r\nexport function DisSalva(path) {\r\n    if (IsSaved(path)) {\r\n        let salvati = getCacheArray(\"ns_salvati\");\r\n        salvati = salvati.filter(e => e !== path);\r\n        localStorage.setItem(\"ns_salvati\", JSON.stringify(salvati));\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { IsSaved, Salva, DisSalva } from '../../Cache/CachePreferiti'\r\n\r\nexport class Preferiti extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.path = props.path;\r\n\r\n        this.state = {\r\n            saved: IsSaved(this.path)\r\n        }\r\n    }\r\n\r\n    salvaComePreferito() {\r\n        if (this.state.saved) {\r\n            DisSalva(this.path);\r\n            this.setState({ saved: false });\r\n        }\r\n        else {\r\n            Salva(this.path);\r\n            this.setState({ saved: true });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <button className=\"btn btn-light d-none d-md-block\" title={((this.state.saved) ? \"Salva nei preferiti\" : \"Salvato\")} onClick={() => this.salvaComePreferito()}>\r\n                    <i className={\"fas fa-star \" + ((this.state.saved) ? \"text-warning\" : \"\")} title=\"Salva come preferito\"></i>\r\n                </button>\r\n                <div className=\"navbar-nav ml-auto mt-0 mt-lg-0 font-weight-bold d-block d-md-none\">\r\n                    <span className=\"nav-item nav-link\" onClick={() => this.salvaComePreferito()}>\r\n                        {((this.state.saved) ? <span className=\"text-warning\">Salvato</span> : \"Salva nei preferiti\")}\r\n                    </span>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport function PreferitiFake() {\r\n    return (\r\n        <button className=\"btn btn-light d-none d-md-block\" disabled>\r\n            <i className=\"fas fa-star text-light\"></i>\r\n        </button>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport logo from '../../assets/logo.png'\r\nimport { Preferiti, PreferitiFake } from './Preferiti';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.active = props.active;\r\n        this.path = props.path;\r\n        this.title = (props.title !== undefined) ? props.title : \"Risultati hockey pista\"\r\n        this.titleFun = props.titleFun;\r\n\r\n        this.state = {\r\n            toggle: false,\r\n            canBeSaved: ((props.canBeSaved) ? true : false)\r\n        }\r\n    }\r\n\r\n    toggleNavbar() {\r\n        let t = this.state.toggle;\r\n        this.setState({ toggle: !t })\r\n    }\r\n\r\n    render() {\r\n        const links = [\r\n            { display: \"Home\", url: \"/\" },\r\n            { display: \"Campionati\", url: \"/campionati\" },\r\n            { display: \"Societ\", url: \"/societa\" },\r\n            { display: \"Salvati\", url: \"/salvati\" }\r\n        ];\r\n\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light text-uppercase\" style={{ padding: \"10px\" }}>\r\n                <div className=\"navbar-brand p-0 m-0\">\r\n                    <button className=\"navbar-toggler navbar-toggler-right ml-auto mr-2\" onClick={() => this.toggleNavbar()}>\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <Link className=\"navbar-brand p-0 mr-2 d-none d-md-inline-block\" to=\"/\">\r\n                        <img src={logo} alt=\"Torna alla home\" style={{ width: \"40px\", margin: \"0\" }} />\r\n                    </Link>\r\n                    <strong> {(this.titleFun !== undefined) ? this.titleFun() : this.title} </strong>\r\n                </div>\r\n\r\n                <div className={\"collapse navbar-collapse \" + ((this.state.toggle) ? \" show text-center\" : \"\")}>\r\n                    <div className=\"navbar-nav ml-auto mt-2 mt-lg-0 font-weight-bold\">\r\n                        {links.map((l, i) => Elem(i, l.display, l.url, (l.display === this.active)))}\r\n                    </div>\r\n                    {((this.state.canBeSaved) ? <Preferiti path={this.path} /> : <PreferitiFake />)}\r\n                    <Config />\r\n                </div>\r\n            </nav >\r\n        )\r\n    }\r\n}\r\n\r\nconst Elem = (i, display, url, active) => {\r\n    return (\r\n        <Link key={i} className={\"nav-item nav-link \" + (active ? 'active' : '')} to={url}>{display}</Link>\r\n    );\r\n}\r\n\r\nconst Config = () => {\r\n    return (\r\n        <>\r\n            <Link to=\"/impostazioni\" className=\"btn btn-light d-none d-md-block\" title=\"Impostazioni\" >\r\n                <i className={\"fas fa-cog\"}></i>\r\n            </Link>\r\n            <div className=\"navbar-nav ml-auto mt-0 mt-lg-0 font-weight-bold d-block d-md-none\">\r\n                <Link to=\"/impostazioni\" className=\"nav-item nav-link\">\r\n                    Impostazioni\r\n                </Link>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErroreNotFound(props) {\r\n    return (\r\n        <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\">\r\n                <div className=\"modal-content p-4 text-center\">\r\n                    <h1 className=\"m-0 text-danger\">\r\n                        <i className=\"fas fa-bug\"></i>\r\n                    </h1>\r\n                    <h4 className=\"mt-1\">{props.title}</h4>\r\n                    <br />\r\n                    <button onClick={props.callBack} className=\"btn btn-primary\" style={{ width: \"100%\", maxWidth: \"200px\", margin: \"0 auto\" }}>\r\n                        indietro\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport { CaricaCalendario } from '../Middleware/MwCalendario';\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\n\r\nimport Giornata from '../Components/Calendario/Giornata';\r\nimport Loader from '../Components/Varie/Loader';\r\nimport Navbar from '../Components/Varie/Navbar';\r\nimport ErroreNotFound from '../Components/Modals/ErroreNotFound';\r\n\r\nexport default class Calendario extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_camp = parseInt(props.match.params.id);\r\n\r\n        // CACHED THINGS\r\n        this.camp = CaricaCampionati.GetByID(this.id_camp);\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n        this.error = (this.camp === null);\r\n        this.title = (!this.error ? (\"Calendario \" + this.camp.abbr) : \"Calendario\");\r\n        this.reloaded = false;\r\n        if ((window.performance) && (performance.navigation.type == 1)) {\r\n            this.reloaded = true;\r\n        }\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = this.title;\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = { calendario: [], loaded: false }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = this.title + \" - HockeyPista 2.0\"\r\n\r\n        if (!this.error) {\r\n            CaricaCalendario.Campionato(this.id_camp, this.reloaded, (cal) => {\r\n                cal.forEach(g => {\r\n                    this.state.calendario.push(g);\r\n                });\r\n                this.setState({\r\n                    loaded: true\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(!this.error) ? null : <ErroreNotFound title=\"Calendario non trovato\" callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar path={this.path} title={this.title} canBeSaved={true} />\r\n                <div className=\"container p-2\">\r\n                    <div className=\"card mt-2 mb-2\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"text-center\">\r\n                                <Link to={\"/campionato/\" + this.id_camp}>\r\n                                    vai al campionato\r\n                                </Link>\r\n                            </div>\r\n                            <div>\r\n                                {(this.state.loaded) ? this.state.calendario.map((g, i) => <Giornata key={i} giornata={g} />) : <Loader />}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Img(props) {\r\n    const imgStyle = {\r\n        width: \"40px\",\r\n        height: \"auto\",\r\n        margin: \"6px\"\r\n    }\r\n    return <img src={props.logo} alt={props.name} style={imgStyle} />\r\n}\r\n\r\nexport function CampLarge(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"10px\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const logoStyle = {\r\n        padding: \"10px 0 0 0\",\r\n        textAlign: \"center\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-lg-4 col-md-6 col-sm-12 p-2\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/campionato/\" + props.id} query={{ nome: props.nome }}>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title text-center\"> {props.name} </h5>\r\n                        <div style={logoStyle}>\r\n                            {\r\n                                props.teams.filter(e => e.name != \"\").map((elem, index) => <Img key={index} {...elem} />)\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\n\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati'\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport { CampLarge as CampElement } from '../Components/Campionati/CampLarge'\r\n\r\nclass Campionati extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n\r\n        // COMPONENT PARAMS\r\n        this.reloaded = false;\r\n        if ((window.performance) && (performance.navigation.type == 1)) {\r\n            this.reloaded = true;\r\n        }\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Campionati\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            campionati: [],\r\n            loaded: false\r\n        };\r\n\r\n        document.title = \"Campionati - HockeyPista 2.0\"\r\n\r\n        // google analytics\r\n        GtagInitialize();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Campionati - HockeyPista 2.0\"\r\n\r\n        CaricaCampionati.GetAll(this.reloaded, (camps) => {\r\n            this.state.campionati = camps;\r\n            this.setState({ loaded: true });\r\n        }, () => { });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={\"Campionati\"} active={\"Campionati\"} active={\"Campionati\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        {(!this.state.loaded) ? <Loader /> : this.state.campionati.map((camp, i) => <CampElement key={i} {...camp} />)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Campionati;\r\n","import $ from 'jquery'\r\nimport { polishString, parseCompleteTag, parseIsleTag, removeTags, extractProp, myReplaceAll, prepareURLforProxy } from './commons'\r\nimport { getCachedSquadre } from '../Cache/CacheSquadra'\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\n\r\nexport default function ApiInCorso(then, err) {\r\n    $.ajax({\r\n        url: prepareURLforProxy(\"fisr_mc_1.php\"),\r\n        method: \"GET\",\r\n        success: (data) => {\r\n            data = prepareStringForParsing(data);\r\n            let partite = parsePlaying(data);\r\n            then(partite);\r\n        },\r\n        error: () => { err(); }\r\n    });\r\n}\r\n\r\nfunction prepareStringForParsing(data) {\r\n    // polishing the string\r\n    data = polishString(data);\r\n    data = data.replace(/'/g, '\"');\r\n\r\n    // removing comments, style blocks and input tags at the beginning\r\n    while (data.indexOf(\"<!--\") != -1) {\r\n        let supp = data.substr(data.indexOf(\"<!--\"));\r\n        supp = supp.substr(0, supp.indexOf(\"-->\") + 3);\r\n        data = data.replace(supp, \"\");\r\n    }\r\n    data = removeTags(data, \"style\", true, true);\r\n    data = data.substr(data.indexOf('<div class=\"scorer_apartado\"'));\r\n    data = data.substr(0, data.length - 6);\r\n\r\n    // uniforming all blocks\r\n    data = myReplaceAll(data, '<a href=\"#\" ', \"<div \");\r\n    data = myReplaceAll(data, '</a>', \"</div>\");\r\n\r\n    return data;\r\n}\r\n\r\nfunction parsePlaying(data) {\r\n    let cachedCampionati = CaricaCampionati.GetCached();\r\n    let cachedSquadre = getCachedSquadre();\r\n\r\n    let matches = [];\r\n    while (data.indexOf('<div class=\"scorer_apartado\"') == 0) {\r\n        // remove first row: campionato\r\n        let str = data.substr(0, data.indexOf('<div class=\"scorer_game'));\r\n        data = data.replace(str, \"\");\r\n\r\n        // parsing matches of that campionato\r\n        let maxLive = 0;\r\n        while (data.indexOf('<div class=\"scorer_game') == 0 && maxLive < 1000) {\r\n            maxLive++;\r\n            data = data.substr(1);\r\n            let current = data.substr(0, min(data.indexOf('<div class=\"scorer_game'), data.indexOf('<div class=\"scorer_apartado\"'), data.length));\r\n            data = data.replace(current, \"\");\r\n\r\n            let tag = parseCompleteTag(\"<\" + current);\r\n\r\n            // try to get the camp from the cache\r\n            let cachedCamp = null;\r\n            try {\r\n                cachedCamp = cachedCampionati.filter(c => c.name.toLowerCase() == extractContentByClass(tag.content, \"scorer_liga\").toLowerCase())[0];\r\n            } catch (e) { }\r\n\r\n            // match object\r\n            let match = {\r\n                idp: 0, idc: 0, day: \"\", hour: \"\", score: \"\", matchDayNum: \"\",\r\n                teamA: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" },\r\n                teamB: { idt: 0, logo: \"\", fullname: \"\", smallname: \"\" }\r\n            };\r\n\r\n            // IDP, IDC, camp abbr\r\n            let idp = extractProp(tag, \"idp\");\r\n            match.idp = (idp == \"\") ? 0 : parseInt(idp);\r\n            try {\r\n                let idc = parseInt(extractProp(tag, \"idc\"));\r\n                match.idc = (!isNaN(idc)) ? parseInt(idc) : cachedCamp.id;\r\n            } catch (e) { }\r\n            try { match.campAbbr = cachedCamp.abbr; } catch (e) { }\r\n\r\n            // Team A\r\n            match.teamA.smallname = extractContentByClass(tag.content, \"scorer_team_left\");\r\n            try {\r\n                match.teamA.fullname = cachedSquadre.filter((e => (e.camp == match.idc && e.abbr == match.teamA.smallname)))[0].nome;\r\n            } catch (e) { match.teamA.fullname = match.teamA.smallname }\r\n            match.teamA.logo = extractProp(parseIsleTag(extractContentByClass(tag.content, \"scorer_logo_left\")), \"src\");\r\n\r\n            // Team B\r\n            match.teamB.smallname = extractContentByClass(tag.content, \"scorer_team_right\");\r\n            try {\r\n                match.teamB.fullname = cachedSquadre.filter((e => (e.camp == match.idc && e.abbr == match.teamB.smallname)))[0].nome;\r\n            } catch (e) { match.teamB.fullname = match.teamB.smallname }\r\n            match.teamB.logo = extractProp(parseIsleTag(extractContentByClass(tag.content, \"scorer_logo_right\")), \"src\");\r\n\r\n            // date, hour, score, info\r\n            match.score = extractContentByClass(tag.content, \"scorer_score\");\r\n            let dayHour = extractContentByClass(tag.content, \"scorer_bot_left\").split(' ');\r\n            match.day = dayHour[0];\r\n            match.hour = dayHour[1];\r\n            match.type = removeTags(extractContentByClass(tag.content, \"scorer_bot_center\"), \"span\", true, false);\r\n            match.matchDayNum = extractContentByClass(tag.content, \"scorer_bot_right\");\r\n\r\n            // add to list\r\n            matches.push(match);\r\n        }\r\n    }\r\n    return matches;\r\n}\r\n\r\nfunction min(a, b, escape) {\r\n    if (a < 0 && b < 0) return escape;\r\n    if (a < 0) return b;\r\n    if (b < 0) return a;\r\n    if (a > b) return b;\r\n    return a;\r\n}\r\n\r\nfunction extractContentByClass(input, wclass) {\r\n    let str = input.substr(input.indexOf('<div class=\"' + wclass + '\"'));\r\n    str = str.substr(0, str.indexOf(\"</div>\") + 6);\r\n    return removeTags(str, \"div\", true, false);\r\n}","import ApiInCorso from \"../API/ApiInCorso\";\r\nimport { extractSocietaID } from \"../Cache/CacheSquadra\";\r\nimport TemporalObjCache from \"../Data structures/TemporalObjCache\";\r\nimport { CaricaPartita } from \"./MwPartita\";\r\n\r\nconst cache_name = \"c_incorso\";\r\nconst cache_expiry = 30;\r\n\r\n// Tutte e PerSociet restituiscono un oggetto:\r\n// { in_corso: [], recenti: [], future: [] }\r\n\r\nexport class CaricaPartite {\r\n    static Tutte(forceRefresh, then, err) {\r\n        let cache = TemporalObjCache.Restore(cache_name);\r\n        let cached = cache.get();\r\n        if (!forceRefresh && cached != null) {\r\n            then(cached);\r\n        }\r\n        else {\r\n            ApiInCorso((partite) => {\r\n                partite.map(p => { CaricaPartita.SalvaTitolo(p); });\r\n                let ret = filtra(partite);\r\n                cache = new TemporalObjCache(ret, cache_expiry);\r\n                cache.save(cache_name);\r\n                then(ret);\r\n            }, err);\r\n        }\r\n    }\r\n\r\n    static Recenti(forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => { then(obj.recenti); }, err);\r\n    }\r\n\r\n    static InCorso(forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => { then(obj.in_corso); }, err);\r\n    }\r\n\r\n    static Future(forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => { then(obj.future); }, err);\r\n    }\r\n\r\n    static OraCampionato(idc, forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => {\r\n            let in_corso = obj.in_corso.filter(p => p.idc === idc);\r\n            then(in_corso);\r\n        }, err);\r\n    }\r\n\r\n    static OraSquadra(idt, forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => {\r\n            let fun = (e, idt) => (e.teamA.idt === idt || e.teamB.idt === idt);\r\n            let in_corso = obj.in_corso.filter(p => fun(p, idt));\r\n            then(in_corso);\r\n        }, err);\r\n    }\r\n\r\n    static PerSocieta(ids, forceRefresh, then, err) {\r\n        this.Tutte(forceRefresh, (obj) => {\r\n            let fun = (e, ids) => (extractSocietaID(e.teamA.logo) == ids || extractSocietaID(e.teamB.logo) == ids);\r\n            obj.in_corso = obj.in_corso.filter(p => fun(p, ids));\r\n            obj.recenti = obj.recenti.filter(p => fun(p, ids));\r\n            obj.future = obj.future.filter(p => fun(p, ids));\r\n            then(obj);\r\n        }, err);\r\n    }\r\n}\r\n\r\nfunction filtra(partite) {\r\n    let ora = partite.filter(e => ((e.type === \"TEMPO 1\") || (e.type === \"INTERVALLO\") || (e.type === \"TEMPO 2\")\r\n        || (e.type === \"OVERTIME 1\") || (e.type === \"OVERTIME 2\") || (e.type === \"PENALTIS\")));\r\n    let recenti = partite.filter(e => (e.type === \"FINALE\"));\r\n    let future = partite.filter(e => (e.type === \"NON INIZIATA\" || e.type === \"SOSPESA\" || e.type === \"RINVIATA\" || e.type === \"riposa\"));\r\n    return { in_corso: ora, recenti: recenti, future: future }\r\n}","import { polishString, removeTags, extractProp, parseCompleteTag, parseIsleTag, prepareURLforProxy } from './commons'\r\nimport $ from 'jquery'\r\n\r\nexport default function ApiMarcatori(idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveMarcatori' style='display: none'></div>\");\r\n    $('#retrieveMarcatori').load(prepareURLforProxy(\"fisr_stats_1_\" + idc + \".php\"), { idc: idc, tipo_stats: \"goles\" }, () => {\r\n        $(\"#retrieveMarcatori\").find(\".mobile\").remove();\r\n        var data = polishString($(\"#retrieveMarcatori\").html());\r\n        data = data.replace(\"<table\", '<table id=\"tbl-marc-xxx\"');\r\n\r\n        $(\"#retrieveMarcatori\").html(data);\r\n        var marcatori = parseMarcatori($(\"#tbl-marc-xxx\"));\r\n        $(\"#retrieveMarcatori\").remove();\r\n\r\n        then(marcatori);\r\n    });\r\n}\r\n\r\nfunction parseMarcatori(table) {\r\n    let rows = table.find(\"tbody tr\");\r\n\r\n    let parseWdef = (str, def) => { if (str === \"\") return def; return parseInt(str); }\r\n    let setWdef = (str, def) => { if (str === \"\") return def; return str; }\r\n\r\n    let marcatori = [];\r\n    $.each(rows, (i) => {\r\n        let gioc = { pos: 0, team: { idt: 0, logo: \"\", name: \"\" }, idpl: 0, name: \"\", flag: \"\", matches: 0, goals: 0, assists: 0, diretti: \"\", rigori: \"\", blu: 0, rossi: 0 };\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        gioc.pos = (i + 1);\r\n        gioc.team.name = removeTags($(cells[1]).html(), \"span\", true, false);\r\n        gioc.team.logo = extractProp(parseIsleTag($(cells[2]).html()), \"src\");\r\n        gioc.flag = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        let tag = parseCompleteTag($(cells[4]).html());\r\n        gioc.idpl = extractProp(tag, \"id_player\");\r\n        gioc.team.idt = extractProp(tag, \"team_id\").replace('\"', '');\r\n        gioc.name = extractProp(tag, \"player_name\").replace(',', '');\r\n        gioc.goals = parseWdef($(cells[5]).html(), 0);\r\n        gioc.matches = parseWdef($(cells[6]).html(), 0);\r\n        gioc.assists = parseWdef($(cells[8]).html(), 0);\r\n        gioc.rigori = setWdef($(cells[10]).html(), \"0/0\");\r\n        gioc.diretti = setWdef($(cells[12]).html(), \"0/0\");\r\n        gioc.blu = parseWdef($(cells[14]).html(), 0);\r\n        gioc.rossi = parseWdef($(cells[16]).html(), 0);\r\n\r\n        marcatori.push(gioc);\r\n    });\r\n\r\n    marcatori = sort(marcatori);\r\n\r\n    return marcatori;\r\n}\r\n\r\nfunction sort(array) {\r\n    let prep = (ass, dir, rig) => {\r\n        let x = 0;\r\n        x += ass * 0.2;\r\n        let a = dir.split(\"/\");\r\n        x += (parseInt(a[1]) == 0) ? 0.2 : (parseInt(a[0]) / parseInt(a[1]));\r\n        a = rig.split(\"/\");\r\n        x += (parseInt(a[1]) == 0) ? 0.2 : (parseInt(a[0]) / parseInt(a[1]));\r\n        return x;\r\n    }\r\n\r\n    let scambia = (sx, dx) => {\r\n        if (sx.goals > dx.goals) return -1;\r\n        else if (sx.goals < dx.goals) return 1;\r\n        else {\r\n            sx = prep(sx.assists, sx.diretti, sx.rigori);\r\n            dx = prep(dx.assists, dx.diretti, dx.rigori);\r\n\r\n            if (sx > dx) return -1;\r\n            else if (sx < dx) return 1;\r\n            else return 0;\r\n        }\r\n    };\r\n\r\n    array = array.sort((a, b) => scambia(a, b));\r\n    $.each(array, i => {\r\n        array[i].pos = i + 1;\r\n    });\r\n    return array;\r\n}","import ApiMarcatori from \"../API/ApiMarcatori\";\r\nimport TemporalCache from \"../Data structures/TemporalCache\";\r\n\r\nconst cache_name = \"c_marcatori\";\r\nconst cache_expiry = 3600;\r\n\r\nexport class CaricaMarcatori {\r\n    static Campionato(idc, forceRefresh, then) {\r\n        idc = parseInt(idc);\r\n        let cache = TemporalCache.Restore(cache_name, cache_expiry);\r\n        let cached = cache.get(idc);\r\n        if (!forceRefresh && cached != null) {\r\n            then(cached);\r\n        }\r\n        else {\r\n            ApiMarcatori(idc, (lista) => {\r\n                cache.insert(idc, lista);\r\n                cache.save(cache_name);\r\n                then(lista);\r\n            });\r\n        }\r\n    }\r\n\r\n    static Squadra(idc, idt, forceRefresh, then) {\r\n        idt = parseInt(idt);\r\n        this.Campionato(idc, forceRefresh, (lista) => {\r\n            lista = lista.filter(e => e.team.idt == idt);\r\n            then(lista);\r\n        })\r\n    }\r\n}","import React from 'react'\r\n\r\nexport const Marcatore = (obj) => {\r\n\r\n    const td = {\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        width: \"10%\",\r\n        minWidth: \"48px\",\r\n        padding: \"5px\"\r\n    }\r\n\r\n    const td_name = {\r\n        width: \"60%\",\r\n        padding: \"5px\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"left\",\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table className=\"table mb-0\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td style={td}> {obj.pos}<sup>o</sup> </td>\r\n                        <td style={td}>\r\n                            <img src={obj.team.logo} alt=\"logo\" style={{ width: \"30px\" }} />\r\n                        </td>\r\n                        <td style={td_name}> {obj.name} </td>\r\n                        <td style={td}> <strong> {obj.goals} </strong> </td>\r\n                        <td style={td}>\r\n                            <button className=\"btn btn-link text-primary m-0\" onClick={obj.callback} style={{outline: \"none\"}}>\r\n                                <i className=\"fas fa-plus-circle\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div className={\"collapse\" + ((obj.show) ? \" show\" : \"\")} >\r\n                <div className=\"row text-center\" style={{ fontSize: \"0.8em\", margin: \"0 0 5px 0\" }}>\r\n                    <div className=\"col\"> <strong>GTE </strong> {obj.matches} </div>\r\n                    <div className=\"col\"> <strong>ASS </strong> {obj.assists} </div>\r\n                    <div className=\"col\"> <strong>RIG </strong> {obj.rigori} </div>\r\n                    <div className=\"col\"> <strong>DIR </strong> {obj.diretti} </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nimport { CaricaMarcatori } from '../../Middleware/MwMarcatori';\r\n\r\nimport Loader from \"../Varie/Loader\"\r\nimport { Marcatore } from \"./Marcatore\"\r\n\r\nexport default class MarcatoriBox extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.id_camp = props.idc;\r\n\r\n        this.state = {\r\n            marcatori: [],\r\n            loaded: false,\r\n            mostra_tutti: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        CaricaMarcatori.Campionato(this.id_camp, false, (lista) => {\r\n            this.state.marcatori = lista;\r\n            this.setState({ loaded: true });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id === showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    mostraTutti = () => {\r\n        let ms = !this.state.mostra_tutti;\r\n        this.setState({ mostra_tutti: ms });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">MARCATORI</h5>\r\n                        <button className=\"btn btn-link p-0\" onClick={() => this.mostraTutti()}>\r\n                            mostra tutti\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"scrollbox\" style={{ maxHeight: \"95vh\" }} >\r\n                        <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                            {\r\n                                (!this.state.loaded) ? <Loader /> : ((this.state.mostra_tutti) ? (this.state.marcatori.map((marc, i) =>\r\n                                    <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                                )) : (this.state.marcatori.slice(0, 5).map((marc, i) =>\r\n                                    <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                                )))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import { polishString, parseCompleteTag, parseIsleTag, prepareURLforProxy } from './commons'\r\nimport $ from 'jquery'\r\n\r\nexport default function ApiClassifica(idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveClassifica' style='display: none'></div>\");\r\n    $('#retrieveClassifica').load(prepareURLforProxy(\"fisr_clasif_29_1.php\"), { idc: idc }, (data) => {\r\n        data = polishString(data);\r\n        data = data.substr(data.indexOf(\"<table\"));\r\n        data = data.replace(\"<table \", '<table id=\"tbl-class-xxx\" ');\r\n        let rem = data.substr(data.indexOf(\"<thead>\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\"));\r\n        data = data.replace(rem, \"\");\r\n\r\n        $(\"#retrieveClassifica\").html(data);\r\n        let classifica = parseClassifica($(\"#tbl-class-xxx\"), idc);\r\n        $(\"#retrieveClassifica\").remove();\r\n\r\n        then(classifica);\r\n    });\r\n}\r\n\r\nfunction parseClassifica(table, idc) {\r\n    let rows = table.find(\"tbody tr\");\r\n    let classifica = [];\r\n    $.each(rows, (i) => {\r\n        let newobj = { pos: 0, logo: \"\", nome: \"\", small: \"\", punti: 0, gte: 0, vte: 0, pte: 0, pse: 0, rft: 0, rst: 0, diff: 0, pen: 0 };\r\n        let cells = $(rows[i]).find(\"td\");\r\n\r\n        newobj.logo = parseIsleTag(parseCompleteTag($(cells[1]).html()).content).props.filter(elem => elem.name === \"src\")[0].value;\r\n        let x = parseCompleteTag(($(cells[2]).html())).content;\r\n        newobj.nome = x.substr(0, x.indexOf(\"</div>\"));\r\n        newobj.small = x.substr(x.indexOf(\"\\\">\") + 2);\r\n\r\n        let check = (val) => (val === \"\") ? 0 : parseInt(val);\r\n\r\n        // crea una funzione check(val) return (val==\"\") ? 0 : parseInt(val); } e sostituiscila qua, che credo che y faccia casino\r\n        newobj.pos = (i + 1);\r\n        newobj.punti = check($(cells[3]).html());\r\n        newobj.gte = check(parseCompleteTag($(cells[4]).html()).content);\r\n        newobj.vte = check(parseCompleteTag($(cells[5]).html()).content);\r\n        newobj.pte = check(parseCompleteTag($(cells[6]).html()).content);\r\n        newobj.pse = check(parseCompleteTag($(cells[7]).html()).content);\r\n        newobj.rft = check(parseCompleteTag($(cells[8]).html()).content);\r\n        newobj.rst = check(parseCompleteTag($(cells[9]).html()).content);\r\n        newobj.diff = check(parseCompleteTag($(cells[10]).html()).content);\r\n        newobj.pen = check(parseCompleteTag($(cells[11]).html()).content);\r\n        newobj.camp = idc;\r\n\r\n        classifica.push(newobj);\r\n    });\r\n\r\n    return classifica;\r\n}","import ApiClassifica from \"../API/ApiClassifica\";\r\nimport TemporalCache from \"../Data structures/TemporalCache\";\r\n\r\nconst cache_name = \"c_classifica\";\r\nconst cache_expiry = 3600;\r\n\r\nexport class CaricaClassifica {\r\n    static Campionato(idc, forceRefresh, then) {\r\n        idc = parseInt(idc);\r\n        let cache = TemporalCache.Restore(cache_name, cache_expiry);\r\n        let cached_elem = cache.get(idc);\r\n\r\n        if (!forceRefresh && cached_elem != null) {\r\n            then(cached_elem);\r\n        }\r\n        else {\r\n            // chiamata all'API & caching del risultato\r\n            ApiClassifica(idc, (result) => {\r\n                cache.insert(idc, result);\r\n                cache.save(cache_name);\r\n                then(result);\r\n            });\r\n        }\r\n    }\r\n\r\n    static Squadra(idc, abbr, forceRefresh, then) {\r\n        this.Campionato(idc, forceRefresh, (clas) => {\r\n            let obj = clas.filter(e => e.small.toUpperCase() == abbr.toUpperCase())[0];\r\n            then(obj);\r\n        })\r\n    }\r\n}","import React from 'react'\r\n\r\nexport const Classifica = (obj) => {\r\n\r\n    const td = {\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        width: \"10%\",\r\n        minWidth: \"48px\",\r\n        padding: \"5px\"\r\n    }\r\n\r\n    const td_name = {\r\n        width: \"60%\",\r\n        padding: \"5px\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"left\",\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table className=\"table mb-0\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td style={td}> {obj.pos}<sup>o</sup> </td>\r\n                        <td style={td}>\r\n                            <img src={obj.logo} alt=\"logo\" style={{ width: \"30px\", margin: 0 }} />\r\n                        </td>\r\n                        <td style={td_name}> {obj.nome} </td>\r\n                        <td style={td}> <strong> {obj.punti} </strong> </td>\r\n                        <td style={td}>\r\n                            <button className=\"btn btn-link text-primary m-0\" onClick={obj.callback} style={{ outline: \"none\" }}>\r\n                                <i className=\"fas fa-plus-circle\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div className={\"collapse\" + ((obj.show) ? \" show\" : \"\")} >\r\n                <div className=\"row text-center\" style={{ fontSize: \"0.8em\", margin: \"0 0 5px 0\" }}>\r\n                    <div className=\"col\"> <strong>GTE </strong> {obj.gte} </div>\r\n                    <div className=\"col\"> <strong>VTE </strong> {obj.vte} </div>\r\n                    <div className=\"col\"> <strong>PTE </strong> {obj.pte} </div>\r\n                    <div className=\"col\"> <strong>PSE </strong> {obj.pse} </div>\r\n                    <div className=\"w-100\"></div>\r\n                    <div className=\"col\"> <strong>RFT </strong> {obj.rft} </div>\r\n                    <div className=\"col\"> <strong>RST </strong> {obj.rst} </div>\r\n                    <div className=\"col\"> <strong>DIFF</strong> {obj.diff} </div>\r\n                    <div className=\"col\"> <strong>PEN </strong> {obj.pen} </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nimport { CaricaClassifica } from '../../Middleware/MwClassifica';\r\n\r\nimport Loader from \"../Varie/Loader\"\r\nimport { Classifica } from \"./Classifica\"\r\n\r\nexport default class ClassificaBox extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.id_camp = props.idc;\r\n\r\n        this.state = {\r\n            classifica: [],\r\n            loaded: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        CaricaClassifica.Campionato(this.id_camp, false, (clas) => {\r\n            clas.forEach(c => { this.state.classifica.push(c) });\r\n            this.setState({\r\n                loaded: true\r\n            });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id == showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">CLASSIFICA</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"scrollbox\" style={{ maxHeight: \"65vh\" }} >\r\n                        <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                            {\r\n                                (!this.state.loaded) ? <Loader /> : this.state.classifica.map((camp, i) =>\r\n                                    <Classifica key={i} {...camp} show={(camp.pos === this.state.showing)} callback={() => this.dettagli(camp.pos)} />\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SquadraBox(obj) {\r\n    const cardStyle = {\r\n        minWidth: \"150px\",\r\n        maxWidth: \"100%\",\r\n        padding: \"10px\",\r\n        borderRadius: \"10px\",\r\n        margin: 0,\r\n        TextAlign: \"center\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col m-1 p-0\" style={{ cursor: \"pointer\" }}>\r\n            <Link className=\"link-unstyled\" to={\"/squadra/\" + obj.id}>\r\n                <div className=\"card card-body text-center highlight\" style={cardStyle}>\r\n                    <img src={obj.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={obj.name} />\r\n                    <h5 className=\"mb-0\">{obj.name}</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\nimport { titleCase } from '../API/commons'\r\n\r\nimport { CaricaCalendario } from '../Middleware/MwCalendario'\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati'\r\nimport { CaricaPartite } from '../Middleware/MwInCorso'\r\n\r\nimport Loader from '../Components/Varie/Loader'\r\nimport Navbar from '../Components/Varie/Navbar'\r\n\r\nimport MarcatoriBox from '../Components/Marcatori/MarcatoriBox'\r\nimport ClassificaBox from '../Components/Classifica/ClassificaBox'\r\nimport SquadraBox from '../Components/Campionati/SquadraBox'\r\nimport PartiteBox from '../Components/Calendario/PartiteBox'\r\nimport Partita from '../Components/Calendario/Partita'\r\nimport ErroreNotFound from '../Components/Modals/ErroreNotFound'\r\n\r\nexport default class Campionato extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_camp = parseInt(props.match.params.id);\r\n\r\n        // CACHED THINGS\r\n        this.camp = CaricaCampionati.GetByID(this.id_camp);\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n        this.error = (this.camp === null);\r\n        this.title = (!this.error ? titleCase(this.camp.name).replace(' E ', ' e ') : \"Campionato non trovato\");\r\n        this.reloaded = false;\r\n        if ((window.performance) && (performance.navigation.type == 1)) {\r\n            this.reloaded = true;\r\n        }\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = this.title;\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            ultima_giornata: undefined,\r\n            prox_giornata: undefined,\r\n            calend_loaded: false,\r\n            incorso: [],\r\n            incorso_load: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = this.title + \" - HockeyPista 2.0\"\r\n\r\n        if (!this.error) {\r\n            CaricaCalendario.DueGiornate(this.id_camp, this.reloaded, (cal) => {\r\n                this.setState({\r\n                    ultima_giornata: cal[0],\r\n                    prox_giornata: cal[1],\r\n                    calend_loaded: true\r\n                });\r\n            });\r\n            CaricaPartite.OraCampionato(this.id_camp, true, (partite) => {\r\n                //console.log(partite);\r\n                this.state.incorso = partite;\r\n                this.setState({ incorso_load: true });\r\n            }, null);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(!this.error) ? null : <ErroreNotFound title=\"Campionato non trovato\" callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar title={this.title} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-xl-8 col-lg-7 col-md-12\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">SQUADRE</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\" style={{ padding: \"0.75rem\" }}>\r\n                                            <div className=\"scrollbox\" style={{ maxHeight: \"45vh\" }} >\r\n                                                <div className=\"row\">\r\n                                                    {\r\n                                                        (this.error) ? null :\r\n                                                            this.camp.teams.filter(e => e.name != \"\")\r\n                                                                .sort((a, b) => (a.name > b.name) ? 1 : ((a.name < b.name) ? -1 : 0)).map((e, i) => <SquadraBox key={i} {...e} />)\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className={\"card \" + ((this.state.incorso_load && this.state.incorso.length !== 0) ? \"\" : \"d-none\")} >\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div>\r\n                                                {this.state.incorso.map((e, i) => <Partita key={i} {...e} />)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"card-title\">CALENDARIO</h5>\r\n                                                <Link to={\"/calendario/\" + this.id_camp}>\r\n                                                    calendario completo\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <h5 className=\"d-inline-block\">\r\n                                                Ultima giornata\r\n                                                {(this.state.ultima_giornata === undefined) ? \"\" : \": \" + this.state.ultima_giornata.giornata.toLowerCase()}\r\n                                            </h5>\r\n                                            <div>\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.ultima_giornata} /> : <Loader />}\r\n                                            </div>\r\n                                            <br />\r\n                                            <h5 className=\"d-inline-block\">\r\n                                                Prossima giornata\r\n                                                {(this.state.prox_giornata !== undefined) ? \": \" + this.state.prox_giornata.giornata.toLowerCase() : \"\"}\r\n                                            </h5>\r\n                                            <div>\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.prox_giornata} /> : <Loader />}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-xl-4 col-lg-5 col-md-12\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    {\r\n                                        (this.error) ? <ClassificaBox idc={0} /> : <ClassificaBox idc={this.id_camp} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    {\r\n                                        (this.error) ? <MarcatoriBox idc={0} /> : <MarcatoriBox idc={this.id_camp} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import GeneralCache from '../Data structures/GeneralCache';\r\n\r\nexport function creaSocieta() {\r\n    try {\r\n        //let squadre = getCacheArray(\"c_squadre\");\r\n        let squadre = GeneralCache.GetAllFrom(\"c_squadre\");\r\n\r\n        let ids = groupBy(squadre, \"soc\");\r\n        let societa = [];\r\n        Object.keys(ids).forEach(id => {\r\n            id = parseInt(id);\r\n            let soc = { id: id, nome: \"\", logo: \"\", small: \"\", squadre: [] };\r\n\r\n            // recupero le squadre della societ\r\n            soc.squadre = squadre.filter(e => e.soc === id);\r\n\r\n            // recupero il valore migliore per le varie propriet dalle squadre\r\n            soc.nome = selectBestValue(soc.squadre, \"nome\");\r\n            soc.small = selectBestValue(soc.squadre, \"abbr\");\r\n            soc.logo = selectBestValue(soc.squadre, \"logo\");\r\n\r\n            societa.push(soc);\r\n        });\r\n        societa = societa.filter(s => s.small !== \"\").sort((a, b) => (a.small > b.small) ? 1 : -1).map(s => {\r\n            if (s.nome == \"\") s.nome = s.small;\r\n            return s;\r\n        });\r\n        localStorage.setItem(\"c_societa\", JSON.stringify(societa));\r\n        return societa;\r\n    } catch (e) { return [] }\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x);\r\n        return rv;\r\n    }, {});\r\n};\r\n\r\nfunction selectBestValue(squadre, prop) {\r\n    let values = groupBy(squadre, prop);\r\n    let names = [{ key: \"\", count: 0 }];\r\n    Object.keys(values).forEach(val => {\r\n        if (val != \"\") {\r\n            names.push({ key: val, count: squadre.filter(s => s[prop] === val).length });\r\n        }\r\n    });\r\n    names = names.sort((a, b) => (a.count > b.count) ? -1 : 1);\r\n    return names[0].key;\r\n}\r\n\r\nexport function getSocieta(ids) {\r\n    let cacheSocieta = creaSocieta();\r\n    return cacheSocieta.filter(e => e.id == ids)[0];\r\n}\r\n\r\nexport function getSocietaByIDT(idt) {\r\n    let cacheSocieta = creaSocieta();\r\n    return cacheSocieta.filter(e => e.squadre.filter(s => s.id == idt).length > 0)[0];\r\n}","import { CaricaCampionati } from '../Middleware/MwCampionati';\r\nimport { getCacheArray, expand, compress } from './CacheCommons'\r\nimport { creaSocieta } from './CacheSocieta';\r\n\r\nexport function getCachedVisCamp() {\r\n    // prendo l'array in memoria\r\n    let camp = getCacheArray(\"vis_campionati\");\r\n    camp = expand(camp, \"id\");\r\n\r\n    // aggiungo eventuali campionati non gi presenti\r\n    let cache = CaricaCampionati.GetCached();\r\n    if (cache != null) {\r\n        cache.forEach(c => {\r\n            if (camp[c.id] === undefined) {\r\n                camp[c.id] = { id: c.id, show: true };\r\n            }\r\n        });\r\n        return camp;\r\n    }\r\n}\r\n\r\nexport function cacheVisCamp(arr) {\r\n    arr = compress(arr);\r\n    localStorage.setItem(\"vis_campionati\", JSON.stringify(arr));\r\n}\r\n\r\nexport function getCachedVisSocieta() {\r\n    // prendo l'array in memoria\r\n    let soc = getCacheArray(\"vis_societa\");\r\n    soc = expand(soc, \"id\");\r\n\r\n    // aggiungo eventuali campionati non gi presenti\r\n    let cache = creaSocieta();\r\n    cache.forEach(c => {\r\n        if (soc[c.id] === undefined) {\r\n            soc[c.id] = { id: c.id, show: true };\r\n        }\r\n    });\r\n    return soc;\r\n}\r\n\r\nexport function cacheVisSocieta(arr) {\r\n    arr = compress(arr);\r\n    localStorage.setItem(\"vis_societa\", JSON.stringify(arr));\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport function CampSmall(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"0.25rem\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const bodyStyle = {\r\n        padding: \"0.75rem\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col col-12 col-sm-6 col-md-4 col-lg-6 col-xl-4\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/campionato/\" + props.id} >\r\n                    <div className=\"card-body\" style={bodyStyle}>\r\n                        <h5 className=\"card-title text-center\"> {titleCase(props.name).replace(/ E /g, ' e ')} </h5>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function HomeCard(props) {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        {props.children[0]}\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"scrollbox\">\r\n                            {props.children[1]}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Societa(props) {\r\n    return (\r\n        <div className=\"col col-6 col-sm-4 col-md-3 col-lg-4 col-xl-3\">\r\n            <Link to={\"/societa/\" + props.id} className=\"link-unstyled\">\r\n                <div className=\"card card-body p-2 highlight\" style={{ margin: \"0.25rem\", borderRadius: \"10px\" }}>\r\n                    <img src={props.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={props.small} />\r\n                    <h5 className=\"mb-0 mt-1 text-center\">{props.small}</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { titleCase } from '../../API/commons';\r\nimport { cacheVisCamp } from '../../Cache/CacheVisualizzazioni';\r\n\r\nexport default class GestisciCampionati extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            camp: props.camp,\r\n            show: props.show,\r\n            update: true\r\n        }\r\n\r\n        this.close = () => props.callback();\r\n    }\r\n\r\n    mostra(id) {\r\n        this.state.show[id] = { id: id, show: true };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    nascondi(id) {\r\n        this.state.show[id] = { id: id, show: false };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    save() {\r\n        cacheVisCamp(this.state.show);\r\n        this.close();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content p-3\">\r\n                        <div className=\"d-flex justify-content-between mb-2\">\r\n                            <h5 className=\"card-title d-inline-block\">\r\n                                Seleziona campionati da visualizzare\r\n                            </h5>\r\n                            <a role=\"button\" className=\"text-secondary\" onClick={() => this.close()} title=\"chiudi\">\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"scrollbox mt-2 mb-2\" style={{ maxHeight: \"70vh\", overflow: \"auto\" }}>\r\n                            {\r\n                                this.state.camp.map((e, i) => {\r\n                                    let show = (this.state.show[e.id].show);\r\n                                    let btnStyle = { padding: \"4px 10px\", margin: \"0 3px\" }\r\n                                    return (\r\n                                        <div className=\"card card-body p-1 pl-3\" key={i}>\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"m-0\">\r\n                                                    {titleCase(e.name).replace(/ E /g, ' e ')}\r\n                                                </h5>\r\n                                                <div style={{ minWidth: \"100px\", textAlign: \"right\" }}>\r\n                                                    <button className={\"btn \" + ((show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.mostra(e.id)}>\r\n                                                        <i className=\"fas fa-eye\"></i>\r\n                                                    </button>\r\n                                                    <button className={\"btn \" + ((!show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.nascondi(e.id)}>\r\n                                                        <i className=\"fas fa-eye-slash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <button className=\"btn btn-success m-1\" style={{ width: \"125px\" }} onClick={() => this.save()} >\r\n                                salva\r\n                            </button>\r\n                            <button className=\"btn btn-secondary m-1\" style={{ width: \"125px\" }} onClick={() => this.close()} >\r\n                                annulla\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { titleCase } from '../../API/commons';\r\nimport { cacheVisCamp, cacheVisSocieta } from '../../Cache/CacheVisualizzazioni';\r\n\r\nexport default class GestisciSocieta extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            soc: props.soc,\r\n            show: props.show,\r\n            update: true\r\n        }\r\n\r\n        this.close = () => props.callback();\r\n    }\r\n\r\n    mostra(id) {\r\n        this.state.show[id] = { id: id, show: true };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    nascondi(id) {\r\n        this.state.show[id] = { id: id, show: false };\r\n        this.setState((prev) => {\r\n            return { update: !prev.update }\r\n        });\r\n    }\r\n\r\n    save() {\r\n        cacheVisSocieta(this.state.show);\r\n        this.close();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content p-3\">\r\n                        <div className=\"d-flex justify-content-between mb-2\">\r\n                            <h5 className=\"card-title d-inline-block\">\r\n                                Seleziona campionati da visualizzare\r\n                            </h5>\r\n                            <a role=\"button\" className=\"text-secondary\" onClick={() => this.close()} title=\"chiudi\">\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"scrollbox mt-2 mb-2\" style={{ maxHeight: \"70vh\", overflow: \"auto\" }}>\r\n                            {\r\n                                this.state.soc.map((e, i) => {\r\n                                    let show = (this.state.show[e.id].show);\r\n                                    let btnStyle = { padding: \"4px 10px\", margin: \"0 3px\" }\r\n                                    return (\r\n                                        <div className=\"card card-body p-1 pl-3\" key={i}>\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                <h5 className=\"m-0\">\r\n                                                    {titleCase(e.nome).replace(' E ', ' e ')}\r\n                                                </h5>\r\n                                                <div style={{ minWidth: \"100px\", textAlign: \"right\" }}>\r\n                                                    <button className={\"btn \" + ((show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.mostra(e.id)}>\r\n                                                        <i className=\"fas fa-eye\"></i>\r\n                                                    </button>\r\n                                                    <button className={\"btn \" + ((!show) ? \"btn-primary\" : \"btn-light\")} style={btnStyle} onClick={() => this.nascondi(e.id)}>\r\n                                                        <i className=\"fas fa-eye-slash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <button className=\"btn btn-success m-1\" style={{ width: \"125px\" }} onClick={() => this.save()} >\r\n                                salva\r\n                            </button>\r\n                            <button className=\"btn btn-secondary m-1\" style={{ width: \"125px\" }} onClick={() => this.close()} >\r\n                                annulla\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n/*\r\nfunction Elemento(props) {\r\n    const btnStyle = {\r\n        padding: \"4px 10px\",\r\n        margin: \"0 3px\"\r\n    }\r\n\r\n    return (\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    this.camp = getCacheArray(\"vis_h_campionati\");\r\nthis.camp = expand(camp, \"id\");\r\nthis.state = {\r\n    camp =\r\n        }\r\n\r\nconst salva = () => {\r\n\r\n}\r\n\r\nreturn (\r\n    <>\r\n        <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog modal-lg\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h5>Seleziona campionati da visualizzare</h5>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n)*/","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErroreAttivazione() {\r\n    return (\r\n        <div className=\"modal fade show\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\">\r\n                <div className=\"modal-content p-4 text-center\">\r\n                    <h1 className=\"m-0 text-warning\">\r\n                        <i className=\"fas fa-exclamation\"></i>\r\n                    </h1>\r\n                    <h4 className=\"mt-1\">Mmm... sembra che il sito non sia attivo...</h4>\r\n                    <p>Consulta la guida per attivare il sito</p>\r\n                    <Link to=\"/guida\" role=\"button\" className=\"btn btn-sm btn-primary mt-2\" style={{ width: \"100%\", maxWidth: \"200px\", margin: \"0 auto\" }}>\r\n                        guida\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { Component, useMemo, useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// API\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\n\r\n// MIDDLEWARE\r\nimport { CaricaCalendario } from '../Middleware/MwCalendario'\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati'\r\n\r\n// CACHE\r\nimport { creaSocieta } from '../Cache/CacheSocieta'\r\nimport { getCachedVisCamp, getCachedVisSocieta } from '../Cache/CacheVisualizzazioni'\r\n\r\n// COMPONENTS\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport { CampSmall as CampElement } from '../Components/Campionati/CampSmall'\r\nimport Partita from '../Components/Calendario/Partita'\r\nimport HomeCard from '../Components/Salvati/HomeCard'\r\nimport Societa from '../Components/Salvati/Societa'\r\n\r\n// MODALS\r\nimport GestisciCampionati from '../Components/Modals/GestisciCampionati'\r\nimport GestisciSocieta from '../Components/Modals/GestisciSocieta'\r\nimport ErroreAttivazione from '../Components/Modals/ErroreAttivazione'\r\nimport { CaricaPartite } from '../Middleware/MwInCorso'\r\n\r\nexport default class Home extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // FIRST ACCESS\r\n        if (localStorage.getItem(\"firstAccess\") === null) {\r\n            console.log(\"primo accesso\");\r\n            localStorage.setItem(\"firstAccess\", \"nope\");\r\n            props.history.push('/primoaccesso');\r\n        }\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n\r\n        // COMPONENT PARAMS\r\n        this.intervalInCorso = null;\r\n        this.intervalRecenti = null;\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Homepage\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            campionati: [],\r\n            loaded: false,\r\n            societa: creaSocieta(), societa_ok: (this.societa != []),\r\n            incorso: [], incorso_load: false,\r\n            recenti: [], recenti_load: false,\r\n            future: [], future_load: false,\r\n            showCampionati: getCachedVisCamp(), showCampionati_modal: false,\r\n            showSocieta: getCachedVisSocieta(), showSocieta_modal: false,\r\n            erroreAttivazione: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Homepage - HockeyPista 2.0\";\r\n\r\n        // caricamento partite\r\n        CaricaPartite.Tutte(false, (array) => {\r\n            this.state.incorso = array.in_corso;\r\n            this.state.recenti = array.recenti;\r\n            this.state.future = array.future;\r\n            this.setState({ incorso_load: true, recenti_load: true, future_load: true });\r\n        }, () => { });\r\n\r\n        // caricamento dei campionati\r\n        let camps = CaricaCampionati.GetCached();\r\n        if (camps != null) this.SetCampionati(camps);\r\n        else {\r\n            CaricaCampionati.GetAll(false,\r\n                (c) => { this.SetCampionati(c); },\r\n                () => { this.setState({ erroreAttivazione: true }); }\r\n            );\r\n        }\r\n\r\n        // aggiornamenti automatici della home\r\n        this.intervalInCorso = setInterval(this.PartiteInCorso.bind(this), 40000);\r\n        this.intervalRecenti = setInterval(this.PartiteRecenti.bind(this), 120000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalInCorso);\r\n        clearInterval(this.intervalRecenti);\r\n    }\r\n\r\n    SetCampionati(camps) {\r\n        this.state.campionati = camps;\r\n        this.setState({ loaded: true });\r\n\r\n        if (this.state.societa_ok) {\r\n            this.state.societa = creaSocieta();\r\n            this.setState({ societa_ok: true });\r\n        }\r\n\r\n        if (localStorage.getItem(\"ns_first_time\") === null) {\r\n            this.state.campionati.forEach(camp => {\r\n                console.log(\"calling \" + camp.id);\r\n                CaricaCalendario.Campionato(camp.id, true, (a) => { console.log(\"loaded \" + camp.id) });\r\n            })\r\n            localStorage.setItem(\"ns_first_time\", \"nope\");\r\n        }\r\n    }\r\n\r\n    PartiteInCorso() {\r\n        console.log(\"Refreshing partite in corso\");\r\n        CaricaPartite.InCorso(true, (partite) => {\r\n            this.state.incorso = partite;\r\n            this.setState({ incorso_load: true });\r\n        }, () => { });\r\n    }\r\n\r\n    PartiteRecenti() {\r\n        console.log(\"Refreshing partite recenti\");\r\n        CaricaPartite.Recenti(true, (partite) => {\r\n            this.state.recenti = partite;\r\n            this.setState({ recenti_load: true });\r\n        }, () => { });\r\n    }\r\n\r\n    updateVisCampionato() {\r\n        this.state.showCampionati = getCachedVisCamp();\r\n        this.setState({ showCampionati_modal: false });\r\n    }\r\n\r\n    updateVisSocieta() {\r\n        this.state.showSocieta = getCachedVisSocieta();\r\n        this.setState({ showSocieta_modal: false });\r\n    }\r\n\r\n    render() {\r\n        // ordinamento delle partite recenti\r\n        let sortDate = (a, b, rev) => {\r\n            let sign = (rev ? -1 : 1);\r\n            if (a == b) return 0;\r\n            return (parseDate(a) > parseDate(b)) ? -1 * sign : 1 * sign;\r\n        }\r\n        let parseDate = (a) => {\r\n            let x = a.split('/');\r\n            let y = new Date().getFullYear();\r\n            return new Date(y, parseInt(x[1]), parseInt(x[0]));\r\n        }\r\n        let sortCamp = (a, b) => (translateCamp(a) < translateCamp(b)) ? -1 : 1;\r\n        let translateCamp = (a) => {\r\n            switch (a) {\r\n                case \"A1\": return 1;\r\n                case \"A2\": return 2;\r\n                case \"B\": return 3;\r\n                case \"FEMM\": return 4;\r\n                case \"U19\": return 5;\r\n                case \"U17\": return 6;\r\n                case \"U15\": return 7;\r\n                case \"U13\": return 8;\r\n                case \"U11\": return 9;\r\n                default: return 10;\r\n            }\r\n        }\r\n        return (\r\n            <>\r\n                <Navbar title=\"RISULTATI HOCKEY PISTA\" active={\"Home\"} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                {\r\n                                    (!this.state.incorso_load) ? <Loader /> :\r\n                                        (this.state.incorso.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in corso</i></p> :\r\n                                            this.state.incorso.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE RECENTI</h5>\r\n                                {\r\n                                    (!this.state.recenti_load) ? <Loader /> :\r\n                                        (this.state.recenti.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita recente</i></p> :\r\n                                            this.state.recenti.sort((a, b) => {\r\n                                                let x = sortDate(a.day, b.day, false);\r\n                                                return (x == 0) ? sortCamp(a.campAbbr, b.campAbbr) : x;\r\n                                            }).map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE IN PROGRAMMA</h5>\r\n                                {\r\n                                    (!this.state.future_load) ? <Loader /> :\r\n                                        (this.state.future.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in programma</i></p> :\r\n                                            this.state.future.sort((a, b) => {\r\n                                                let x = sortDate(a.day, b.day, true);\r\n                                                return (x == 0) ? sortCamp(a.campAbbr, b.campAbbr) : x;\r\n                                            }).map((e, i) => { e.idp = undefined; return <Partita key={i} {...e} /> })\r\n                                }\r\n                            </HomeCard>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <h5 className=\"card-title\">CAMPIONATI</h5>\r\n                                    <div>\r\n                                        <button className=\"btn btn-link link-title m-0\" onClick={() => { this.setState({ showCampionati_modal: true }); }}>\r\n                                            gestisci\r\n                                        </button>\r\n                                        <Link to=\"/campionati\" className=\"btn btn-link link-title m-0\">\r\n                                            espandi\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        (!this.state.loaded) ? <Loader /> : this.state.campionati.map((camp, i) => {\r\n                                            try {\r\n                                                if (this.state.showCampionati[camp.id].show) {\r\n                                                    return <CampElement key={i} {...camp} />\r\n                                                }\r\n                                            }\r\n                                            catch (e) {\r\n                                                return <CampElement key={i} {...camp} />\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n                                    <div>\r\n                                        <button className=\"btn btn-link link-title\" onClick={() => { this.setState({ showSocieta_modal: true }); }}>\r\n                                            gestisci\r\n                                        </button>\r\n                                        <Link to=\"/societa\" className=\"btn btn-link link-title\">\r\n                                            espandi\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {(this.state.societa_ok) ?\r\n                                        this.state.societa.map((s, i) => {\r\n                                            try {\r\n                                                if (this.state.showSocieta[s.id].show) {\r\n                                                    return <Societa key={i} {...s} />\r\n                                                }\r\n                                            }\r\n                                            catch (e) {\r\n                                                return <Societa key={i} {...s} />\r\n                                            }\r\n                                        }) : <Loader />}\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    (this.state.showCampionati_modal) ?\r\n                        <GestisciCampionati callback={() => this.updateVisCampionato()} camp={this.state.campionati} show={this.state.showCampionati} /> : null\r\n                }\r\n                {\r\n                    (this.state.showSocieta_modal) ?\r\n                        <GestisciSocieta callback={() => this.updateVisSocieta()} soc={this.state.societa} show={this.state.showSocieta} /> : null\r\n                }\r\n                {\r\n                    (this.state.erroreAttivazione) ?\r\n                        <ErroreAttivazione /> : null\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function ErrorePartita(props) {\r\n    return (\r\n        <div className=\"modal fade show\" tabIndex=\"-1\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\" style={{ marginTop: \"120px\" }}>\r\n                <div className=\"modal-content\">\r\n                    <div className=\"card card-body text-center\">\r\n                        <h1 className=\"m-0 text-danger\">\r\n                            <i className=\"fas fa-hourglass-start\"></i>\r\n                        </h1>\r\n                        <h4 className=\"mt-1\">Partita non iniziata</h4>\r\n                        <br />\r\n                        <button onClick={props.callBack} className=\"btn btn-primary\" style={{ width: \"100%\", maxWidth: \"200px\", margin: \"0 auto\" }}>\r\n                            indietro\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport function NewAzione() {\r\n    return {\r\n        period: \"\",\r\n        time: \"\",\r\n        team: {\r\n            name: \"\",\r\n            small: \"\",\r\n            logo: \"\"\r\n        },\r\n        action: \"\",         // fallo di squadra, gol blu, rosso, ammonizione, tiro diretto, tiro di rigore\r\n        action_supp: \"\",    // # fallo per falli, tabellone per gol\r\n        player: {\r\n            name: \"\",\r\n            number: 0,\r\n            id: 0\r\n        }\r\n    }\r\n}\r\n\r\nfunction createElement(type, title, badge, player, time, img) {\r\n    return (\r\n        <div className=\"action-elem action-elem-secondary\">\r\n            {(badge != null) ? (<span className=\"badge badge-secondary sora\">{badge}</span>) : \"\"}\r\n            <h5>{title}</h5>\r\n            {(player != null) ? (<p>{player}</p>) : \"\"}\r\n            <p style={{ fontSize: \"0.8em\" }}>{time}</p>\r\n            <img src={img} alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function Azione(elem) {\r\n    if (elem.action === \"fallo\") {\r\n        return createElement('warning', elem.action_supp + \" fallo di squadra\", null, null, elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"timeout\") {\r\n        return createElement('warning', \"Timeout\", null, null, elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"gol\") {\r\n        return createElement('success', \"Gol\", elem.action_supp, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"blu\") {\r\n        return createElement('primary', \"Cartellino blu\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"rosso\") {\r\n        return createElement('danger', \"Cartellino rosso\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"ammonizione\") {\r\n        return createElement('warning', \"Ammonizione verbale\", null, titleCase(elem.player.name) + \" (\" + elem.player.number + \")\", elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"diretto\") {\r\n        return createElement('primary', \"Tiro diretto\", null, \"Tiro di: \" + titleCase(elem.player.name), elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    else if (elem.action === \"rigore\") {\r\n        return createElement('primary', \"Tiro di rigore\", null, \"Tiro di: \" + titleCase(elem.player.name), elem.period + \" - \" + elem.time, elem.team.logo);\r\n    }\r\n    return null;\r\n}","import React from 'react'\r\n\r\nconst Arbitro = (props) => {\r\n    return (\r\n        <tr>\r\n            <td>{props.ruolo}</td>\r\n            <td>{props.nome}</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default function Abitri(props) {\r\n\r\n    let show12 = false, show2 = false, showa = false;\r\n\r\n    if (props.ref1 !== \"\" && props.ref2 === \"\") show12 = false;\r\n    if (props.ref1 !== \"\" && props.ref2 !== \"\") show12 = true;\r\n    if (props.ref2 !== \"\") show2 = true;\r\n    if (props.aus !== \"\") showa = true;\r\n\r\n    return (\r\n        <>\r\n            { (show12) ? <Arbitro ruolo=\"Arbitro 1\" nome={props.ref1} /> : <Arbitro ruolo=\"Arbitro\" nome={props.ref1} />}\r\n            { (show2) ? <Arbitro ruolo=\"Arbitro 2\" nome={props.ref2} /> : null}\r\n            { (showa) ? <Arbitro ruolo=\"Ausiliario\" nome={props.aus} /> : null}\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Arbitri from './Abitri'\r\n\r\nexport default function LeftPanel(props) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\" style={{ height: \"calc(100% - 10px)\" }}>\r\n                <div className=\"card-body text-center\">\r\n                    <div className=\"h-100 d-flex align-items-center\">\r\n                        <div className=\"w-100\">\r\n                            <h4>\r\n                                <Link to={\"/campionato/\" + props.campionato.idc} style={{ color: \"black\" }}>\r\n                                    {props.campionato.nome.replace(/ E /, ' e ')}\r\n                                </Link>\r\n                            </h4>\r\n                            <h6>\r\n                                {props.campionato.girone.replace(/ E /, ' e ')}\r\n                            </h6>\r\n                            <h5>\r\n                                {props.date.day} - {props.date.hour}\r\n                            </h5>\r\n                            <h6>\r\n                                {props.place}\r\n                            </h6>\r\n                            <hr />\r\n                            <table className=\"table m-0 tbl-referees\">\r\n                                <tbody>\r\n                                    <Arbitri {...props.referees} />\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Loader from './Loader'\r\n\r\nexport default function ModalLoader() {\r\n    return (\r\n        <div className=\"modal fade show\" tabIndex=\"-1\" role=\"dialog\" style={{ display: \"block\", backgroundColor: \"#4445\" }}>\r\n            <div className=\"modal-dialog\" style={{ marginTop: \"120px\" }}>\r\n                <div className=\"modal-content\">\r\n                    <Loader />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Scoreboard(props) {\r\n    return (\r\n        <div className=\"card\" style={{ height: \"calc(100% - 10px)\" }}>\r\n            <div className=\"card-body text-center\">\r\n                <div className=\"h-100 d-flex align-items-center\">\r\n                    <ScoreboardSmall {...props} />\r\n                    <ScoreboardLarge {...props} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ScoreboardSmall(props) {\r\n    return (\r\n        <div className=\"w-100 d-sm-none\">\r\n            <div className=\"row\">\r\n                <SquadraSmall style={{ paddingRight: \"5px\" }} team={props.teamA} />\r\n                <SquadraSmall style={{ paddingLeft: \"5px\" }} team={props.teamB} />\r\n            </div>\r\n            <br />\r\n            <div className=\"w-100\">\r\n                <h1 className=\"title-badge badge-success\">\r\n                    {props.goalsA + \" - \" + props.goalsB}\r\n                </h1>\r\n                <br />\r\n                <h5 className=\"title-badge badge-secondary mt-2\">\r\n                    {props.currentTime}\r\n                </h5> &nbsp;\r\n                {\r\n                    (props.currentTimestamp !== undefined && props.currentTimestamp !== \"\") ?\r\n                        <h5 className=\"title-badge badge-secondary mt-2\"> {props.currentTimestamp} </h5> : \"\"\r\n                }\r\n            </div>\r\n            <br />\r\n            <table className=\"w-100 mb-0\">\r\n                <tbody>\r\n                    <Falli {...props} />\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ScoreboardLarge(props) {\r\n    return (\r\n        <div className=\"d-none d-sm-block w-100\">\r\n            <table className=\"w-100\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td width=\"35%\">\r\n                            <SquadraLarge team={props.teamA} />\r\n                        </td>\r\n                        <td width=\"30%\">\r\n                            <h1 className=\"title-badge badge-success\">\r\n                                {props.goalsA + \" - \" + props.goalsB}\r\n                            </h1>\r\n                            <br />\r\n                            <h5 className=\"title-badge badge-secondary\" style={{ marginTop: \"10px\", fontWeight: \"400\" }}>\r\n                                {props.currentTime.replace(\"PENALTIS\", \"RIGORI\")}\r\n                            </h5>\r\n                            <br />\r\n                            {\r\n                                (props.currentTimestamp !== undefined && props.currentTimestamp !== \"\") ?\r\n                                    <h6 className=\"title-badge badge-secondary\" style={{ marginTop: \"10px\", fontWeight: \"400\" }}> {props.currentTimestamp} </h6> : \"\"\r\n                            }\r\n                        </td>\r\n                        <td width=\"35%\">\r\n                            <SquadraLarge team={props.teamB} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr height=\"20px\">\r\n                        <td></td>\r\n                    </tr>\r\n                    <Falli {...props} />\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SquadraSmall(props) {\r\n    return (\r\n        <div className=\"col col-6\" style={props.style}>\r\n            <img src={props.team.logo} alt={props.team.small} width=\"80px\" />\r\n            <Link style={{ color: \"black\" }} to={\"/squadra/\" + props.team.idt} >\r\n                <h3 className=\"SquadraName\">\r\n                    {props.team.nome}\r\n                </h3>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SquadraLarge(props) {\r\n    return (\r\n        <>\r\n            <img src={props.team.logo} alt={props.team.small} width=\"90px\" />\r\n            <Link style={{ color: \"black\" }} to={\"/squadra/\" + props.team.idt} >\r\n                <h3 className=\"SquadraName\">\r\n                    {props.team.nome}\r\n                </h3>\r\n            </Link>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Falli(props) {\r\n    return (\r\n        <tr>\r\n            <td width=\"35%\">\r\n                <h4 className=\"sora\"> {props.falliA} </h4>\r\n            </td>\r\n            <td width=\"30%\"> falli </td>\r\n            <td width=\"35%\">\r\n                <h4 className=\"sora\"> {props.falliB} </h4>\r\n            </td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Giocatori(props) {\r\n    return (\r\n        <table className=\"table table-striped table-bordered table-match\" width=\"100%\">\r\n            <thead className=\"thead-light\">\r\n                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                    <th className=\"col1\">N</th>\r\n                    <th className=\"col2\">R</th>\r\n                    <th className=\"col3\">5 I</th>\r\n                    <th className=\"col4\">Nome</th>\r\n                    <th className=\"col5\">Gol</th>\r\n                    <th className=\"col6\">\r\n                        <i className=\"fas fa-square\" style={{ color: \"blue\" }}></i>\r\n                    </th>\r\n                    <th className=\"col7\">\r\n                        <i className=\"fas fa-square\" style={{ color: \"red\" }}></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.giocatori.map((g, i) => <Giocatore key={i} {...g} />)}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Giocatore(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">{obj.num}</td>\r\n            <td className=\"col2\">\r\n                <span>{obj.ruolo}</span>\r\n            </td>\r\n            <td className=\"col3\">\r\n                {(obj.i5) ? <span className=\"fa fa fa-circle\" style={{ color: \"#18B\", fontSize: \"0.8em\" }} aria-hidden=\"true\"></span> : \"\"}\r\n            </td>\r\n            <td className=\"col4\">{obj.nome}</td>\r\n            <td className=\"col5\">{obj.gol}</td>\r\n            <td className=\"col6\">{obj.blu}</td>\r\n            <td className=\"col7\">{obj.rossi}</td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Tecnici(props) {\r\n    var order = (a) => {\r\n        switch (a) {\r\n            case \"E1\": { return 1; }\r\n            case \"E2\": { return 2; }\r\n            case \"D\": { return 3; }\r\n            case \"A\": { return 4; }\r\n            default: { return 5; }\r\n        }\r\n    }\r\n    var sortt = (a, b) => {\r\n        if (order(a.ruolo) > order(b.ruolo))\r\n            return 1;\r\n        else if (order(a.ruolo) < order(b.ruolo))\r\n            return -1;\r\n        else\r\n            return 0;\r\n    }\r\n\r\n    return (\r\n        <table className=\"table table-striped table-bordered table-match\" width=\"100%\">\r\n            <thead className=\"thead-light\">\r\n                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                    <th colSpan=\"7\">Ruoli tecnici</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.tecnici.sort(sortt).map((t, i) => <Tecnico key={i} {...t} />)}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Tecnico(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\"></td>\r\n            <td className=\"col2\">\r\n                <span>{obj.ruolo}</span>\r\n            </td>\r\n            <td className=\"col3\"> </td>\r\n            <td className=\"col4\" colSpan=\"2\">{obj.nome}</td>\r\n            <td className=\"col6\">{obj.blu}</td>\r\n            <td className=\"col7\">{obj.rossi}</td>\r\n        </tr>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Giocatori from './Giocatori'\r\nimport Tecnici from './Tecnici'\r\n\r\nexport default function Squadra(props) {\r\n\r\n    return (\r\n        <div className=\"col col-12 col-md-6\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header text-center\">\r\n                    <h5 className=\"card-title text-uppercase\">\r\n                        {props.nome}\r\n                    </h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <Giocatori giocatori={props.giocatori} />\r\n                    <br />\r\n                    <Tecnici tecnici={props.tecnici} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Evento(elem) {\r\n\r\n    // posizione\r\n    let minxtempo = parseInt(elem.minxtempo);\r\n    let time = elem.time.split(':');\r\n    let min = (elem.period === 'P1' || elem.period === 'P2') ? (minxtempo - parseInt(time[0]) - 1) + (elem.period === 'P2' ? minxtempo : 0) : minxtempo * 2;\r\n    let sec = (60 - parseInt(time[1]));\r\n    let poss = ((min * 60 + sec) / (minxtempo * 2 * 60)) * 100;\r\n    let pos = (elem.dir === \"vert\") ? { top: poss + \"%\" } : { left: poss + \"%\" };\r\n\r\n    if (elem.action === \"fallo\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row2\" pos={pos}>\r\n                <Fallo />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"timeout\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row5\" pos={pos}>\r\n                <Timeout />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"gol\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row1\" pos={pos}>\r\n                <Gol />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"blu\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Blu />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"rosso\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Rosso />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"ammonizione\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row3\" pos={pos}>\r\n                <Ammonizione />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"diretto\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row4\" pos={pos}>\r\n                <Diretto />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    else if (elem.action === \"rigore\") {\r\n        return (\r\n            <EventoBlock row=\"tl-row4\" pos={pos}>\r\n                <Rigore />\r\n            </EventoBlock>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nfunction EventoBlock(props) {\r\n    return (\r\n        <div className={\"tl-elem \" + props.row} style={props.pos}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Fallo() { return (<span className=\"fa fa-circle text-warning\"></span>) }\r\nfunction Timeout() { return (<span className=\"badge badge-secondary\">T</span>) }\r\nfunction Gol() { return (<span className=\"fa fa-circle text-success\"></span>) }\r\nfunction Blu() { return (<span className=\"fa fa-square\" style={{ color: \"blue\" }}></span>) }\r\nfunction Rosso() { return (<span className=\"fa fa-square\" style={{ color: \"red\" }}></span>) }\r\nfunction Ammonizione() { return (<span className=\"fa fa-square\" style={{ color: \"#FF8000\" }}></span>) }\r\nfunction Diretto() { return (<span className=\"badge badge-secondary\">D</span>) }\r\nfunction Rigore() { return (<span className=\"badge badge-secondary\">R</span>) }\r\n","import React from 'react'\r\n\r\nexport default function Labels(props) {\r\n\r\n    const arr = prepare(parseInt(props.tempo) * 2, props.dir);\r\n    return (\r\n        <>\r\n            {arr.map((a, i) => <Label key={i} {...a} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction prepare(totalMin, dir) {\r\n    let a = [];\r\n    let i = 0;\r\n    while (i <= totalMin) {\r\n        let pos = \"\" + i / totalMin * 100 + \"%\";\r\n        a.push({\r\n            style: (dir === \"vert\") ? { top: pos } : { left: pos },\r\n            label: i\r\n        });\r\n        i += 5;\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction Label(props) {\r\n    return (\r\n        <div className=\"tl-label\" style={props.style}>{props.label}</div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Evento from './Evento';\r\nimport Labels from './Labels';\r\nimport './timeline.css'\r\n\r\nexport default function TimelineOrizz(props) {\r\n\r\n    const tempo = props.campionato.tempo;\r\n    const teamA = props.teamA;\r\n    const teamB = props.teamB;\r\n    let actions = props.actions;\r\n    const actionsA = actions.filter(a => a.team.logo === teamA.logo);\r\n    const actionsB = actions.filter(a => a.team.logo === teamB.logo);\r\n\r\n    try {\r\n        teamA.small = actionsA[0].team.small;\r\n        teamB.small = actionsB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row d-none d-md-block\">\r\n                <div className=\"col col-12\">\r\n                    <div className=\"card\" style={{ paddingRight: \"1em\" }}>\r\n                        <div className=\"card-body\">\r\n                            <table className=\"timeline-oriz\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td className=\"head\">\r\n                                            <img src={teamA.logo} alt={teamA.small} style={{ width: \"30px\" }} />\r\n                                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamA.small}</h6>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-cont tl-top\">\r\n                                                {actionsA.map((a, i) => <Evento key={i} {...a} dir=\"oriz\" minxtempo={tempo} />)}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td></td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-sep\" id=\"timeline-oriz-sep\">\r\n                                                <hr />\r\n                                                <Labels tempo={tempo} dir=\"oriz\" />\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td className=\"head\">\r\n                                            <img src={teamB.logo} alt={teamB.small} style={{ width: \"30px\" }} />\r\n                                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamB.small}</h6>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"tl-oriz-cont tl-bottom\">\r\n                                                {actionsB.map((a, i) => <Evento key={i} {...a} dir=\"oriz\" minxtempo={tempo} />)}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Evento from './Evento';\r\nimport Labels from './Labels';\r\nimport './timeline.css'\r\n\r\nexport default function TimelineVert(props) {\r\n\r\n    const tempo = props.campionato.tempo;\r\n    const teamA = props.teamA;\r\n    const teamB = props.teamB;\r\n    let actions = props.actions;\r\n    const actionsA = actions.filter(a => a.team.logo === teamA.logo);\r\n    const actionsB = actions.filter(a => a.team.logo === teamB.logo);\r\n\r\n    try {\r\n        teamA.small = actionsA[0].team.small;\r\n        teamB.small = actionsB[0].team.small;\r\n    } catch (e) { }\r\n\r\n    return (\r\n        <div className=\"card card-body d-block d-md-none\" style={{ height: \"95vh\", paddingBottom: \"30px\" }}>\r\n            <table className=\"timeline-vert\">\r\n                <tbody>\r\n                    <tr className=\"head\">\r\n                        <td>\r\n                            <img src={teamA.logo} alt={teamA.small} style={{ width: \"30px\" }} />\r\n                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamA.small}</h6>\r\n                        </td>\r\n                        <td style={{ width: \"40px\" }}></td>\r\n                        <td>\r\n                            <img src={teamB.logo} alt={teamB.small} style={{ width: \"30px\" }} />\r\n                            <h6 style={{ margin: \"5px 0 0 0\" }}>{teamB.small}</h6>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div className=\"tl-vert-cont tl-left\" id=\"timeline-vert-A\">\r\n                                {actionsA.map((a, i) => <Evento key={i} {...a} dir=\"vert\" minxtempo={tempo} />)}\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <div className=\"tl-vert-sep\" id=\"timeline-vert-sep\">\r\n                                <div className=\"tl-line\"></div>\r\n                                <Labels tempo={tempo} dir=\"vert\" />\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <div className=\"tl-vert-cont tl-right\" id=\"timeline-vert-B\">\r\n                                {actionsB.map((a, i) => <Evento key={i} {...a} dir=\"vert\" minxtempo={tempo} />)}\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n","import { Callbacks } from 'jquery'\r\nimport React from 'react'\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport default function Rigori(props) {\r\n    return (\r\n        <>\r\n            <div className=\"card w-100\">\r\n                <div className=\"card-body text-center\">\r\n                    <h5 className=\"card-title mb-1\">Rigori</h5>\r\n                    <div className=\"d-block d-md-none\">\r\n                        <RigoriSmall {...props} />\r\n                    </div>\r\n                    <div className=\"d-none d-md-block\">\r\n                        <RigoriBig {...props} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction RigoriBig(props) {\r\n    return (\r\n        <>\r\n            <div className=\"d-flex align-items-center w-100 m-0\">\r\n                <table className=\"w-50 m-0\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td style={{ width: \"60px\" }}>\r\n                                <img src={props.teamA.logo} alt={props.teamA.small} style={{ width: \"30px\" }} />\r\n                                <h6 style={{ margin: \"5px 0 0 0\" }}>{props.teamA.small}</h6>\r\n                            </td>\r\n                            <td>\r\n                                <table className=\"table table-bordered table-match mb-0\" style={{ borderBottom: \"1px solid #ddd\" }}>\r\n                                    <tbody>\r\n                                        {props.rigoriA.map((e, i) => <RigoristaA {...e} key={i} />)}\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <table className=\"w-50\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <table className=\"table table-bordered table-match mb-0\" style={{ borderBottom: \"1px solid #ddd\" }}>\r\n                                    <tbody>\r\n                                        {props.rigoriB.map((e, i) => <RigoristaB {...e} key={i} />)}\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                            <td style={{ width: \"60px\" }}>\r\n                                <img src={props.teamB.logo} alt={props.teamB.small} style={{ width: \"30px\" }} />\r\n                                <h6 style={{ margin: \"5px 0 0 0\" }}>{props.teamB.small}</h6>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction RigoriSmall(props) {\r\n    return (\r\n        <table className=\"w-100\">\r\n            <tbody>\r\n                <tr>\r\n                    <td>\r\n                        <img src={props.teamA.logo} alt={props.teamA.small} style={{ width: \"30px\" }} />\r\n                        <h6 style={{ margin: \"5px 0 0 0\" }}>{props.teamA.small}</h6>\r\n                    </td>\r\n                    <td>\r\n                        <img src={props.teamB.logo} alt={props.teamB.small} style={{ width: \"30px\" }} />\r\n                        <h6 style={{ margin: \"5px 0 0 0\" }}>{props.teamB.small}</h6>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td className=\"w-50\">\r\n                        <table className=\"table table-bordered table-match mb-0 w-100\" style={{ borderBottom: \"1px solid #ddd\" }}>\r\n                            <tbody>\r\n                                {props.rigoriA.map((e, i) => <RigoristaA {...e} key={i} />)}\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                    <td className=\"w-50\">\r\n                        <table className=\"table table-bordered table-match mb-0 w-100\" style={{ borderBottom: \"1px solid #ddd\" }}>\r\n                            <tbody>\r\n                                {props.rigoriB.map((e, i) => <RigoristaB {...e} key={i} />)}\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction RigoristaA(props) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">{props.num}</td>\r\n            <td>{titleCase(props.gioc)}</td>\r\n            <td className=\"col6\"><i className=\"fas fa-square\" style={{ color: \"#ccc\" }}></i></td>\r\n        </tr>\r\n    )\r\n}\r\nfunction RigoristaB(props) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col6\"><i className=\"fas fa-square\" style={{ color: \"#ccc\" }}></i></td>\r\n            <td>{titleCase(props.gioc)}</td>\r\n            <td className=\"col1\">{props.num}</td>\r\n        </tr>\r\n    )\r\n}","import React, { Component } from 'react'\r\n\r\nimport '../Components/Partita/TabellaSquadre/match.css'\r\nimport ProvaPartita from '../Components/Partita/ProvaPartita'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\nimport { CaricaPartita } from '../Middleware/MwPartita'\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport ErrorePartita from '../Components/Modals/ErrorePartita'\r\n\r\nimport Azione from '../Components/Partita/Azione'\r\nimport LeftPanel from '../Components/Partita/LeftPanel'\r\nimport ModalLoader from '../Components/Varie/ModalLoader'\r\nimport Scoreboard from '../Components/Partita/Scoreboard'\r\nimport Squadra from '../Components/Partita/TabellaSquadre/Squadra'\r\nimport TimelineOrizz from '../Components/Partita/Timeline/TimelineOrizz'\r\nimport TimelineVert from '../Components/Partita/Timeline/TimelineVert'\r\nimport Rigori from '../Components/Partita/Rigori'\r\n\r\nexport default class Partita extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_partita = props.match.params.id;\r\n\r\n        // CACHED THINGS\r\n        let obj = CaricaPartita.GetTitolo(this.id_partita);\r\n        this.title = (obj !== null) ? obj.titolo : \"Dettagli partita\";\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n        this.intervalID = null;\r\n        this.reloaded = false;\r\n        if ((window.performance) && (performance.navigation.type == 1)) {\r\n            this.reloaded = true;\r\n        }\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Partita \" + this.id_partita;\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            partita: ProvaPartita(),\r\n            loaded: false,\r\n            error: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        this.CaricaDati();\r\n        this.intervalID = setInterval(this.CaricaDati.bind(this), 20000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalID);\r\n    }\r\n\r\n    getTitle() {\r\n        return (this.title !== null) ? this.title : \"\" + this.state.partita.campionato.abbr + \": \" + this.state.partita.teamA.small + \" vs \" + this.state.partita.teamB.small;\r\n    }\r\n\r\n    CaricaDati() {\r\n        CaricaPartita.Partita(this.id_partita, this.reloaded, (partita) => {\r\n            if (partita.currentTime === \"FINALE\") clearInterval(this.intervalID);\r\n            this.setState({\r\n                partita: partita,\r\n                loaded: true\r\n            });\r\n            document.title = this.getTitle() + \" - HockeyPista 2.0\";\r\n        }, () => {\r\n            this.setState({\r\n                loaded: true,\r\n                error: true\r\n            });\r\n            console.log(\"partita non iniziata\");\r\n            document.title = \"Partita non trovata - HockeyPista 2.0\";\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(this.state.loaded) ? null : <ModalLoader />}\r\n                {(!this.state.error) ? null : <ErrorePartita callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar titleFun={() => this.getTitle()} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-9\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12 col-xl-3 col-lg-4 col-md-12 order-2 order-lg-1\">\r\n                                    <LeftPanel {...this.state.partita} />\r\n                                </div>\r\n                                <div className=\"col col-12 col-xl-9 col-lg-8 col-md-12 order-1 order-lg-2\">\r\n                                    <Scoreboard {...this.state.partita} />\r\n                                </div>\r\n                            </div>\r\n                            {(this.state.partita.rigori) ?\r\n                                <div className=\"row\"><Rigori {...this.state.partita} /></div> :\r\n                                <></>}\r\n                            <div className=\"row d-none d-md-block\">\r\n                                <TimelineOrizz {...this.state.partita} />\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <Squadra {...this.state.partita.teamA} />\r\n                                <Squadra {...this.state.partita.teamB} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-3\">\r\n                            <div className=\"row justify-content-md-center\">\r\n                                <div className=\"col col-12 col-sm-6 col-lg-12 order-2 order-md-1 \">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-body actions-div\">\r\n                                            {this.state.partita.actions.map((a, i) => <Azione key={i} {...a} minxtempo={this.state.partita.campionato.tempo} />)}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12 col-sm-6 col-lg-12 order-1 order-md-2 d-md-none\">\r\n                                    <TimelineVert {...this.state.partita} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","export default function ProvaPartita() {\r\n    return {\r\n        actions: [],\r\n        campionato: {\r\n            idc: 0,\r\n            abbr: \"\",\r\n            girone: \"---\",\r\n            nome: \"Campionato\",\r\n            tempo: 0\r\n        },\r\n        currentTime: \"-----\",\r\n        date: { day: \"01/01/2000\", hour: \"00:00\" },\r\n        idp: 0,\r\n        place: \"---\",\r\n        playing: false,\r\n        falliA: 0,\r\n        falliB: 0,\r\n        goalsA: 0,\r\n        goalsB: 0,\r\n        referees: {\r\n            aus: \"\",\r\n            ref1: \"\",\r\n            ref2: \"\"\r\n        },\r\n        teamA: {\r\n            idt: 0,\r\n            logo: \"https://via.placeholder.com/80x80.png?text=A\",\r\n            nome: \"A\",\r\n            small: \"A\",\r\n            giocatori: [],\r\n            tecnici: []\r\n        },\r\n        teamB: {\r\n            idt: 0,\r\n            logo: \"https://via.placeholder.com/80x80.png?text=B\",\r\n            nome: \"B\",\r\n            small: \"B\",\r\n            giocatori: [],\r\n            tecnici: []\r\n        }\r\n    }\r\n}","import $ from 'jquery';\r\nimport { polishString, extractProp, parseIsleTag, parseCompleteTag, titleCase, removeTags, prepareURLforProxy } from './commons'\r\n\r\nfunction GIOCATORE() {\r\n    return { idpl: 0, nome: \"\", idgc: \"\", naz: \"\", presenze: 0, gol: 0, assist: 0, rigori: \"\", diretti: \"\", blu: 0, rossi: 0 }\r\n}\r\n\r\nfunction TECNICO() { return { nome: \"\", naz: \"\" }; }\r\n\r\nexport default function ApiSquadra(idt, idc, then) {\r\n    $(\"body\").append(\"<div id='retrieveSquadra' style='display: none'></div>\");\r\n    $('#retrieveSquadra').load(prepareURLforProxy(\"fisr_stats_1_\" + idc + \".php\"), {\r\n        idc: idc,\r\n        idq: idt,\r\n        filter: 3,\r\n        tipo_stats: \"plantillas\"\r\n    }, (data) => {\r\n\r\n        data = polishString(data);\r\n\r\n        let firstTable = data.substr(0, data.indexOf(\"</table>\") + 8);\r\n        let secondTable = data.replace(firstTable, \"\");\r\n\r\n        firstTable = firstTable.replace('<table', '<table id=\"tbl-sq-gioc-xxx\"');\r\n        secondTable = secondTable.replace('<table', '<table id=\"tbl-sq-tecn-xxx\"');\r\n\r\n        let rem = firstTable.substr(firstTable.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        firstTable = firstTable.replace(rem, \"\");\r\n\r\n        rem = secondTable.substr(secondTable.indexOf(\"<thead\"));\r\n        rem = rem.substr(0, rem.indexOf(\"</thead>\") + 8);\r\n        secondTable = secondTable.replace(rem, \"\");\r\n\r\n        $('#retrieveSquadra').html(firstTable + \" \" + secondTable);\r\n\r\n        let giocatori = parseTableGiocatori($(\"#tbl-sq-gioc-xxx\"), idt);\r\n        let tecnici = parseTableTecnici($(\"#tbl-sq-tecn-xxx\"), idt);\r\n\r\n        $(\"#retrieveSquadra\").remove();\r\n\r\n        then({ giocatori: giocatori, tecnici: tecnici });\r\n    });\r\n}\r\n\r\nfunction parseTableGiocatori(table, id_team) {\r\n    var rows = table.find(\"tbody tr\");\r\n    var giocatori = [];\r\n\r\n    let parseWdef = (str, def) => { if (str === \"\") return def; return parseInt(str); }\r\n    let setWdef = (str, def) => { if (str === \"\") return def; return str; }\r\n\r\n    $.each(rows, i => {\r\n        let cells = $(rows[i]).find(\"td\");\r\n        let gioc = new GIOCATORE();\r\n\r\n        gioc.naz = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        let tag = parseCompleteTag($(cells[4]).html());\r\n        let this_sq = extractProp(tag, \"team_id\").replace('\"', \"\");\r\n        gioc.idpl = extractProp(tag, \"id_player\");\r\n        gioc.nome = titleCase(extractProp(tag, \"player_name\").replace(',', ''));\r\n        gioc.gol = parseWdef($(cells[5]).html(), 0);\r\n        gioc.presenze = parseWdef($(cells[6]).html(), 0);\r\n        gioc.assist = parseWdef($(cells[8]).html(), 0);\r\n        gioc.rigori = setWdef($(cells[10]).html(), \"0/0\");\r\n        gioc.diretti = setWdef($(cells[12]).html(), \"0/0\");\r\n        gioc.blu = parseWdef($(cells[14]).html(), 0);\r\n        gioc.rossi = parseWdef($(cells[16]).html(), 0);\r\n\r\n        if (this_sq === id_team) { giocatori.push(gioc); }\r\n    });\r\n\r\n    return giocatori;\r\n}\r\n\r\nfunction parseTableTecnici(table, id_team) {\r\n    var rows = table.find(\"tbody tr\");\r\n    var tecnici = [];\r\n\r\n    $.each(rows, i => {\r\n        let cells = $(rows[i]).find(\"td\");\r\n        let tecn = new TECNICO();\r\n\r\n        tecn.naz = extractProp(parseIsleTag($(cells[3]).html()), \"src\");\r\n        tecn.nome = titleCase(removeTags($(cells[4]).html(), \"span\", true, false));\r\n\r\n        let this_sq = $(rows[i]).attr(\"class\").replace(\" fila_stats_player\", \"\").replace(\"teamid_\", \"\");\r\n\r\n        if (this_sq === id_team) { tecnici.push(tecn); }\r\n    });\r\n\r\n    return tecnici;\r\n}","import ApiSquadra from \"../API/ApiSquadra\";\r\nimport GeneralCache from \"../Data structures/GeneralCache\";\r\nimport TemporalCache from \"../Data structures/TemporalCache\";\r\n\r\nconst cache_name = \"c_squadra\";\r\nconst cache_expiry = 3600;\r\n\r\nconst cache_gioc = \"f_giocatori\";\r\n\r\nexport class CaricaSquadra {\r\n    static Squadra(idt, idc, forceRefresh, then) {\r\n        let cache_id = parseInt(\"\" + idc + \"\" + idt);\r\n        let cache = TemporalCache.Restore(cache_name, cache_expiry);\r\n        let cached_elem = cache.get(cache_id);\r\n\r\n        if (!forceRefresh && cached_elem != null) {\r\n            then(cached_elem);\r\n        }\r\n        else {\r\n            ApiSquadra(idt, idc, (obj) => {\r\n                cache.insert(cache_id, obj);\r\n                cache.save(cache_name);\r\n\r\n                // cache giocatori\r\n                let gioc = GeneralCache.Restore(cache_gioc);\r\n                obj.giocatori.map(g => { gioc.insert(g.idpl, { id: g.idpl, nome: g.nome }) });\r\n                gioc.save(cache_gioc);\r\n                then(obj);\r\n            });\r\n        }\r\n    }\r\n\r\n    static Giocatore(idpl) {\r\n        return GeneralCache.GetFrom(cache_gioc, idpl);\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport default function Campionato(props) {\r\n    console.log(props);\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-header\">\r\n                <h5 className=\"card-title\">CAMPIONATO</h5>\r\n            </div>\r\n            <div className=\"card-body text-center\">\r\n                <img src={props.logo} style={{ width: \"50%\", maxWidth: \"120px\" }} alt={props.abbr} />\r\n                <div style={{ height: \"66px\", marginTop: \"10px\" }} className=\"d-flex align-items-center justify-content-center\">\r\n                    <Link className=\"pb-0\" to={\"/campionato/\" + props.id} style={{ color: \"black\" }}>\r\n                        <h3>{titleCase(props.name).replace(' E ', ' e ')}</h3>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { titleCase } from '../../API/commons'\r\n\r\nexport default function Campionato(props) {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-header\">\r\n                <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n            </div>\r\n            <div className=\"card-body text-center\">\r\n                <img src={props.logo} style={{ width: \"50%\", maxWidth: \"120px\" }} alt={props.small} />\r\n                <div style={{ height: \"66px\", marginTop: \"10px\" }} className=\"d-flex align-items-center justify-content-center\">\r\n                    <Link className=\"pb-0\" to={\"/societa/\" + props.id} style={{ color: \"black\" }}>\r\n                        <h3>{titleCase(props.nome)}</h3>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { getCachedSquadra } from '../../Cache/CacheSquadra';\r\nimport { CaricaClassifica } from '../../Middleware/MwClassifica';\r\nimport Loader from '../Varie/Loader';\r\n\r\nexport default class ClassificaSquadra extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_team = props.team;\r\n        this.id_camp = props.camp;\r\n        this.nome = getCachedSquadra(this.id_team).nome;\r\n        this.abbr = getCachedSquadra(this.id_team).abbr;\r\n\r\n        this.state = {\r\n            classifica: {},\r\n            loaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        CaricaClassifica.Squadra(this.id_camp, this.abbr, false, (clas) => {\r\n            this.setState({\r\n                classifica: clas,\r\n                loaded: true\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h5 className=\"card-title\">CLASSIFICA</h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    {(this.state.loaded) ? <ActualClassifica {...this.state.classifica} /> : <Loader />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction ActualClassifica(clas) {\r\n    return (\r\n        <div className=\"text-center\">\r\n            <h1 className=\"m-0\">{clas.pos}<sup>o</sup></h1>\r\n            <h3>POSTO</h3>\r\n            <p style={{ fontSize: \"1.4em\" }}><strong>{clas.punti}</strong> {clas.punti == 1 ? \"punto\" : \"punti\"}</p>\r\n            <div className=\"row text-center m-0\" style={{ fontSize: \"0.8em\" }}>\r\n                <div className=\"col\"> <strong>GTE </strong> {clas.gte} </div>\r\n                <div className=\"col\"> <strong>VTE </strong> {clas.vte} </div>\r\n                <div className=\"col\"> <strong>PTE </strong> {clas.pte} </div>\r\n                <div className=\"col\"> <strong>PSE </strong> {clas.pse} </div>\r\n                <div className=\"w-100\"></div>\r\n                <div className=\"col\"> <strong>RFT </strong> {clas.rft} </div>\r\n                <div className=\"col\"> <strong>RST </strong> {clas.pos} </div>\r\n                <div className=\"col\"> <strong>DIFF</strong> {clas.diff} </div>\r\n                <div className=\"col\"> <strong>PEN </strong> {clas.pen} </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { CaricaMarcatori } from '../../Middleware/MwMarcatori';\r\nimport Loader from '../Varie/Loader';\r\nimport { Marcatore } from './Marcatore';\r\n\r\nexport default class MarcatoriSquadra extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.id_team = props.team;\r\n        this.id_camp = props.camp;\r\n\r\n        this.state = {\r\n            marcatori: [],\r\n            loaded: false,\r\n            showing: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        CaricaMarcatori.Squadra(this.id_camp, this.id_team, false, (lista) => {\r\n            this.state.marcatori = lista;\r\n            this.setState({ loaded: true });\r\n        });\r\n    }\r\n\r\n    dettagli = (id) => {\r\n        let showing = this.state.showing;\r\n        if (id === showing)\r\n            this.setState({ showing: -1 });\r\n        else\r\n            this.setState({ showing: id });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <h5 className=\"card-title\">MARCATORI</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                        {\r\n                            (!this.state.loaded) ? <Loader /> : (this.state.marcatori.map((marc, i) =>\r\n                                <Marcatore key={i} {...marc} show={(marc.pos === this.state.showing)} callback={() => this.dettagli(marc.pos)} />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function SquadraBox(props) {\r\n    return (\r\n        <div>\r\n            <div className=\"row m-0\">\r\n                <div className=\"col col-sm-12 col-md-9 col-lg-12 col-xl-8\">\r\n                    <div style={{ width: \"100%\", overflow: \"auto\" }}>\r\n                        <table className=\"table table-striped table-bordered table-squadra\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr style={{ borderBottom: \"2px solid #BBB\" }}>\r\n                                    <th className=\"col1\"></th>\r\n                                    <th className=\"col2\">Nome</th>\r\n                                    <th className=\"col3\">Gte</th>\r\n                                    <th className=\"col4\">Gol</th>\r\n                                    <th className=\"col4\">Ass</th>\r\n                                    <th className=\"col5\">Rig</th>\r\n                                    <th className=\"col6\">Dir</th>\r\n                                    <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"blue\" }}></i></th>\r\n                                    <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"red\" }}></i></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {props.giocatori.map((g, i) => <Giocatore {...g} key={i} />)}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className=\"col col-sm-12 col-md-3 col-lg-12 col-xl-4 p-0 pt-3 pt-md-0 pl-md-2 pl-lg-0 pt-lg-3 pl-xl-3 pt-xl-0\">\r\n                    <table className=\"table table-striped table-bordered table-squadra\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th className=\"col1\"></th>\r\n                                <th className=\"col2\">Ruoli tecnici</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {props.tecnici.map((g, i) => <Tecnico {...g} key={i} />)}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Giocatore(obj) {\r\n    let f = (str, nv) => {\r\n        if (str == nv)\r\n            return (<span className=\"nv\"> {str}</span>);\r\n        return str;\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">\r\n                <img src={obj.naz} alt=\"\" />\r\n            </td>\r\n            <td className=\"col2\">\r\n                <Link to={\"/giocatore/\" + obj.idpl} className=\"link-black\">\r\n                    {obj.nome}\r\n                </Link>\r\n            </td>\r\n            <td className=\"col3\">{f(obj.presenze, \"0\")}</td>\r\n            <td className=\"col4\">{f(obj.gol, \"0\")}</td>\r\n            <td className=\"col5\">{f(obj.assist, \"0\")}</td>\r\n            <td className=\"col6\">{f(obj.rigori, \"0/0\")}</td>\r\n            <td className=\"col7\">{f(obj.diretti, \"0/0\")}</td>\r\n            <td className=\"col7\">{f(obj.blu, \"0\")}</td>\r\n            <td className=\"col7\">{f(obj.rossi, \"0\")}</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nfunction Tecnico(obj) {\r\n    return (\r\n        <tr>\r\n            <td className=\"col1\">\r\n                <img src={obj.naz} alt=\"\" />\r\n            </td>\r\n            <td className=\"col2\">{obj.nome}</td>\r\n        </tr>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport '../Components/Squadra/squadra.css'\r\n\r\nimport { titleCase } from '../API/commons';\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport { CaricaCalendario } from '../Middleware/MwCalendario';\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\nimport { CaricaPartite } from '../Middleware/MwInCorso';\r\nimport { CaricaSquadra } from '../Middleware/MwSquadra';\r\n\r\nimport { getCachedSquadra } from '../Cache/CacheSquadra';\r\nimport { getSocietaByIDT } from '../Cache/CacheSocieta';\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport Loader from '../Components/Varie/Loader'\r\nimport ErroreNotFound from '../Components/Modals/ErroreNotFound';\r\n\r\nimport PartiteBox from '../Components/Calendario/PartiteBox';\r\nimport Campionato from '../Components/Squadra/Campionato'\r\nimport Societa from '../Components/Squadra/Societa';\r\nimport ClassificaSquadra from '../Components/Classifica/ClassificaSquadra';\r\nimport MarcatoriSquadra from '../Components/Marcatori/MarcatoriSquadra';\r\nimport SquadraBox from '../Components/Squadra/SquadraBox';\r\nimport Partita from '../Components/Calendario/Partita';\r\n\r\nexport default class Squadra extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_team = props.match.params.id;\r\n\r\n        // CACHED THINGS\r\n        this.cached_team = getCachedSquadra(this.id_team);\r\n        console.log(this.cached_team);\r\n        this.title = \"Squadra\";\r\n        this.error = (this.cached_team === null);\r\n        this.reloaded = false;\r\n        if ((window.performance) && (performance.navigation.type == 1)) {\r\n            this.reloaded = true;\r\n        }\r\n        if (!this.error) {\r\n            // campionato\r\n            this.id_camp = this.cached_team.camp[0];\r\n            this.cached_camp = CaricaCampionati.GetByID(this.id_camp);\r\n            console.log(this.cached_camp);\r\n\r\n            // societ\r\n            this.societa = getSocietaByIDT(this.id_team);\r\n\r\n            // titolo\r\n            this.title = this.cached_camp.abbr + \": \" + this.cached_team.nome;\r\n        }\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = this.title;\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            title: \"Risultati hockey pista\",\r\n            calendario: { partite: [] },\r\n            giocatori: [],\r\n            tecnici: [],\r\n            squadra_loaded: false,\r\n            calend_loaded: false,\r\n            incorso: [],\r\n            incorso_load: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = titleCase(this.title) + \" - HockeyPista 2.0\";\r\n\r\n        if (!this.error) {\r\n            CaricaCalendario.Squadra(this.id_camp, this.id_team, this.reloaded, (cal) => {\r\n                cal.forEach(g => {\r\n                    this.state.calendario.partite.push(g);\r\n                });\r\n                this.setState({\r\n                    calend_loaded: true\r\n                });\r\n            });\r\n\r\n            CaricaSquadra.Squadra(this.id_team, this.id_camp, false, (obj) => {\r\n                this.setState({\r\n                    giocatori: obj.giocatori,\r\n                    tecnici: obj.tecnici,\r\n                    squadra_loaded: true\r\n                })\r\n            });\r\n\r\n            CaricaPartite.OraSquadra(this.id_camp, true, (partite) => {\r\n                //console.log(partite);\r\n                this.state.incorso = partite;\r\n                this.setState({ incorso_load: true });\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(!this.error) ? null : <ErroreNotFound title=\"Squadra non trovata\" callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar title={this.title} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-7 col-xl-8 order-2 order-lg-1\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">SQUADRA</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            {(this.state.squadra_loaded) ? <SquadraBox {...this.state} /> : <Loader />}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className={\"card \" + ((this.state.incorso_load && this.state.incorso.length !== 0) ? \"\" : \"d-none\")} >\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">PARTITE IN CORSO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div>\r\n                                                {this.state.incorso.map((e, i) => <Partita key={i} {...e} />)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h5 className=\"card-title\">CALENDARIO</h5>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"scrollbox\" style={{ maxHeight: \"70vh\" }} >\r\n                                                {(this.state.calend_loaded) ? <PartiteBox giornata={this.state.calendario} /> : <Loader />}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-5 col-xl-4 order-1 order-lg-2\">\r\n                            {\r\n                                (this.error) ? null :\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col col-12\">\r\n                                            <ClassificaSquadra team={this.id_team} camp={this.id_camp} />\r\n                                        </div>\r\n                                        <div className=\"col col-12 col-md-6 col-lg-12 col-xl-6\">\r\n                                            <Societa {...this.societa} />\r\n                                        </div>\r\n                                        <div className=\"col col-12 col-md-6 col-lg-12 col-xl-6\">\r\n                                            <Campionato {...this.cached_camp} />\r\n                                        </div>\r\n                                        <div className=\"col col-12\">\r\n                                            <MarcatoriSquadra team={this.id_team} camp={this.id_camp} />\r\n                                        </div>\r\n                                    </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport { creaSocieta } from '../Cache/CacheSocieta';\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\n\r\nexport default class SocietaAll extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n\r\n        // COMPONENT PARAMS\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Societ\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Societ - HockeyPista 2.0\";\r\n    }\r\n\r\n    render() {\r\n        const societa = creaSocieta();\r\n        return (\r\n            <>\r\n                <Navbar title=\"Societ hockey pista\" active=\"Societ\" />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        {societa.map((s, i) => <SocietaBlock {...s} key={i} />)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction SocietaBlock(props) {\r\n\r\n    const colStyle = {\r\n        padding: \"10px\"\r\n    }\r\n\r\n    const cardStyle = {\r\n        borderRadius: \"10px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        margin: 0,\r\n        cursor: \"pointer\"\r\n    }\r\n\r\n    const logoStyle = {\r\n        margin: \"0 auto\",\r\n        textAlign: \"center\",\r\n        width: \"50%\",\r\n        maxWidth: \"120px\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-lg-3 col-md-6 col-sm-12 p-2\" style={colStyle}>\r\n            <div className=\"card highlight\" style={cardStyle} >\r\n                <Link className=\"link-unstyled\" to={\"/societa/\" + props.id} query={{ nome: props.nome }}>\r\n                    <div className=\"card-body text-center\">\r\n                        <img src={props.logo} style={logoStyle} alt={props.nome} />\r\n                        <h5 className=\"card-title text-center mt-3\"> {props.nome} </h5>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { CaricaClassifica } from '../../Middleware/MwClassifica';\r\n\r\nexport default class ClassificaSocieta extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        this.state = {\r\n            squadre: props.squadre,\r\n            classifiche: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.squadre.forEach(sq => {\r\n            CaricaClassifica.Squadra(sq.camp, sq.abbr, false, (obj) => {\r\n                obj = (obj === undefined) ? { pos: \"?\", punti: \"?\" } : obj;\r\n                this.setState((prevState) => {\r\n                    return { classifiche: prevState.classifiche.concat({ ...obj, ...sq }).sort((a, b) => (a.camp > b.camp) ? 1 : -1) };\r\n                })\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.classifiche.map((c, i) => <ClassificaElem {...c} key={i} />)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction ClassificaElem(props) {\r\n    return (\r\n        <div className=\"card card-body highlight cls-card\">\r\n            <Link to={\"/squadra/\" + props.id} className=\"link-unstyled\">\r\n                <table className=\"w-100\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className=\"cls-col1\">{props.camp_abb}</td>\r\n                            <td className=\"cls-col2\">{props.nome}</td>\r\n                            <td className=\"cls-col3\">\r\n                                <b>{props.pos} <sup>o</sup></b>\r\n                            </td>\r\n                            <td className=\"cls-col4 text-right\">\r\n                                <b>{props.punti}</b> pti\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport { CaricaPartite } from '../Middleware/MwInCorso';\r\n\r\nimport { getSocieta } from '../Cache/CacheSocieta'\r\n\r\nimport Navbar from '../Components/Varie/Navbar';\r\nimport Loader from '../Components/Varie/Loader';\r\nimport ClassificaSocieta from '../Components/Classifica/ClassificaSocieta';\r\nimport Partita from '../Components/Calendario/Partita';\r\nimport ErroreNotFound from '../Components/Modals/ErroreNotFound';\r\n\r\nexport default class Societa extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_soc = props.match.params.id;\r\n\r\n        // CACHED THINGS\r\n        this.cached_soc = getSocieta(this.id_soc);\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n        this.error = (this.cached_soc === undefined);\r\n        if (this.error) this.cached_soc = { logo: \"\", nome: \"Societ\", id: 1 }\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Campionati\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            recenti: [],\r\n            recenti_load: false,\r\n            future: [],\r\n            future_load: false,\r\n            incorso: [],\r\n            incorso_load: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = this.cached_soc.nome + \" - HockeyPista 2.0\";\r\n\r\n        if (!this.error) {\r\n            CaricaPartite.PerSocieta(this.id_soc, true, (array) => {\r\n                this.state.incorso = array.in_corso;\r\n                this.state.recenti = array.recenti;\r\n                this.state.future = array.future;\r\n                this.setState({ incorso_load: true, recenti_load: true, future_load: true });\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {(!this.error) ? null : <ErroreNotFound title=\"Societ non trovata\" callBack={() => { this.props.history.goBack(); }} />}\r\n                <Navbar title={this.cached_soc.nome} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"d-flex flex-column flex-sm-row align-items-sm-center\">\r\n                                                <div className=\"p-2 text-center\">\r\n                                                    <img src={this.cached_soc.logo} style={{ height: \"110px\" }} alt={this.cached_soc.small} />\r\n                                                </div>\r\n                                                <div className=\"p-2 d-none d-sm-block text-left\">\r\n                                                    <h3><b>{this.cached_soc.nome}</b></h3>\r\n                                                    <h5 className=\"m-0\">Codice societ: <b>{this.cached_soc.id}</b></h5>\r\n                                                </div>\r\n                                                <div className=\"d-block d-sm-none text-center\">\r\n                                                    <h3><b>{this.cached_soc.nome}</b></h3>\r\n                                                    <h5 className=\"m-0\">Codice societ: <b>{this.cached_soc.id}</b></h5>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Card title=\"situazione nelle classifiche\">\r\n                                {\r\n                                    (this.error) ? null : <ClassificaSocieta {...this.cached_soc} />\r\n                                }\r\n                            </Card>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <Card title=\"partite in corso\">\r\n                                {\r\n                                    (!this.state.incorso_load) ? <Loader /> :\r\n                                        (this.state.incorso.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in corso</i></p> :\r\n                                            this.state.incorso.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </Card>\r\n                            <Card title=\"partite recenti\">\r\n                                {\r\n                                    (!this.state.recenti_load) ? <Loader /> :\r\n                                        (this.state.recenti.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita recente</i></p> :\r\n                                            this.state.recenti.map((e, i) => <Partita key={i} {...e} />)\r\n                                }\r\n                            </Card>\r\n                            <Card title=\"partite in programma\">\r\n                                {\r\n                                    (!this.state.future_load) ? <Loader /> :\r\n                                        (this.state.future.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita in programa</i></p> :\r\n                                            this.state.future.map((e, i) => {\r\n                                                e.idp = undefined;\r\n                                                return <Partita key={i} {...e} />\r\n                                            })\r\n                                }\r\n                            </Card>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction Card(props) {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h5 className=\"card-title text-uppercase\">{props.title}</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div>\r\n                            {props.children}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Squadra(props) {\r\n    return (\r\n        <div className=\"col col-6 col-sm-4 col-md-3 col-lg-4 col-xl-3\">\r\n            <Link to={\"/squadra/\" + props.id} className=\"link-unstyled\">\r\n                <div className=\"card card-body p-2 highlight\" style={{ margin: \"0.25rem\", borderRadius: \"10px\" }}>\r\n                    <img src={props.logo} style={{ margin: \"0 auto\", height: \"40px\" }} alt={props.abbr} />\r\n                    <h5 className=\"mb-0 mt-1 text-center\">{props.abbr} ({props.camp_abb})</h5>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport '../Components/Calendario/Calendario.css'\r\n\r\n// CACHE\r\nimport { getCacheArray } from '../Cache/CacheCommons'\r\nimport { getSocieta } from '../Cache/CacheSocieta'\r\nimport { getCachedSquadra } from '../Cache/CacheSquadra'\r\n\r\n// API\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\n\r\n// COMPONENTS\r\nimport Navbar from '../Components/Varie/Navbar'\r\nimport { CampSmall as Campionato } from '../Components/Campionati/CampSmall'\r\nimport Partita from '../Components/Calendario/Partita'\r\nimport HomeCard from '../Components/Salvati/HomeCard'\r\nimport Squadra from '../Components/Salvati/Squadra'\r\nimport Societa from '../Components/Salvati/Societa'\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati'\r\nimport { CaricaPartita } from '../Middleware/MwPartita'\r\n\r\nexport default class Salvati extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n        this.salvati = getCacheArray(\"ns_salvati\");\r\n\r\n        // COMPONENT PARAMS\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Salvati\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            societa: this.salvati.filter(e => (e.indexOf(\"/societa/\") === 0)).map(e => { return parseInt(e.replace(\"/societa/\", \"\")); }),\r\n            squadre: this.salvati.filter(e => (e.indexOf(\"/squadra/\") === 0)).map(e => { return parseInt(e.replace(\"/squadra/\", \"\")); }),\r\n            partiteID: this.salvati.filter(e => (e.indexOf(\"/partita/\") === 0)).map(e => { return parseInt(e.replace(\"/partita/\", \"\")); }),\r\n            partite: [],\r\n            campionati: this.salvati.filter(e => (e.indexOf(\"/campionato/\") === 0)).map(e => { return parseInt(e.replace(\"/campionato/\", \"\")); })\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Salvati - HockeyPista 2.0\";\r\n\r\n        // caricamento partite\r\n        this.state.partiteID.forEach(id => {\r\n            CaricaPartita.Partita(id, (partita) => {\r\n                this.setState(prev => {\r\n                    return { partite: prev.partite.concat(partita) }\r\n                });\r\n            }, () => { });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title=\"ELEMENTI SALVATI\" active={\"Salvati\"} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">PARTITE</h5>\r\n                                {\r\n                                    (this.state.partite.length == 0) ? <p className=\"m-2 text-center\"><i>Nessuna partita salvata</i></p> :\r\n                                        this.state.partite.map((e, i) => {\r\n                                            let p = {\r\n                                                idp: e.id,\r\n                                                day: e.date.day, hour: e.date.hour,\r\n                                                campAbbr: e.campionato.abbr,\r\n                                                score: (\"\" + e.goalsA + \" - \" + e.goalsB),\r\n                                                teamA: { logo: e.teamA.logo, smallname: e.teamA.small, fullname: e.teamA.nome.toUpperCase() },\r\n                                                teamB: { logo: e.teamB.logo, smallname: e.teamB.small, fullname: e.teamB.nome.toUpperCase() }\r\n                                            }\r\n                                            return <Partita key={i} {...p} />\r\n                                        })\r\n                                }\r\n                            </HomeCard>\r\n\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">SQUADRE</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.squadre.map((id, i) => {\r\n                                            let obj = getCachedSquadra(id);\r\n                                            return <Squadra key={i} {...obj} />\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                        <div className=\"col col-12 col-lg-6\">\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">CAMPIONATI</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.campionati.map((id, i) => {\r\n                                            let obj = CaricaCampionati.GetByID(id);\r\n                                            return ((obj != null) ? <Campionato key={i} {...obj} /> : <></>);\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                            <HomeCard>\r\n                                <h5 className=\"card-title\">SOCIET&Agrave;</h5>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        this.state.societa.map((id, i) => {\r\n                                            let obj = getSocieta(id);\r\n                                            return <Societa key={i} {...obj} />\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </HomeCard>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/guida_1.b0c6168f.jpg\";","export default __webpack_public_path__ + \"static/media/guida_2.cc2284fd.jpg\";","export default __webpack_public_path__ + \"static/media/guida_3.03e54259.jpg\";","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport Navbar from '../Components/Varie/Navbar';\r\n\r\nimport guida_1 from '../assets/guida/guida_1.jpg'\r\nimport guida_2 from '../assets/guida/guida_2.jpg'\r\nimport guida_3 from '../assets/guida/guida_3.jpg'\r\n\r\nexport default class Guida extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n\r\n        // COMPONENT PARAMS\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Guida\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    render() {\r\n        const img_style = {\r\n            height: \"100%\",\r\n            maxHeight: \"400px\",\r\n            width: \"auto\",\r\n            margin: \"0 auto\",\r\n            border: \"1px solid #ccc\"\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <Navbar title={\"Risultati Hockey pista\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h2 className=\"m-0 p-0\">Attivazione del sito</h2>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <p>Purtroppo, a causa di un problema esterno a questa piattaforma e causato dal sito originale,  necessario eseguire i seguenti passaggi per poter utilizzare Hockeypista 2.0.</p>\r\n\r\n                            <div className=\"alert alert-warning\">\r\n                                <b>Attenzione</b>: questa operazione non compromette la sicurezza del tuo dispositivo. Ma, in ogni caso, se non ti fidi, non procedere.\r\n                                 Purtroppo, per, se non procedi non potrai usufruire di Hockeypista 2.0.\r\n                            </div>\r\n\r\n                            <h4 className=\"mt-4\">0. Se possibile, utilizza Google Chrome</h4>\r\n                            <p>Specialmente se stai utilizzando questa piattaforma su smartphone e/o tablet, utilizza Google Chrome come browser.</p>\r\n                            <p>L'utilizzo di altri browser <i>potrebbe</i> portare a comportamenti indesiderati da parte della piattaforma.</p>\r\n\r\n                            <h4 className=\"mt-4\">1. Apri il link di attivazione</h4>\r\n                            <p>Clicca sul seguente pulsante rosso a fondo pagina. Si aprir una nuova scheda. Vai in quella scheda.</p>\r\n\r\n                            <h4 className=\"mt-4\">2. Aggira l'avviso di sicurezza</h4>\r\n                            <p>Il browser mostrer un avviso di sicurezza come quello della prima foto.</p>\r\n                            <ol>\r\n                                <li>Clicca su \"avanzate\".</li>\r\n                                <li>Clicca su \"Procedi\".</li>\r\n                                <li>Nel momento in cui visualizzi la pagina bianca, hai completato la procedura. Puoi chiudere la scheda e tornare su questa pagina.</li>\r\n                            </ol>\r\n                            <div className=\"row\">\r\n                                <div className=\"col col-12 col-md-4 text-center\">\r\n                                    <img src={guida_1} alt=\"guida 1\" style={img_style} />\r\n                                    <p className=\"m-0 p-0 pb-2\" style={{ fontSize: \"0.8em\" }}>Passaggio 1</p>\r\n                                </div>\r\n                                <div className=\"col col-12 col-md-4 text-center\">\r\n                                    <img src={guida_2} alt=\"guida 2\" style={img_style} />\r\n                                    <p className=\"m-0 p-0 pb-2\" style={{ fontSize: \"0.8em\" }}>Passaggio 2</p>\r\n                                </div>\r\n                                <div className=\"col col-12 col-md-4 text-center\">\r\n                                    <img src={guida_3} alt=\"guida 3\" style={img_style} />\r\n                                    <p className=\"m-0 p-0 pb-2\" style={{ fontSize: \"0.8em\" }}>Passaggio 3</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <h4 className=\"mt-4\">3. Utilizza HockeyPista 2.0</h4>\r\n                            <p>A questo punto, la piattaforma  attiva e puoi iniziare ad utilizzarla.</p>\r\n\r\n                            <hr />\r\n                            <a href=\"https://www.server2.sidgad.es/fisr/fisr_ls_1.php\" target=\"blank\" className=\"btn btn-danger m-1\">\r\n                                Procedi con l'attivazione\r\n                            </a>\r\n                            <Link to=\"/\" className=\"btn btn-primary m-1\">Vai alla home</Link>\r\n\r\n                            <hr />\r\n                            <p>\r\n                                Per segnalare malfunzionamenti e/o bug, utilizza la scheda <a href=\"https://github.com/gvischio/hockeypista/issues\">issues</a> della repository di github.\r\n                            </p>\r\n                            <p>\r\n                                Sei un po' nerd anche tu e vuoi contribuire a questo progetto? Richiedi di collaborare alla repository!\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\n\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\n\r\nimport { creaSocieta } from '../Cache/CacheSocieta';\r\nimport { getCachedVisCamp, getCachedVisSocieta } from '../Cache/CacheVisualizzazioni';\r\n\r\nimport GestisciCampionati from '../Components/Modals/GestisciCampionati';\r\nimport GestisciSocieta from '../Components/Modals/GestisciSocieta';\r\n\r\nimport Navbar from '../Components/Varie/Navbar'\r\n\r\nexport default class Impostazioni extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // URL PARAMS\r\n\r\n        // CACHED THINGS\r\n\r\n        // COMPONENT PARAMS\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Impostazioni\";\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            campionati: CaricaCampionati.GetCached(),\r\n            societa: creaSocieta(),\r\n            showCampionati: getCachedVisCamp(),\r\n            showSocieta: getCachedVisSocieta(),\r\n            showCampionati_modal: false,\r\n            showSocieta_modal: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Impostazioni - HockeyPista 2.0\";\r\n    }\r\n\r\n    updateVisCampionato() {\r\n        this.state.showCampionati = getCachedVisCamp();\r\n        this.setState({ showCampionati_modal: false });\r\n    }\r\n\r\n    updateVisSocieta() {\r\n        this.state.showSocieta = getCachedVisSocieta();\r\n        this.setState({ showSocieta_modal: false });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={\"Risultati Hockey pista\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col col-12 col-md-6 col-lg-4\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body text-center\">\r\n                                    <h1 className=\"m-0 text-primary\">\r\n                                        <i className=\"fas fa-tools\"></i>\r\n                                    </h1>\r\n                                    <h4>\r\n                                        Attivazione del sito\r\n                                    </h4>\r\n                                    <span>Per attivare completamente il sito,  necessario eseguire un paio di passaggi</span>\r\n                                    <br />\r\n                                    <Link to=\"/guida\" className=\"btn btn-primary btn-sm mt-3\">\r\n                                        consulta la guida\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-md-6 col-lg-4\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body text-center\">\r\n                                    <h1 className=\"m-0 text-primary\">\r\n                                        <i className=\"fas fa-paint-brush\"></i>\r\n                                    </h1>\r\n                                    <h4>\r\n                                        Personalizza Homepage\r\n                                        </h4>\r\n                                    <span>Permette di selezionare gli elementi da visualizzare nella schermata home</span>\r\n                                    <br />\r\n                                    <button className=\"btn btn-primary btn-sm d-inline-block mr-1 mt-3\" onClick={() => { this.setState({ showCampionati_modal: true }) }}>\r\n                                        campionati\r\n                                    </button>\r\n                                    <button className=\"btn btn-primary btn-sm d-inline-block ml-1 mt-3\" onClick={() => { this.setState({ showSocieta_modal: true }) }}>\r\n                                        societ\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col col-12 col-md-6 col-lg-4\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body text-center\">\r\n                                    <h1 className=\"m-0 text-primary\">\r\n                                        <i className=\"fas fa-calendar-minus\"></i>\r\n                                    </h1>\r\n                                    <h4>\r\n                                        Seleziona stagione\r\n                                        </h4>\r\n                                    <span><i>Funzionalit in arrivo</i></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    (this.state.showCampionati_modal) ?\r\n                        <GestisciCampionati callback={() => this.updateVisCampionato()} camp={this.state.campionati} show={this.state.showCampionati} /> : null\r\n                }\r\n                {\r\n                    (this.state.showSocieta_modal) ?\r\n                        <GestisciSocieta callback={() => this.updateVisSocieta()} soc={this.state.societa} show={this.state.showSocieta} /> : null\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GtagInitialize from '../API/ApiAnalytics'\r\nimport Navbar from '../Components/Varie/Navbar';\r\n\r\nexport default class PrimoAccesso extends Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = \"Primo accesso\";\r\n        GtagInitialize();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = \"Benvenuto su HockeyPista 2.0\";\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={\"Risultati Hockey pista\"} />\r\n                <div className=\"container\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <h4>\r\n                                Benvenuti su HockeyPista 2.0!\r\n                            </h4>\r\n                            <h5>Qualche informazione per iniziare:</h5>\r\n                            <div className=\"row justify-content-center\">\r\n                                <Box title=\"Attivazione del sito.\" icon=\"fa-key\">\r\n                                    <p>\r\n                                        Il sito ha bisogno del tuo aiuto per funzionare!\r\n                                    </p>\r\n                                    <p>\r\n                                        Quando visualizzi l'avviso che dice che il sito non  attivo, segui i passaggi della guida per riattivarlo.\r\n                                    </p>\r\n                                    <p>\r\n                                        Purtroppo, a causa di un problema esterno a questo sito, l'operazione dovr essere ripetuta circa una volta a settimana, a seconda del browser che usi.\r\n                                    </p>\r\n                                </Box>\r\n                                <Box title=\"Installa il sito come applicazione.\" icon=\"fa-cloud-download-alt\">\r\n                                    <p>\r\n                                        Puoi salvare questo sito come applicazione per accederci in modo pi veloce, specialmente da smartphone.\r\n                                    </p>\r\n                                    <p>\r\n                                        Per farlo, vai nel men del browser e clicca su \"Aggiungi a schermata home\".\r\n                                    </p>\r\n                                </Box>\r\n                                <Box title=\"Prima attivazione.\" icon=\"fa-key\">\r\n                                    <p>\r\n                                        Puoi effettuare gi adesso la prima attivazione del sito, cos da iniziare ad usare subito HockeyPista2.0\r\n                                    </p>\r\n                                    <Link to=\"/guida\" className=\"btn btn-outline-primary\">Leggi la guida</Link>\r\n                                </Box>\r\n                            </div>\r\n                            <div className=\"w-100 text-center mt-4\">\r\n                                <Link to=\"/\" className=\"btn btn-primary w-100 text-uppercase\" style={{ maxWidth: \"300px\" }}>Vai al sito</Link>\r\n                            </div>\r\n                            <div className=\"alert alert-warning mt-4\" role=\"alert\">\r\n                                <h6 className=\"font-weight-bold\">\r\n                                    <i className=\"fas fa-exclamation-triangle\"></i> &nbsp; Disclaimer.\r\n                                </h6>\r\n                                <p>\r\n                                    HockeyPista 2.0  una piattaforma alternativa non ufficiale per la visualizzazione dei campionati e dei risultati delle partite di hockey su pista in Italia.\r\n                                </p>\r\n                                <p>\r\n                                    HockeyPista 2.0 utilizza i contenuti pubblicamente disponibili sulla <a href=\"http://hockeypista.fisr.it/\">piattaforma ufficiale</a>, rielaborandoli solamente in veste grafica.\r\n                                </p>\r\n                                <p>\r\n                                    HockeyPista 2.0  un progetto ancora in fase sperimentale, pertanto alcuni contenuti potrebbero non essere consistenti, mostrare errori di presentazione e/o di elaborazione.\r\n                                    Se riscontri qualche errore importante, puoi segnalarlo <a href=\"https://github.com/gvischio/hockeypista/issues\">qui</a>.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"fixed-bottom alert alert-info p-2 m-0\" style={{ fontSize: \"0.8em\", right: \"auto\", maxWidth: \"100%\" }}>\r\n                    Questo sito utilizza cookies per mantenere le impostazioni e statistiche di utilizzo. &nbsp;\r\n                    <a href=\"https://www.privacypolicygenerator.info/live.php?token=1eJBVqZZhFACHNQ5Afz4kAufyuWHMUWo\">\r\n                        Scopri di pi\r\n                    </a>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Box(props) {\r\n    return (\r\n        <div className=\"col col-12 col-md-6 col-lg-4\">\r\n            <div className=\"card card-body\" style={{ height: \"calc(100% - 0.5rem)\" }}>\r\n                <h6 className=\"font-weight-bold\">\r\n                    <i className={\"fas text-primary \" + props.icon}></i> &nbsp;\r\n                    {props.title}</h6>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import $ from 'jquery'\r\nimport { getSocieta } from '../Cache/CacheSocieta';\r\nimport { extractSocietaID } from '../Cache/CacheSquadra';\r\nimport { CaricaCampionati } from '../Middleware/MwCampionati';\r\nimport { extractProp, parseCompleteTag, parseIsleTag, polishString, prepareURLforProxy, removeComments, removeTags } from './commons';\r\n\r\nfunction GIOCATORE() {\r\n    return {\r\n        nome: \"\", foto: \"\", id: 0,\r\n        nazione: { img: \"\", testo: \"\" },\r\n        data_nascita: \"\", eta: 0,\r\n        societa: { nome: \"\", logo: \"\", ids: 0 },\r\n        campionati: []\r\n    }\r\n}\r\n\r\nfunction CAMPIONATO() {\r\n    return {\r\n        nome: \"\",\r\n        id: 0,\r\n        partite: []\r\n    }\r\n}\r\n\r\nexport default function ApiGiocatore(idpl, stagione, then) {\r\n    $(\"body\").append(\"<div id='retrieveSquadra\" + stagione + \"' style='display: none'></div>\");\r\n    $.ajax({\r\n        method: \"POST\",\r\n        url: prepareURLforProxy(\"fisr_profileseason_1_\" + stagione + \".php\"),\r\n        data: { idm: 1, idc: 0, id_player: idpl, team_id: 0 },\r\n        success: (data) => {\r\n\r\n            // return object\r\n            var giocatore = new GIOCATORE();\r\n            var container = $(\"#retrieveSquadra\" + stagione);\r\n\r\n            // polish string\r\n            data = removeComments(polishString(data));\r\n\r\n            // retrieve 3 components\r\n            var primo = data.substr(0, data.indexOf('<div class=\"header_player_profile_name\">'));\r\n            data = data.replace(primo, \"\");\r\n            var secondo = data.substr(0, data.indexOf('<table class=\"tabla_basic\">'));\r\n            var terzo = data.replace(secondo, \"\");\r\n\r\n            // from second component -> nome cognome\r\n            giocatore.nome = removeTags(removeTags(secondo, \"span\", true, false), \"div\", true, false);\r\n\r\n            // from first component\r\n            primo = primo.replace(primo.substr(0, primo.indexOf('<div class=\"player_profile_picture\"')), \"\");\r\n            var blocco1 = primo.substr(0, primo.indexOf('<div class=\"player_profile_data_right\"'));\r\n            primo = primo.replace(blocco1, \"\");\r\n\r\n            // player photo\r\n            var supp = extractProp(parseCompleteTag(blocco1), \"style\");\r\n            supp = supp.substr(supp.indexOf('(') + 1);\r\n            giocatore.foto = supp.substr(0, supp.indexOf(')'));\r\n\r\n            // informazioni del giocatore\r\n            container.html(primo);\r\n            var divs = container.find(\"div\");\r\n            giocatore.id = idpl;\r\n            try {\r\n                giocatore.nazione.img = extractProp(parseIsleTag($(divs[5]).html()), \"src\");\r\n                giocatore.nazione.testo = $(divs[6]).html().trim().toLowerCase();\r\n            } catch (e) { }\r\n            try {\r\n                giocatore.data_nascita = $(divs[7]).html().trim();\r\n                giocatore.eta = parseInt($(divs[8]).html().trim());\r\n            } catch (e) { }\r\n\r\n            // societ\r\n            try {\r\n                giocatore.societa.logo = extractProp(parseIsleTag($(divs[12]).html()), \"src\");\r\n                let soc = getSocieta(parseInt(extractSocietaID(giocatore.societa.logo)))\r\n                giocatore.societa.nome = soc.nome;\r\n                giocatore.societa.ids = parseInt(soc.id);\r\n            } catch (e) {\r\n                try {\r\n                    giocatore.societa.nome = $(divs[13]).html().trim();\r\n                } catch (e) {\r\n                    giocatore.societa.nome = \"not found\";\r\n                }\r\n            }\r\n\r\n            // PARTITE DEI CAMPIONATI\r\n            container.html(terzo);\r\n            var head = container.find(\"thead\");\r\n            var body = container.find(\"tbody\");\r\n\r\n            var def = (value, defa) => {\r\n                value = value.trim();\r\n                if (value === \"\") return defa;\r\n                return value;\r\n            };\r\n\r\n            for (var i = 0; i < body.length; i++) {\r\n                var camp = CAMPIONATO();\r\n                try {\r\n                    camp.nome = removeTags(removeTags(removeTags($(head[2 * i]).html(), \"div\", true, false), \"th\", true, false), \"tr\", true, false);\r\n                    camp.id = CaricaCampionati.GetByName(camp.nome).id;\r\n                } catch (e) { }\r\n\r\n                var righe = $(body[i]).find(\"tr\");\r\n                for (var j = 1; j < righe.length; j++) {\r\n                    var celle = $(righe[j]).find(\"td\");\r\n                    var partita = { squadraA: \"\", squadraB: \"\", data: \"\", risultato: \"\", goal: 0, assist: 0, blu: 0, rossi: 0, diretti: \"\", rigori: \"\" };\r\n\r\n                    partita.data = $(celle[0]).html();\r\n                    partita.squadraA = removeTags($(celle[1]).html(), \"span\", true, false);\r\n                    partita.risultato = $(celle[2]).html().replace(\":\", \" - \");\r\n                    partita.squadraB = removeTags($(celle[3]).html(), \"span\", true, false);\r\n                    partita.goal = def($(celle[4]).html(), 0);\r\n                    partita.assist = def($(celle[5]).html(), 0);\r\n                    partita.rigori = def($(celle[6]).html(), \"0/0\");\r\n                    partita.diretti = def($(celle[7]).html(), \"0/0\");\r\n                    partita.blu = def($(celle[8]).html(), 0);\r\n                    partita.rossi = def($(celle[9]).html(), 0);\r\n\r\n                    camp.partite.push(partita);\r\n                }\r\n                giocatore.campionati.push(camp);\r\n            }\r\n\r\n            container.remove();\r\n            then(giocatore);\r\n        }\r\n    })\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { titleCase } from '../../API/commons';\r\n\r\nexport default function Campionato(props) {\r\n\r\n    // statistiche cumulative\r\n    var tot = { presenze: 0, goal: 0, assist: 0, direttiA: 0, direttiB: 0, rigoriA: 0, rigoriB: 0, blu: 0, rossi: 0 };\r\n    props.partite.map(p => {\r\n        tot.presenze++;\r\n        tot.goal += parseInt(p.goal);\r\n        tot.assist += parseInt(p.assist);\r\n        let rig = p.rigori.split('/');\r\n        tot.rigoriA += parseInt(rig[0]);\r\n        tot.rigoriB += parseInt(rig[1]);\r\n        let dir = p.diretti.split('/');\r\n        tot.direttiA += parseInt(dir[0]);\r\n        tot.direttiB += parseInt(dir[1]);\r\n        tot.blu += parseInt(p.blu);\r\n        tot.rossi += parseInt(p.rossi);\r\n    });\r\n\r\n    // rendering\r\n    return (\r\n        <>\r\n            <Link to={\"/campionato/\" + props.id} className=\"link-black\">\r\n                <h5 className=\"text-center\">{titleCase(props.nome).replace(/ E /g, \" e \")}</h5>\r\n            </Link>\r\n            <table className=\"table table-striped table-bordered table-squadra\">\r\n                <thead className=\"thead-light\">\r\n                    <tr style={{ borderBottom: \"2px solid rgb(187, 187, 187)\" }}>\r\n                        <th className=\"col1 d-none d-md-table-cell\"></th>\r\n                        <th className=\"col2\"></th>\r\n                        <th className=\"col3\">Gol</th>\r\n                        <th className=\"col4\">Ass</th>\r\n                        <th className=\"col5\">Rig</th>\r\n                        <th className=\"col6\">Dir</th>\r\n                        <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"blue\" }}></i></th>\r\n                        <th className=\"col7\"><i className=\"fas fa-square\" style={{ color: \"red\" }}></i></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        props.partite.map((e, i) => <Partita {...e} key={i} />)\r\n                    }\r\n                </tbody>\r\n                <thead className=\"thead-light\">\r\n                    <tr style={{ borderBottom: \"2px solid rgb(187, 187, 187)\" }}>\r\n                        <th className=\"col1 d-none d-md-table-cell\"></th>\r\n                        <th className=\"col2 text-center\">{tot.presenze + \" presenz\" + (tot.presenze === 1 ? \"a\" : \"e\")}</th>\r\n                        <th className=\"col3\">{tot.goal}</th>\r\n                        <th className=\"col4\">{tot.assist}</th>\r\n                        <th className=\"col5\">{tot.rigoriA + \"/\" + tot.rigoriB}</th>\r\n                        <th className=\"col6\">{tot.direttiA + \"/\" + tot.direttiB}</th>\r\n                        <th className=\"col7\">{tot.blu}</th>\r\n                        <th className=\"col7\">{tot.rossi}</th>\r\n                    </tr>\r\n                </thead>\r\n            </table>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Partita(obj) {\r\n    var intero = (val) => {\r\n        if (val == \"0\") return <span className=\"nv\">0</span>;\r\n        return val;\r\n    }\r\n\r\n    var tiri = (val) => {\r\n        if (val == \"0/0\") return <span className=\"nv\">0/0</span>;\r\n        return val;\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td className=\"col1 d-none d-md-table-cell px-2\">{obj.data}</td>\r\n            <td>\r\n                <div className=\"d-flex justify-content-between mx-2\">\r\n                    <span style={{ width: \"30%\", textAlign: \"left\" }}>{obj.squadraA}</span>\r\n                    <span style={{ width: \"30%\", textAlign: \"center\" }}>{obj.risultato}</span>\r\n                    <span style={{ width: \"30%\", textAlign: \"right\" }}>{obj.squadraB}</span>\r\n                </div>\r\n            </td>\r\n            <td className=\"col4\">{intero(obj.goal)}</td>\r\n            <td className=\"col5\">{intero(obj.assist)}</td>\r\n            <td className=\"col6\">{tiri(obj.rigori)}</td>\r\n            <td className=\"col7\">{tiri(obj.diretti)}</td>\r\n            <td className=\"col7\">{intero(obj.blu)}</td>\r\n            <td className=\"col7\">{intero(obj.rossi)}</td>\r\n        </tr>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GtagInitialize from '../API/ApiAnalytics';\r\nimport ApiGiocatore from '../API/ApiGiocatore';\r\nimport { titleCase } from '../API/commons';\r\nimport Campionato from '../Components/Giocatori/Campionato.giocatori';\r\n\r\nimport Navbar from '../Components/Varie/Navbar';\r\nimport { CaricaSquadra } from '../Middleware/MwSquadra';\r\n\r\nexport default class Giocatore extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n\r\n        // URL PARAMS\r\n        this.id_gioc = parseInt(props.match.params.id);\r\n\r\n        // CACHED THINGS\r\n        this.cached = CaricaSquadra.Giocatore(this.id_gioc);\r\n\r\n        // COMPONENT PARAMS\r\n        this.path = props.location.pathname;\r\n        this.pastSeasons = [\r\n            { year: \"2019/2020\", value: 27 },\r\n            { year: \"2018/2019\", value: 25 }\r\n        ]\r\n        this.title = (this.cached !== null ? titleCase(this.cached.nome) : \"Giocatore\");\r\n\r\n        // TITLE AND ANALYTICS\r\n        document.title = this.title;\r\n        GtagInitialize();\r\n\r\n        // SETTING STATE\r\n        this.state = {\r\n            giocatore: {\r\n                nome: \"\",\r\n                foto: \"\",\r\n                id: 0,\r\n                nazione: { img: \"\", testo: \"\" },\r\n                data_nascita: \"\",\r\n                eta: 0,\r\n                societa: { nome: \"\", logo: \"\" },\r\n                campionati: []\r\n            },\r\n            countSeason: -1,\r\n            past: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        document.title = this.title + \" - HockeyPista 2.0\";\r\n\r\n        ApiGiocatore(this.id_gioc, 29, (obj) => {\r\n            this.setState({\r\n                giocatore: obj\r\n            });\r\n        });\r\n        this.pastSeasons.map((e, i) => {\r\n            ApiGiocatore(this.id_gioc, e.value, (obj) => {\r\n                this.state.past.push({\r\n                    societa: obj.societa.nome,\r\n                    logo: obj.societa.logo,\r\n                    stagione: e.year,\r\n                    ids: obj.societa.ids\r\n                });\r\n                this.setState({ countSeason: i });\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar title={this.title} canBeSaved={true} path={this.path} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <Col>\r\n                            <Card>\r\n                                <div className=\"d-flex flex-column flex-sm-row align-items-sm-center\">\r\n                                    <div className=\"p-2 text-center\">\r\n                                        <img src={this.state.giocatore.foto} style={{ height: \"150px\", borderRadius: \"5px\" }} alt={\"giocatore\"} />\r\n                                    </div>\r\n                                    <div className=\"p-2 d-none d-sm-block text-left\">\r\n                                        <h3><b>{this.state.giocatore.nome.toUpperCase()}</b></h3>\r\n                                        <h5>Data di nascita: {this.state.giocatore.data_nascita} ({this.state.giocatore.eta})</h5>\r\n                                        <h5 className=\"m-0\">Nazionalit: {this.state.giocatore.nazione.testo}</h5>\r\n                                    </div>\r\n                                    <div className=\"d-block d-sm-none text-center\">\r\n                                        <h3><b>{this.state.giocatore.nome.toUpperCase()}</b></h3>\r\n                                        <h5>Data di nascita: {this.state.giocatore.data_nascita} ({this.state.giocatore.eta})</h5>\r\n                                        <h5 className=\"m-0\">Nazionalit: {this.state.giocatore.nazione.testo}</h5>\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card>\r\n                                <div className=\"d-flex flex-column flex-sm-row align-items-sm-center\">\r\n                                    <div className=\"p-2 text-center\">\r\n                                        <img src={this.state.giocatore.societa.logo} style={{ height: \"80px\" }} alt={this.state.giocatore.societa.nome} />\r\n                                    </div>\r\n                                    <div className=\"p-2 d-none d-sm-block text-left\">\r\n                                        <Link to={\"/societa/\" + this.state.giocatore.societa.ids} className=\"link-black\">\r\n                                            <h4 className=\"font-weight-bold m-0 ml-2\">{this.state.giocatore.societa.nome}</h4>\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"d-block d-sm-none text-center\">\r\n                                        <Link to={\"/societa/\" + this.state.giocatore.societa.ids} className=\"link-black\">\r\n                                            <h4 className=\"font-weight-bold m-0\">{this.state.giocatore.societa.nome}</h4>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card>\r\n                                <h4>Stagioni precedenti</h4>\r\n                                {\r\n                                    this.state.past.sort((a, b) => (a.stagione > b.stagione) ? -1 : 1).map((e, i) => (e.societa !== \"not found\") ? <PastSeason {...e} key={i} /> : null)\r\n                                }\r\n                            </Card>\r\n                        </Col>\r\n                        <Col>\r\n                            {\r\n                                this.state.giocatore.campionati.sort((a, b) => (a.id > b.id ? 1 : -1))\r\n                                    .map((c, i) => <Card key={i}><Campionato {...c} /></Card>)\r\n                            }\r\n                        </Col>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Col(props) {\r\n    return (\r\n        <div className=\"col col-12 col-lg-6\">\r\n            <div className=\"row\">\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Card(props) {\r\n    return (\r\n        <div className=\"col col-12\">\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction PastSeason(props) {\r\n    if (props.ids !== 0 && props.ids !== undefined) {\r\n        return (\r\n            <div className=\"d-flex align-items-center justify-content-start p-2\">\r\n                <img src={props.logo} style={{ height: \"45px\", width: \"auto\" }} alt=\"\" />\r\n                <div className=\"ml-3\">\r\n                    <Link to={\"/societa/\" + props.ids} className=\"link-black\">\r\n                        <h5 className=\"m-0\">{props.societa.toUpperCase()}</h5>\r\n                    </Link>\r\n                    <span className=\"text-muted\">{props.stagione}</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"d-flex align-items-center justify-content-start p-2\">\r\n                <img src={props.logo} style={{ height: \"45px\", width: \"auto\" }} alt=\"\" />\r\n                <div className=\"ml-3\">\r\n                    <h5 className=\"m-0\">{props.societa.toUpperCase()}</h5>\r\n                    <span className=\"text-muted\">{props.stagione}</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/logo_512.1d77acbf.jpg\";","import React, { Component } from 'react'\r\nimport { CaricaPartite } from './Middleware/MwInCorso';\r\nimport logo from \"./assets/logo_512.jpg\"\r\n\r\nexport default function SplashScreen(WrappedComponent) {\r\n    return class extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n\r\n            // per mostrare la splach solo al primo caricamento\r\n            // (almeno in web, vedremo su mobile)\r\n            let count = 0;\r\n            try {\r\n                let x = (sessionStorage.getItem(\"logged\"));\r\n                if (x !== null) count = parseInt(x);\r\n            } catch (e) { }\r\n            count++;\r\n            sessionStorage.setItem(\"logged\", count);\r\n            this.state = {\r\n                loading: (count <= 2),\r\n                messaggio: \".. caricamento ..\"\r\n            };\r\n        }\r\n\r\n        componentDidMount() {\r\n            window.scrollTo(0, 0);\r\n            document.title = \"Homepage - HockeyPista 2.0\";\r\n\r\n            setTimeout(() => { this.messaggio(-1) }, 1200);\r\n\r\n            CaricaPartite.Tutte(true, () => { this.setState({ loading: false }) }, () => { });\r\n        }\r\n\r\n        messaggi = [\r\n            \".. carico i campionati ..\",\r\n            \".. time-out per la squadra di casa ..\",\r\n            \".. scelgo con che pallina giocare ..\",\r\n            \".. appello delle squadre ..\",\r\n            \".. riscaldamento dei giocatori ..\",\r\n            \".. la telecamera non era accesa, ricominciamo ..\"\r\n        ]\r\n\r\n        messaggio(prev) {\r\n            let max = this.messaggi.length;\r\n            let next = 0;\r\n            do {\r\n                next = Math.floor(Math.random() * max);\r\n            } while (next == prev);\r\n            this.setState({ messaggio: this.messaggi[next] });\r\n            setTimeout(() => { this.messaggio(next); }, 750 + (Math.random() * 750));\r\n        }\r\n\r\n        render() {\r\n            // while checking user session, show \"loading\" message\r\n            if (this.state.loading) return LoadingMessage(this.state.messaggio);\r\n\r\n            // otherwise, show the desired route\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    }\r\n}\r\n\r\nfunction LoadingMessage(msg) {\r\n    return (\r\n        <div className=\"container p-2\" style={{ height: \"100vh\", alignItems: 'middle' }}>\r\n            <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\r\n                <div className=\"card card-body text-center\" style={{ width: 'auto', maxWidth: '300px' }} >\r\n                    <div className=\"m-auto p-3\" style={{ width: 'auto', maxWidth: '200px' }}>\r\n                        <img src={logo} className=\"rounded w-100\" />\r\n                        <br />\r\n                        <h3><strong>HockeyPista 2.0</strong></h3>\r\n                    </div>\r\n                    <div className=\"m-auto p-3 w-100\">\r\n                        <div className=\"spinner-border text-primary \" role=\"status\" style={{ height: '50px', width: '50px', fontSize: '1.4em' }}> </div>\r\n                    </div>\r\n                    <div className=\"m-auto p-3 w-100 text-muted font-italic\" style={{ height: '96px' }}>\r\n                        {msg}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react';\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './assets/global.css'\n\nimport Calendario from './Pages/Calendario';\nimport Campionati from './Pages/Campionati';\nimport Campionato from './Pages/Campionato';\nimport Home from './Pages/Home';\nimport Partita from './Pages/Partita';\nimport Squadra from './Pages/Squadra';\nimport SocietaAll from './Pages/SocietaAll';\nimport Societa from './Pages/Societa';\nimport Salvati from './Pages/Salvati';\nimport Guida from './Pages/Guida';\nimport Impostazioni from './Pages/Impostazioni';\nimport PrimoAccesso from './Pages/PrimoAccesso';\nimport Giocatore from './Pages/Giocatore';\n\nimport SplashScreen from './SplashScreen';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Router basename=\"/\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t\t<Route path=\"/calendario/:id\" component={Calendario} />\n\t\t\t\t\t\t<Route path=\"/campionati\" component={Campionati} />\n\t\t\t\t\t\t<Route path=\"/campionato/:id\" component={Campionato} />\n\t\t\t\t\t\t<Route path=\"/partita/:id\" component={Partita} />\n\t\t\t\t\t\t<Route path=\"/squadra/:id\" component={Squadra} />\n\t\t\t\t\t\t<Route exact path=\"/societa\" component={SocietaAll} />\n\t\t\t\t\t\t<Route path=\"/societa/:id\" component={Societa} />\n\t\t\t\t\t\t<Route path=\"/giocatore/:id\" component={Giocatore} />\n\t\t\t\t\t\t<Route path=\"/salvati\" component={Salvati} />\n\t\t\t\t\t\t<Route path=\"/guida\" component={Guida} />\n\t\t\t\t\t\t<Route path=\"/impostazioni\" component={Impostazioni} />\n\t\t\t\t\t\t<Route path=\"/primoaccesso\" component={PrimoAccesso} />\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default SplashScreen(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}